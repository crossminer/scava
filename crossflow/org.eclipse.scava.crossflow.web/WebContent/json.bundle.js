/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 235);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var container_1=__webpack_require__(122);exports.Container=container_1.Container;var container_module_1=__webpack_require__(123);exports.ContainerModule=container_module_1.ContainerModule;var injectable_1=__webpack_require__(112);exports.injectable=injectable_1.injectable;var tagged_1=__webpack_require__(117);exports.tagged=tagged_1.tagged;var named_1=__webpack_require__(114);exports.named=named_1.named;var inject_1=__webpack_require__(111);exports.inject=inject_1.inject;var optional_1=__webpack_require__(115);exports.optional=optional_1.optional;var unmanaged_1=__webpack_require__(119);exports.unmanaged=unmanaged_1.unmanaged;var multi_inject_1=__webpack_require__(113);exports.multiInject=multi_inject_1.multiInject;var target_name_1=__webpack_require__(118);exports.targetName=target_name_1.targetName;var post_construct_1=__webpack_require__(116);exports.postConstruct=post_construct_1.postConstruct;var metadata_reader_1=__webpack_require__(74);exports.MetadataReader=metadata_reader_1.MetadataReader;var guid_1=__webpack_require__(17);exports.guid=guid_1.guid;var decorator_utils_1=__webpack_require__(13);exports.decorate=decorator_utils_1.decorate;var constraint_helpers_1=__webpack_require__(77);exports.traverseAncerstors=constraint_helpers_1.traverseAncerstors,exports.taggedConstraint=constraint_helpers_1.taggedConstraint,exports.namedConstraint=constraint_helpers_1.namedConstraint,exports.typeConstraint=constraint_helpers_1.typeConstraint;var serialization_1=__webpack_require__(29);exports.getServiceIdentifierAsString=serialization_1.getServiceIdentifierAsString;

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0}),exports.TYPES={IActionDispatcher:Symbol("IActionDispatcher"),IActionDispatcherProvider:Symbol("IActionDispatcherProvider"),IActionHandlerInitializer:Symbol("IActionHandlerInitializer"),ActionHandlerRegistry:Symbol("ActionHandlerRegistry"),AnimationFrameSyncer:Symbol("AnimationFrameSyncer"),CommandStackOptions:Symbol("CommandStackOptions"),IButtonHandler:Symbol("IButtonHandler"),ICommand:Symbol("ICommand"),ICommandStack:Symbol("ICommandStack"),ICommandStackProvider:Symbol("ICommandStackProvider"),DOMHelper:Symbol("DOMHelper"),HiddenVNodeDecorator:Symbol("HiddenVNodeDecorator"),HoverState:Symbol("HoverState"),KeyListener:Symbol("KeyListener"),Layouter:Symbol("Layouter"),LayoutRegistry:Symbol("LayoutRegistry"),ILogger:Symbol("ILogger"),LogLevel:Symbol("LogLevel"),IModelFactory:Symbol("IModelFactory"),IModelLayoutEngine:Symbol("IModelLayoutEngine"),ModelRendererFactory:Symbol("ModelRendererFactory"),ModelSource:Symbol("ModelSource"),ModelSourceProvider:Symbol("ModelSourceProvider"),MouseListener:Symbol("MouseListener"),PopupModelFactory:Symbol("PopupModelFactory"),IPopupModelProvider:Symbol("IPopupModelProvider"),PopupMouseListener:Symbol("PopupMouseListener"),PopupVNodeDecorator:Symbol("PopupVNodeDecorator"),SModelElementRegistration:Symbol("SModelElementRegistration"),SModelRegistry:Symbol("SModelRegistry"),SModelStorage:Symbol("SModelStorage"),StateAwareModelProvider:Symbol("StateAwareModelProvider"),SvgExporter:Symbol("SvgExporter"),IViewer:Symbol("IViewer"),ViewerOptions:Symbol("ViewerOptions"),IViewerProvider:Symbol("IViewerProvider"),ViewRegistration:Symbol("ViewRegistration"),ViewRegistry:Symbol("ViewRegistry"),IVNodeDecorator:Symbol("IVNodeDecorator")};

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function isParent(e){var t=e.children;return void 0!==t&&t.constructor===Array}function createRandomId(e){void 0===e&&(e=8);for(var t="",n=0;n<e;n++)t+=ID_CHARS.charAt(Math.floor(Math.random()*ID_CHARS.length));return t}var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(exports,"__esModule",{value:!0});var geometry_1=__webpack_require__(3),iterable_1=__webpack_require__(70),SModelElement=function(){function e(){}return Object.defineProperty(e.prototype,"root",{get:function(){for(var e=this;e;){if(e instanceof SModelRoot)return e;e=e instanceof SChildElement?e.parent:void 0}throw new Error("Element has no root")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this.root.index},enumerable:!0,configurable:!0}),e.prototype.hasFeature=function(e){return!1},e}();exports.SModelElement=SModelElement,exports.isParent=isParent;var SParentElement=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.children=[],t}return __extends(t,e),t.prototype.add=function(e,t){var n=this.children;if(void 0===t)n.push(e);else{if(t<0||t>this.children.length)throw new Error("Child index "+t+" out of bounds (0.."+n.length+")");n.splice(t,0,e)}e.parent=this,this.index.add(e)},t.prototype.remove=function(e){var t=this.children,n=t.indexOf(e);if(n<0)throw new Error("No such child "+e.id);t.splice(n,1),delete e.parent,this.index.remove(e)},t.prototype.removeAll=function(e){var t=this,n=this.children;if(void 0!==e){for(var r=n.length-1;r>=0;r--)if(e(n[r])){var o=n.splice(r,1)[0];delete o.parent,this.index.remove(o)}}else n.forEach(function(e){delete e.parent,t.index.remove(e)}),n.splice(0,n.length)},t.prototype.move=function(e,t){var n=this.children,r=n.indexOf(e);if(-1===r)throw new Error("No such child "+e.id);if(t<0||t>n.length-1)throw new Error("Child index "+t+" out of bounds (0.."+n.length+")");n.splice(r,1),n.splice(t,0,e)},t.prototype.localToParent=function(e){return geometry_1.isBounds(e)?e:{x:e.x,y:e.y,width:-1,height:-1}},t.prototype.parentToLocal=function(e){return geometry_1.isBounds(e)?e:{x:e.x,y:e.y,width:-1,height:-1}},t}(SModelElement);exports.SParentElement=SParentElement;var SChildElement=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(SParentElement);exports.SChildElement=SChildElement;var SModelRoot=function(e){function t(t){void 0===t&&(t=new SModelIndex);var n=e.call(this)||this;return n.canvasBounds=geometry_1.EMPTY_BOUNDS,Object.defineProperty(n,"index",{value:t,writable:!1}),n}return __extends(t,e),t}(SParentElement);exports.SModelRoot=SModelRoot;var ID_CHARS="0123456789abcdefghijklmnopqrstuvwxyz";exports.createRandomId=createRandomId;var SModelIndex=function(){function e(){this.id2element=new Map}return e.prototype.add=function(e){if(e.id){if(this.contains(e))throw new Error("Duplicate ID in model: "+e.id)}else do{e.id=createRandomId()}while(this.contains(e));if(this.id2element.set(e.id,e),void 0!==e.children&&e.children.constructor===Array)for(var t=0,n=e.children;t<n.length;t++){var r=n[t];this.add(r)}},e.prototype.remove=function(e){if(this.id2element.delete(e.id),void 0!==e.children&&e.children.constructor===Array)for(var t=0,n=e.children;t<n.length;t++){var r=n[t];this.remove(r)}},e.prototype.contains=function(e){return this.id2element.has(e.id)},e.prototype.getById=function(e){return this.id2element.get(e)},e.prototype.getAttachedElements=function(e){return[]},e.prototype.all=function(){return iterable_1.mapIterable(this.id2element,function(e){e[0];return e[1]})},e}();exports.SModelIndex=SModelIndex;

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function add(t,e){return{x:t.x+e.x,y:t.y+e.y}}function subtract(t,e){return{x:t.x-e.x,y:t.y-e.y}}function isValidDimension(t){return t.width>=0&&t.height>=0}function isBounds(t){return"x"in t&&"y"in t&&"width"in t&&"height"in t}function combine(t,e){var n=Math.min(t.x,e.x),i=Math.min(t.y,e.y);return{x:n,y:i,width:Math.max(t.x+(t.width>=0?t.width:0),e.x+(e.width>=0?e.width:0))-n,height:Math.max(t.y+(t.height>=0?t.height:0),e.y+(e.height>=0?e.height:0))-i}}function translate(t,e){return{x:t.x+e.x,y:t.y+e.y,width:t.width,height:t.height}}function center(t){return{x:t.x+(t.width>=0?.5*t.width:0),y:t.y+(t.height>=0?.5*t.height:0)}}function centerOfLine(t,e){return center({x:t.x>e.x?e.x:t.x,y:t.y>e.y?e.y:t.y,width:Math.abs(e.x-t.x),height:Math.abs(e.y-t.y)})}function includes(t,e){return e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&e.y<=t.y+t.height}function euclideanDistance(t,e){var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)}function manhattanDistance(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)}function maxDistance(t,e){return Math.max(Math.abs(e.x-t.x),Math.abs(e.y-t.y))}function angleOfPoint(t){return Math.atan2(t.y,t.x)}function angleBetweenPoints(t,e){var n=Math.sqrt((t.x*t.x+t.y*t.y)*(e.x*e.x+e.y*e.y));if(isNaN(n)||0===n)return NaN;var i=t.x*e.x+t.y*e.y;return Math.acos(i/n)}function toDegrees(t){return 180*t/Math.PI}function toRadians(t){return t*Math.PI/180}function almostEquals(t,e){return Math.abs(t-e)<.001}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ORIGIN_POINT=Object.freeze({x:0,y:0}),exports.add=add,exports.subtract=subtract,exports.EMPTY_DIMENSION=Object.freeze({width:-1,height:-1}),exports.isValidDimension=isValidDimension,exports.EMPTY_BOUNDS=Object.freeze({x:0,y:0,width:-1,height:-1}),exports.isBounds=isBounds,exports.combine=combine,exports.translate=translate,exports.center=center,exports.centerOfLine=centerOfLine,exports.includes=includes;var Direction;!function(t){t[t.left=0]="left",t[t.right=1]="right",t[t.up=2]="up",t[t.down=3]="down"}(Direction=exports.Direction||(exports.Direction={})),exports.euclideanDistance=euclideanDistance,exports.manhattanDistance=manhattanDistance,exports.maxDistance=maxDistance,exports.angleOfPoint=angleOfPoint,exports.angleBetweenPoints=angleBetweenPoints,exports.toDegrees=toDegrees,exports.toRadians=toRadians,exports.almostEquals=almostEquals;

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0}),exports.NAMED_TAG="named",exports.NAME_TAG="name",exports.UNMANAGED_TAG="unmanaged",exports.OPTIONAL_TAG="optional",exports.INJECT_TAG="inject",exports.MULTI_INJECT_TAG="multi_inject",exports.TAGGED="inversify:tagged",exports.TAGGED_PROP="inversify:tagged_props",exports.PARAM_TYPES="inversify:paramtypes",exports.DESIGN_PARAM_TYPES="design:paramtypes",exports.POST_CONSTRUCT="post_construct";

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),__decorate=this&&this.__decorate||function(t,n,e,o){var r,a=arguments.length,i=a<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,n,e,o);else for(var m=t.length-1;m>=0;m--)(r=t[m])&&(i=(a<3?r(i):a>3?r(n,e,i):r(n,e))||i);return a>3&&i&&Object.defineProperty(n,e,i),i},__metadata=this&&this.__metadata||function(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)},__param=this&&this.__param||function(t,n){return function(e,o){n(e,o,t)}};Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),types_1=__webpack_require__(1),Command=function(){function t(){}return t}();exports.Command=Command;var MergeableCommand=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),n.prototype.merge=function(t,n){return!1},n}(Command);exports.MergeableCommand=MergeableCommand;var HiddenCommand=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),n.prototype.undo=function(t){return t.logger.error(this,"Cannot undo a hidden command"),t.root},n.prototype.redo=function(t){return t.logger.error(this,"Cannot redo a hidden command"),t.root},n}(Command);exports.HiddenCommand=HiddenCommand;var PopupCommand=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),n}(Command);exports.PopupCommand=PopupCommand;var SystemCommand=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return __extends(n,t),n}(Command);exports.SystemCommand=SystemCommand;var CommandActionHandler=function(){function t(t){this.commandType=t}return t.prototype.handle=function(t){return new this.commandType(t)},t}();exports.CommandActionHandler=CommandActionHandler;var CommandActionHandlerInitializer=function(){function t(t){this.commandCtrs=t}return t.prototype.initialize=function(t){this.commandCtrs.forEach(function(n){return t.registerCommand(n)})},t=__decorate([inversify_1.injectable(),__param(0,inversify_1.multiInject(types_1.TYPES.ICommand)),__param(0,inversify_1.optional()),__metadata("design:paramtypes",[Array])],t)}();exports.CommandActionHandlerInitializer=CommandActionHandlerInitializer;

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function getBasicType(e){if(!e.type)return"";var t=e.type.indexOf(":");return t>=0?e.type.substring(0,t):e.type}function getSubType(e){if(!e.type)return"";var t=e.type.indexOf(":");return t>=0?e.type.substring(t+1):e.type}function findElement(e,t){if(e.id===t)return e;if(void 0!==e.children)for(var n=0,r=e.children;n<r.length;n++){var i=r[n],o=findElement(i,t);if(void 0!==o)return o}}function findParent(e,t){for(var n=e;void 0!==n;){if(t(n))return n;n=n instanceof smodel_1.SChildElement?n.parent:void 0}return n}function findParentByFeature(e,t){for(var n=e;void 0!==n;){if(t(n))return n;n=n instanceof smodel_1.SChildElement?n.parent:void 0}return n}function translatePoint(e,t,n){if(t!==n){for(;t instanceof smodel_1.SChildElement;)if(e=t.localToParent(e),(t=t.parent)===n)return e;for(var r=[];n instanceof smodel_1.SChildElement;)r.push(n),n=n.parent;if(t!==n)throw new Error("Incompatible source and target: "+t.id+", "+n.id);for(var i=r.length-1;i>=0;i--)e=r[i].parentToLocal(e)}return e}Object.defineProperty(exports,"__esModule",{value:!0});var smodel_1=__webpack_require__(2);exports.getBasicType=getBasicType,exports.getSubType=getSubType,exports.findElement=findElement,exports.findParent=findParent,exports.findParentByFeature=findParentByFeature,exports.translatePoint=translatePoint;

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function isBoundsAware(e){return"bounds"in e}function isLayoutContainer(e){return isBoundsAware(e)&&e.hasFeature(exports.layoutContainerFeature)&&"layout"in e}function isLayoutableChild(e){return isBoundsAware(e)&&e.hasFeature(exports.layoutableChildFeature)}function isSizeable(e){return e.hasFeature(exports.boundsFeature)&&isBoundsAware(e)}function isAlignable(e){return e.hasFeature(exports.alignFeature)&&"alignment"in e}function getAbsoluteBounds(e){var t=smodel_utils_1.findParentByFeature(e,isBoundsAware);if(void 0!==t){for(var o=t.bounds,i=t;i instanceof smodel_1.SChildElement;){var n=i.parent;o=n.localToParent(o),i=n}return o}if(e instanceof smodel_1.SModelRoot){var r=e.canvasBounds;return{x:0,y:0,width:r.width,height:r.height}}return geometry_1.EMPTY_BOUNDS}var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}();Object.defineProperty(exports,"__esModule",{value:!0});var geometry_1=__webpack_require__(3),smodel_1=__webpack_require__(2),smodel_utils_1=__webpack_require__(6);exports.boundsFeature=Symbol("boundsFeature"),exports.layoutContainerFeature=Symbol("layoutContainerFeature"),exports.layoutableChildFeature=Symbol("layoutableChildFeature"),exports.alignFeature=Symbol("alignFeature"),exports.isBoundsAware=isBoundsAware,exports.isLayoutContainer=isLayoutContainer,exports.isLayoutableChild=isLayoutableChild,exports.isSizeable=isSizeable,exports.isAlignable=isAlignable,exports.getAbsoluteBounds=getAbsoluteBounds;var SShapeElement=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.position=geometry_1.ORIGIN_POINT,t.size=geometry_1.EMPTY_DIMENSION,t}return __extends(t,e),Object.defineProperty(t.prototype,"bounds",{get:function(){return{x:this.position.x,y:this.position.y,width:this.size.width,height:this.size.height}},set:function(e){this.position={x:e.x,y:e.y},this.size={width:e.width,height:e.height}},enumerable:!0,configurable:!0}),t.prototype.localToParent=function(e){var t={x:e.x+this.position.x,y:e.y+this.position.y,width:-1,height:-1};return geometry_1.isBounds(e)&&(t.width=e.width,t.height=e.height),t},t.prototype.parentToLocal=function(e){var t={x:e.x-this.position.x,y:e.y-this.position.y,width:-1,height:-1};return geometry_1.isBounds(e)&&(t.width=e.width,t.height=e.height),t},t}(smodel_1.SChildElement);exports.SShapeElement=SShapeElement;

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var template_1=__webpack_require__(137);exports.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",exports.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",exports.NULL_ARGUMENT="NULL argument",exports.KEY_NOT_FOUND="Key Not Found",exports.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",exports.CANNOT_UNBIND="Could not unbind serviceIdentifier:",exports.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",exports.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",exports.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:",exports.CIRCULAR_DEPENDENCY="Circular dependency found:",exports.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",exports.INVALID_BINDING_TYPE="Invalid binding type:",exports.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",exports.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",exports.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",exports.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",exports.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",exports.ARGUMENTS_LENGTH_MISMATCH_1="The number of constructor arguments in the derived class ",exports.ARGUMENTS_LENGTH_MISMATCH_2=" must be >= than the number of constructor arguments of its base class.",exports.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",exports.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",exports.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class",exports.POST_CONSTRUCT_ERROR=(_a=["@postConstruct error in class ",": ",""],_a.raw=["@postConstruct error in class ",": ",""],template_1.template(_a,0,1));var _a;

/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var METADATA_KEY=__webpack_require__(4),Metadata=function(){function t(t,e){this.key=t,this.value=e}return t.prototype.toString=function(){return this.key===METADATA_KEY.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},t}();exports.Metadata=Metadata;

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),__decorate=this&&this.__decorate||function(e,t,r,i){var n,o=arguments.length,a=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(o<3?n(a):o>3?n(t,r,a):n(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),types_1=__webpack_require__(1),registry_1=__webpack_require__(26),smodel_1=__webpack_require__(2),SModelFactory=function(){function e(e){this.registry=e}return e.prototype.createElement=function(e,t){var r;if(this.registry.hasKey(e.type)){var i=this.registry.get(e.type,void 0);if(!(i instanceof smodel_1.SChildElement))throw new Error("Element with type "+e.type+" was expected to be an SChildElement.");r=i}else r=new smodel_1.SChildElement;return this.initializeChild(r,e,t)},e.prototype.createRoot=function(e){var t;if(this.registry.hasKey(e.type)){var r=this.registry.get(e.type,void 0);if(!(r instanceof smodel_1.SModelRoot))throw new Error("Element with type "+e.type+" was expected to be an SModelRoot.");t=r}else t=new smodel_1.SModelRoot;return this.initializeRoot(t,e)},e.prototype.createSchema=function(e){var t=this,r={};for(var i in e)if(!this.isReserved(e,i)){var n=e[i];"function"!=typeof n&&(r[i]=n)}return e instanceof smodel_1.SParentElement&&(r.children=e.children.map(function(e){return t.createSchema(e)})),r},e.prototype.initializeElement=function(e,t){for(var r in t)if(!this.isReserved(e,r)){var i=t[r];"function"!=typeof i&&(e[r]=i)}return e},e.prototype.isReserved=function(e,t){if(["children","parent","index"].indexOf(t)>=0)return!0;var r=e;do{var i=Object.getOwnPropertyDescriptor(r,t);if(void 0!==i)return void 0!==i.get;r=Object.getPrototypeOf(r)}while(r);return!1},e.prototype.initializeParent=function(e,t){var r=this;return this.initializeElement(e,t),smodel_1.isParent(t)&&(e.children=t.children.map(function(t){return r.createElement(t,e)})),e},e.prototype.initializeChild=function(e,t,r){return this.initializeParent(e,t),void 0!==r&&(e.parent=r),e},e.prototype.initializeRoot=function(e,t){return this.initializeParent(e,t),e.index.add(e),e},e=__decorate([inversify_1.injectable(),__param(0,inversify_1.inject(types_1.TYPES.SModelRegistry)),__metadata("design:paramtypes",[SModelRegistry])],e)}();exports.SModelFactory=SModelFactory,exports.EMPTY_ROOT=Object.freeze({type:"NONE",id:"EMPTY"});var SModelRegistry=function(e){function t(t){var r=e.call(this)||this;return t.forEach(function(e){return r.register(e.type,e.constr)}),r}return __extends(t,e),t=__decorate([inversify_1.injectable(),__param(0,inversify_1.multiInject(types_1.TYPES.SModelElementRegistration)),__param(0,inversify_1.optional()),__metadata("design:paramtypes",[Array])],t)}(registry_1.ProviderRegistry);exports.SModelRegistry=SModelRegistry;

/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function setAttr(t,e,s){getAttrs(t)[e]=s}function setClass(t,e,s){getClass(t)[e]=s}function copyClassesFromVNode(t,e){var s=getClass(t);for(var r in s)s.hasOwnProperty(r)&&setClass(e,r,!0)}function copyClassesFromElement(t,e){for(var s=t.classList,r=0;r<s.length;r++){var a=s.item(r);a&&setClass(e,a,!0)}}function mergeStyle(t,e){getData(t).style=__assign({},getData(t).style||{},e)}function on(t,e,s,r){var a=getOn(t);if(a[e])throw new Error("EventListener for "+e+" already registered on VNode");a[e]=[s,r]}function getAttrs(t){var e=getData(t);return e.attrs||(e.attrs={}),e.attrs}function getData(t){return t.data||(t.data={}),t.data}function getClass(t){var e=getData(t);return e.class||(e.class={}),e.class}function getOn(t){var e=getData(t);return e.on||(e.on={}),e.on}var __assign=this&&this.__assign||Object.assign||function(t){for(var e,s=1,r=arguments.length;s<r;s++){e=arguments[s];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t};Object.defineProperty(exports,"__esModule",{value:!0}),exports.setAttr=setAttr,exports.setClass=setClass,exports.copyClassesFromVNode=copyClassesFromVNode,exports.copyClassesFromElement=copyClassesFromElement,exports.mergeStyle=mergeStyle,exports.on=on,exports.getAttrs=getAttrs;

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function isSelectable(e){return e.hasFeature(exports.selectFeature)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.selectFeature=Symbol("selectFeature"),exports.isSelectable=isSelectable;

/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function tagParameter(e,r,t,a){_tagParameterOrProperty(METADATA_KEY.TAGGED,e,r,a,t)}function tagProperty(e,r,t){_tagParameterOrProperty(METADATA_KEY.TAGGED_PROP,e.constructor,r,t)}function _tagParameterOrProperty(e,r,t,a,o){var n={},c="number"==typeof o,_=void 0!==o&&c?o.toString():t;if(!0===c&&void 0!==t)throw new Error(ERROR_MSGS.INVALID_DECORATOR_OPERATION);!0===Reflect.hasOwnMetadata(e,r)&&(n=Reflect.getMetadata(e,r));var f=n[_];if(!0!==Array.isArray(f))f=[];else for(var i=0;i<f.length;i++){var s=f[i];if(s.key===a.key)throw new Error(ERROR_MSGS.DUPLICATED_METADATA+" "+s.key)}f.push(a),n[_]=f,Reflect.defineMetadata(e,n,r)}function _decorate(e,r){Reflect.decorate(e,r)}function _param(e,r){return function(t,a){r(t,a,e)}}function decorate(e,r,t){"number"==typeof t?_decorate([_param(t,e)],r):"string"==typeof t?Reflect.decorate([e],r,t):_decorate([e],r)}Object.defineProperty(exports,"__esModule",{value:!0});var METADATA_KEY=__webpack_require__(4),ERROR_MSGS=__webpack_require__(8);exports.tagParameter=tagParameter,exports.tagProperty=tagProperty,exports.decorate=decorate;

/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var BindingScopeEnum={Singleton:"Singleton",Transient:"Transient"};exports.BindingScopeEnum=BindingScopeEnum;var BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};exports.BindingTypeEnum=BindingTypeEnum;var TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"};exports.TargetTypeEnum=TargetTypeEnum;

/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),__decorate=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,s=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(s=(r<3?i(s):r>3?i(t,o,s):i(t,o))||s);return r>3&&s&&Object.defineProperty(t,o,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param=this&&this.__param||function(e,t){return function(o,n){t(o,n,e)}};Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),types_1=__webpack_require__(1),smodel_1=__webpack_require__(2),action_1=__webpack_require__(53),vnode_utils_1=__webpack_require__(11),dom_helper_1=__webpack_require__(55),MouseTool=function(){function e(e,t,o){void 0===o&&(o=[]),this.actionDispatcher=e,this.domHelper=t,this.mouseListeners=o}return e.prototype.register=function(e){this.mouseListeners.push(e)},e.prototype.deregister=function(e){var t=this.mouseListeners.indexOf(e);t>=0&&this.mouseListeners.splice(t,1)},e.prototype.getTargetElement=function(e,t){for(var o=t.target,n=e.index;o;){if(o.id){var i=n.getById(this.domHelper.findSModelIdByDOMElement(o));if(void 0!==i)return i}o=o.parentNode}},e.prototype.handleEvent=function(e,t,o){var n=this;this.focusOnMouseEvent(e,t);var i=this.getTargetElement(t,o);if(i){var r=this.mouseListeners.map(function(t){return t[e].apply(t,[i,o])}).reduce(function(e,t){return e.concat(t)});if(r.length>0){o.preventDefault();for(var s=0,u=r;s<u.length;s++){var p=u[s];action_1.isAction(p)?this.actionDispatcher.dispatch(p):p.then(function(e){n.actionDispatcher.dispatch(e)})}}}},e.prototype.focusOnMouseEvent=function(e,t){if(document){var o=document.getElementById(this.domHelper.createUniqueDOMElementId(t));"mouseDown"===e&&null!==o&&"function"==typeof o.focus&&o.focus()}},e.prototype.mouseOver=function(e,t){this.handleEvent("mouseOver",e,t)},e.prototype.mouseOut=function(e,t){this.handleEvent("mouseOut",e,t)},e.prototype.mouseEnter=function(e,t){this.handleEvent("mouseEnter",e,t)},e.prototype.mouseLeave=function(e,t){this.handleEvent("mouseLeave",e,t)},e.prototype.mouseDown=function(e,t){this.handleEvent("mouseDown",e,t)},e.prototype.mouseMove=function(e,t){this.handleEvent("mouseMove",e,t)},e.prototype.mouseUp=function(e,t){this.handleEvent("mouseUp",e,t)},e.prototype.wheel=function(e,t){this.handleEvent("wheel",e,t)},e.prototype.doubleClick=function(e,t){this.handleEvent("doubleClick",e,t)},e.prototype.decorate=function(e,t){return t instanceof smodel_1.SModelRoot&&(vnode_utils_1.on(e,"mouseover",this.mouseOver.bind(this),t),vnode_utils_1.on(e,"mouseout",this.mouseOut.bind(this),t),vnode_utils_1.on(e,"mouseenter",this.mouseEnter.bind(this),t),vnode_utils_1.on(e,"mouseleave",this.mouseLeave.bind(this),t),vnode_utils_1.on(e,"mousedown",this.mouseDown.bind(this),t),vnode_utils_1.on(e,"mouseup",this.mouseUp.bind(this),t),vnode_utils_1.on(e,"mousemove",this.mouseMove.bind(this),t),vnode_utils_1.on(e,"wheel",this.wheel.bind(this),t),vnode_utils_1.on(e,"contextmenu",function(e,t){t.preventDefault()},t),vnode_utils_1.on(e,"dblclick",this.doubleClick.bind(this),t)),e=this.mouseListeners.reduce(function(e,o){return o.decorate(e,t)},e)},e.prototype.postUpdate=function(){},e=__decorate([inversify_1.injectable(),__param(0,inversify_1.inject(types_1.TYPES.IActionDispatcher)),__param(1,inversify_1.inject(types_1.TYPES.DOMHelper)),__param(2,inversify_1.multiInject(types_1.TYPES.MouseListener)),__param(2,inversify_1.optional()),__metadata("design:paramtypes",[Object,dom_helper_1.DOMHelper,Array])],e)}();exports.MouseTool=MouseTool;var PopupMouseTool=function(e){function t(t,o,n){void 0===n&&(n=[]);var i=e.call(this,t,o,n)||this;return i.actionDispatcher=t,i.domHelper=o,i.mouseListeners=n,i}return __extends(t,e),t=__decorate([inversify_1.injectable(),__param(0,inversify_1.inject(types_1.TYPES.IActionDispatcher)),__param(1,inversify_1.inject(types_1.TYPES.DOMHelper)),__param(2,inversify_1.multiInject(types_1.TYPES.PopupMouseListener)),__param(2,inversify_1.optional()),__metadata("design:paramtypes",[Object,dom_helper_1.DOMHelper,Array])],t)}(MouseTool);exports.PopupMouseTool=PopupMouseTool;var MouseListener=function(){function e(){}return e.prototype.mouseOver=function(e,t){return[]},e.prototype.mouseOut=function(e,t){return[]},e.prototype.mouseEnter=function(e,t){return[]},e.prototype.mouseLeave=function(e,t){return[]},e.prototype.mouseDown=function(e,t){return[]},e.prototype.mouseMove=function(e,t){return[]},e.prototype.mouseUp=function(e,t){return[]},e.prototype.wheel=function(e,t){return[]},e.prototype.doubleClick=function(e,t){return[]},e.prototype.decorate=function(e,t){return e},e=__decorate([inversify_1.injectable()],e)}();exports.MouseListener=MouseListener;

/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function isViewport(e){return e instanceof smodel_1.SModelRoot&&e.hasFeature(exports.viewportFeature)&&"zoom"in e&&"scroll"in e}Object.defineProperty(exports,"__esModule",{value:!0});var smodel_1=__webpack_require__(2);exports.viewportFeature=Symbol("viewportFeature"),exports.isViewport=isViewport;

/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function guid(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.guid=guid;

/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function isPrimitive(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||"symbol"==typeof e||null===e||void 0===e}function normalizeAttrs(e,r,t,n){function i(e,r,t){(o[e]||(o[e]={}))[r]=t}for(var o={ns:r},a=0,s=n.length;a<s;a++){var l=n[a];e[l]&&(o[l]=e[l])}for(var f in e)if("key"!==f&&"classNames"!==f&&"selector"!==f){var u=f.indexOf("-");u>0?i(f.slice(0,u),f.slice(u+1),e[f]):o[f]||i(t,f,e[f])}return o}function buildFromStringTag(e,r,t,n,i,o){if(i.selector&&(n+=i.selector),i.classNames){var a=i.classNames;n=n+"."+(Array.isArray(a)?a.join("."):a.replace(/\s+/g,"."))}return{sel:n,data:normalizeAttrs(i,e,r,t),children:o.map(function(e){return isPrimitive(e)?{text:e}:e}),key:i.key}}function buildFromComponent(e,r,t,n,i,o){var a;if("function"==typeof n)a=n(i,o);else if(n&&"function"==typeof n.view)a=n.view(i,o);else{if(!n||"function"!=typeof n.render)throw"JSX tag must be either a string, a function or an object with 'view' or 'render' methods";a=n.render(i,o)}return a.key=i.key,a}function flatten(e,r,t){for(var n=r,i=e.length;n<i;n++){var o=e[n];Array.isArray(o)?flatten(o,0,t):t.push(o)}}function maybeFlatten(e){if(e)for(var r=0,t=e.length;r<t;r++)if(Array.isArray(e[r])){var n=e.slice(0,r);flatten(e,r,n),e=n;break}return e}function buildVnode(e,r,t,n,i,o){return i=i||{},o=maybeFlatten(o),"string"==typeof n?buildFromStringTag(e,r,t,n,i,o):buildFromComponent(e,r,t,n,i,o)}function JSX(e,r,t){return function(n,i,o){return(arguments.length>3||!Array.isArray(o))&&(o=slice.call(arguments,2)),buildVnode(e,r||"props",t||modulesNS,n,i,o)}}var SVGNS="http://www.w3.org/2000/svg",modulesNS=["hook","on","style","class","props","attrs","dataset"],slice=Array.prototype.slice;module.exports={html:JSX(void 0),svg:JSX(SVGNS,"attrs"),JSX:JSX};

/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function o(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();Object.defineProperty(exports,"__esModule",{value:!0});var easing_1=__webpack_require__(80),Animation=function(){function t(t,n){void 0===n&&(n=easing_1.easeInOut),this.context=t,this.ease=n}return t.prototype.start=function(){var t=this;return new Promise(function(n,e){var o=void 0,i=0,r=function(e){i++;var s;void 0===o?(o=e,s=0):s=e-o;var a=Math.min(1,s/t.context.duration),c=t.tween(t.ease(a),t.context);t.context.modelChanged.update(c),1===a?(t.context.logger.log(t,1e3*i/t.context.duration+" fps"),n(c)):t.context.syncer.onNextFrame(r)};if(t.context.syncer.isAvailable())t.context.syncer.onNextFrame(r);else{var s=t.tween(1,t.context);n(s)}})},t}();exports.Animation=Animation;var CompoundAnimation=function(t){function n(n,e,o,i){void 0===o&&(o=[]),void 0===i&&(i=easing_1.easeInOut);var r=t.call(this,e,i)||this;return r.model=n,r.context=e,r.components=o,r.ease=i,r}return __extends(n,t),n.prototype.include=function(t){return this.components.push(t),this},n.prototype.tween=function(t,n){for(var e=0,o=this.components;e<o.length;e++){o[e].tween(t,n)}return this.model},n}(Animation);exports.CompoundAnimation=CompoundAnimation;

/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __decorate=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),types_1=__webpack_require__(1),smodel_1=__webpack_require__(2),vnode_utils_1=__webpack_require__(11),KeyTool=function(){function e(e,t){void 0===t&&(t=[]),this.actionDispatcher=e,this.keyListeners=t}return e.prototype.register=function(e){this.keyListeners.push(e)},e.prototype.deregister=function(e){var t=this.keyListeners.indexOf(e);t>=0&&this.keyListeners.splice(t,1)},e.prototype.handleEvent=function(e,t,n){var i=this.keyListeners.map(function(i){return i[e].apply(i,[t,n])}).reduce(function(e,t){return e.concat(t)});i.length>0&&(n.preventDefault(),this.actionDispatcher.dispatchAll(i))},e.prototype.keyDown=function(e,t){this.handleEvent("keyDown",e,t)},e.prototype.focus=function(){},e.prototype.decorate=function(e,t){return t instanceof smodel_1.SModelRoot&&(vnode_utils_1.on(e,"focus",this.focus.bind(this),t),vnode_utils_1.on(e,"keydown",this.keyDown.bind(this),t)),e},e.prototype.postUpdate=function(){},e=__decorate([inversify_1.injectable(),__param(0,inversify_1.inject(types_1.TYPES.IActionDispatcher)),__param(1,inversify_1.multiInject(types_1.TYPES.KeyListener)),__param(1,inversify_1.optional()),__metadata("design:paramtypes",[Object,Array])],e)}();exports.KeyTool=KeyTool;var KeyListener=function(){function e(){}return e.prototype.keyDown=function(e,t){return[]},e=__decorate([inversify_1.injectable()],e)}();exports.KeyListener=KeyListener;

/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function isRoutable(e){return void 0!==e.routingPoints&&"function"==typeof e.route}function canEditRouting(e){return isRoutable(e)&&e.hasFeature(exports.editFeature)}function filterEditModeHandles(e,t){if(0===t.children.length)return e;for(var o=0;o<e.length;)!function(){var n=e[o];if(void 0!==n.pointIndex){var r=t.children.find(function(e){return e instanceof SRoutingHandle&&"junction"===e.kind&&e.pointIndex===n.pointIndex});if(void 0!==r&&r.editMode&&o>0&&o<e.length-1){var i=e[o-1],u=e[o+1],d={x:i.x-n.x,y:i.y-n.y},a={x:u.x-n.x,y:u.y-n.y},l=geometry_1.angleBetweenPoints(d,a);if(Math.abs(Math.PI-l)<HANDLE_REMOVE_THRESHOLD)return e.splice(o,1),"continue"}}o++}();return e}var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0});var geometry_1=__webpack_require__(3),smodel_1=__webpack_require__(2),model_1=__webpack_require__(12),model_2=__webpack_require__(22),model_3=__webpack_require__(35);exports.editFeature=Symbol("editFeature"),exports.isRoutable=isRoutable,exports.canEditRouting=canEditRouting;var SRoutingHandle=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.editMode=!1,t.hoverFeedback=!1,t.selected=!1,t}return __extends(t,e),t.prototype.hasFeature=function(e){return e===model_1.selectFeature||e===model_2.moveFeature||e===model_3.hoverFeedbackFeature},t}(smodel_1.SChildElement);exports.SRoutingHandle=SRoutingHandle;var HANDLE_REMOVE_THRESHOLD=.1;exports.filterEditModeHandles=filterEditModeHandles;

/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function isLocateable(e){return void 0!==e.position}function isMoveable(e){return e.hasFeature(exports.moveFeature)&&isLocateable(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.moveFeature=Symbol("moveFeature"),exports.isLocateable=isLocateable,exports.isMoveable=isMoveable;

/***/ }),
/* 23 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),__decorate=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(o<3?i(a):o>3?i(e,r,a):i(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},__metadata=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},__param=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),types_1=__webpack_require__(1),registry_1=__webpack_require__(26),command_1=__webpack_require__(5),ActionHandlerRegistry=function(t){function e(e){var r=t.call(this)||this;return e.forEach(function(t){return r.initializeActionHandler(t)}),r}return __extends(e,t),e.prototype.registerCommand=function(t){this.register(t.KIND,new command_1.CommandActionHandler(t))},e.prototype.initializeActionHandler=function(t){t.initialize(this)},e=__decorate([inversify_1.injectable(),__param(0,inversify_1.multiInject(types_1.TYPES.IActionHandlerInitializer)),__param(0,inversify_1.optional()),__metadata("design:paramtypes",[Array])],e)}(registry_1.MultiInstanceRegistry);exports.ActionHandlerRegistry=ActionHandlerRegistry;

/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __decorate=this&&this.__decorate||function(e,t,r,i){var o,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(n<3?o(a):n>3?o(t,r,a):o(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(exports,"__esModule",{value:!0});var model_1=__webpack_require__(7),action_dispatcher_1=__webpack_require__(52),types_1=__webpack_require__(1),geometry_1=__webpack_require__(3),inversify_1=__webpack_require__(0),ExportSvgAction=function(){function e(t){this.svg=t,this.kind=e.KIND}return e.KIND="exportSvg",e}();exports.ExportSvgAction=ExportSvgAction;var SvgExporter=function(){function e(e,t,r){this.options=e,this.actionDispatcher=t,this.log=r}return e.prototype.export=function(e){if("undefined"!=typeof document){var t=document.getElementById(this.options.hiddenDiv);if(null!==t&&t.firstElementChild&&"svg"===t.firstElementChild.tagName){var r=t.firstElementChild,i=this.createSvg(r,e);this.actionDispatcher.dispatch(new ExportSvgAction(i))}}},e.prototype.createSvg=function(e,t){var r=new XMLSerializer,i=r.serializeToString(e),o=document.createElement("iframe");if(document.body.appendChild(o),!o.contentWindow)throw new Error("IFrame has no contentWindow");var n=o.contentWindow.document;n.open(),n.write(i),n.close();var a=n.getElementById(e.id);a.removeAttribute("opacity"),this.copyStyles(e,a,["width","height","opacity"]),a.setAttribute("version","1.1");var c=this.getBounds(t);a.setAttribute("viewBox",c.x+" "+c.y+" "+c.width+" "+c.height);var s=r.serializeToString(a);return document.body.removeChild(o),s},e.prototype.copyStyles=function(e,t,r){for(var i=getComputedStyle(e),o=getComputedStyle(t),n="",a=0;a<i.length;a++){var c=i[a];if(-1===r.indexOf(c)){var s=i.getPropertyValue(c);o.getPropertyValue(c)!==s&&(n+=c+":"+s+";")}}""!==n&&t.setAttribute("style",n);for(var a=0;a<e.childNodes.length;++a){var p=e.childNodes[a],d=t.childNodes[a];p instanceof Element&&this.copyStyles(p,d,[])}},e.prototype.getBounds=function(e){var t=[geometry_1.EMPTY_BOUNDS];return e.children.forEach(function(e){model_1.isBoundsAware(e)&&t.push(e.bounds)}),t.reduce(function(e,t){return geometry_1.combine(e,t)})},e=__decorate([inversify_1.injectable(),__param(0,inversify_1.inject(types_1.TYPES.ViewerOptions)),__param(1,inversify_1.inject(types_1.TYPES.IActionDispatcher)),__param(2,inversify_1.inject(types_1.TYPES.ILogger)),__metadata("design:paramtypes",[Object,action_dispatcher_1.ActionDispatcher,Object])],e)}();exports.SvgExporter=SvgExporter;

/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function i(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}();Object.defineProperty(exports,"__esModule",{value:!0});var command_1=__webpack_require__(5),animation_1=__webpack_require__(19),model_1=__webpack_require__(16),ViewportAction=function(){function t(t,e,o){this.elementId=t,this.newViewport=e,this.animate=o,this.kind=ViewportCommand.KIND}return t}();exports.ViewportAction=ViewportAction;var ViewportCommand=function(t){function e(e){var o=t.call(this)||this;return o.action=e,o.newViewport=e.newViewport,o}return __extends(e,t),e.prototype.execute=function(t){var e=t.root,o=e.index.getById(this.action.elementId);if(o&&model_1.isViewport(o)){if(this.element=o,this.oldViewport={scroll:this.element.scroll,zoom:this.element.zoom},this.action.animate)return new ViewportAnimation(this.element,this.oldViewport,this.newViewport,t).start();this.element.scroll=this.newViewport.scroll,this.element.zoom=this.newViewport.zoom}return e},e.prototype.undo=function(t){return new ViewportAnimation(this.element,this.newViewport,this.oldViewport,t).start()},e.prototype.redo=function(t){return new ViewportAnimation(this.element,this.oldViewport,this.newViewport,t).start()},e.prototype.merge=function(t,o){return!this.action.animate&&t instanceof e&&this.element===t.element&&(this.newViewport=t.newViewport,!0)},e.KIND="viewport",e}(command_1.MergeableCommand);exports.ViewportCommand=ViewportCommand;var ViewportAnimation=function(t){function e(e,o,i,n){var r=t.call(this,n)||this;return r.element=e,r.oldViewport=o,r.newViewport=i,r.context=n,r.zoomFactor=Math.log(i.zoom/o.zoom),r}return __extends(e,t),e.prototype.tween=function(t,e){return this.element.scroll={x:(1-t)*this.oldViewport.scroll.x+t*this.newViewport.scroll.x,y:(1-t)*this.oldViewport.scroll.y+t*this.newViewport.scroll.y},this.element.zoom=this.oldViewport.zoom*Math.exp(t*this.zoomFactor),e.root},e}(animation_1.Animation);exports.ViewportAnimation=ViewportAnimation;

/***/ }),
/* 26 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __decorate=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var y=e.length-1;y>=0;y--)(i=e[y])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o};Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),ProviderRegistry=function(){function e(){this.elements=new Map}return e.prototype.register=function(e,t){if(void 0===e)throw new Error("Key is undefined");if(this.hasKey(e))throw new Error("Key is already registered: "+e);this.elements.set(e,t)},e.prototype.deregister=function(e){if(void 0===e)throw new Error("Key is undefined");this.elements.delete(e)},e.prototype.hasKey=function(e){return this.elements.has(e)},e.prototype.get=function(e,t){var r=this.elements.get(e);return r?new r(t):this.missing(e,t)},e.prototype.missing=function(e,t){throw new Error("Unknown registry key: "+e)},e=__decorate([inversify_1.injectable()],e)}();exports.ProviderRegistry=ProviderRegistry;var InstanceRegistry=function(){function e(){this.elements=new Map}return e.prototype.register=function(e,t){if(void 0===e)throw new Error("Key is undefined");if(this.hasKey(e))throw new Error("Key is already registered: "+e);this.elements.set(e,t)},e.prototype.deregister=function(e){if(void 0===e)throw new Error("Key is undefined");this.elements.delete(e)},e.prototype.hasKey=function(e){return this.elements.has(e)},e.prototype.get=function(e){var t=this.elements.get(e);return t||this.missing(e)},e.prototype.missing=function(e){throw new Error("Unknown registry key: "+e)},e=__decorate([inversify_1.injectable()],e)}();exports.InstanceRegistry=InstanceRegistry;var MultiInstanceRegistry=function(){function e(){this.elements=new Map}return e.prototype.register=function(e,t){if(void 0===e)throw new Error("Key is undefined");var r=this.elements.get(e);void 0!==r?r.push(t):this.elements.set(e,[t])},e.prototype.deregisterAll=function(e){if(void 0===e)throw new Error("Key is undefined");this.elements.delete(e)},e.prototype.get=function(e){var t=this.elements.get(e);return void 0!==t?t:[]},e=__decorate([inversify_1.injectable()],e)}();exports.MultiInstanceRegistry=MultiInstanceRegistry;

/***/ }),
/* 27 */
/***/ (function(module, exports) {

var g;g=function(){return this}();try{g=g||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(g=window)}module.exports=g;

/***/ }),
/* 28 */
/***/ (function(module, exports) {

function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var process=module.exports={},cachedSetTimeout,cachedClearTimeout;!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(e){return[]},process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};

/***/ }),
/* 29 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function getServiceIdentifierAsString(e){if("function"==typeof e){var t=e;return t.name}if("symbol"==typeof e)return e.toString();var t=e;return t}function listRegisteredBindingsForServiceIdentifier(e,t,n){var r="",i=n(e,t);return 0!==i.length&&(r="\nRegistered bindings:",i.forEach(function(e){var t="Object";null!==e.implementationType&&(t=getFunctionName(e.implementationType)),r=r+"\n "+t,e.constraint.metaData&&(r=r+" - "+e.constraint.metaData)})),r}function circularDependencyToException(e,t){void 0===t&&(t=[]);var n=getServiceIdentifierAsString(e.serviceIdentifier);t.push(n),e.childRequests.forEach(function(e){var n=getServiceIdentifierAsString(e.serviceIdentifier);if(-1!==t.indexOf(n)){t.push(n);var r=t.reduce(function(e,t){return""!==e?e+" -> "+t:""+t},"");throw new Error(ERROR_MSGS.CIRCULAR_DEPENDENCY+" "+r)}e.childRequests.length>0?circularDependencyToException(e,t):t.push(n)})}function listMetadataForTarget(e,t){if(t.isTagged()||t.isNamed()){var n="",r=t.getNamedTag(),i=t.getCustomTags();return null!==r&&(n+=r.toString()+"\n"),null!==i&&i.forEach(function(e){n+=e.toString()+"\n"})," "+e+"\n "+e+" - "+n}return" "+e}function getFunctionName(e){if(e.name)return e.name;var t=e.toString(),n=t.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+t}Object.defineProperty(exports,"__esModule",{value:!0});var ERROR_MSGS=__webpack_require__(8);exports.getServiceIdentifierAsString=getServiceIdentifierAsString,exports.listRegisteredBindingsForServiceIdentifier=listRegisteredBindingsForServiceIdentifier,exports.circularDependencyToException=circularDependencyToException,exports.listMetadataForTarget=listMetadataForTarget,exports.getFunctionName=getFunctionName;

/***/ }),
/* 30 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __decorate=this&&this.__decorate||function(t,e,r,i){var n,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(o<3?n(s):o>3?n(e,r,s):n(e,r))||s);return o>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),AnimationFrameSyncer=function(){function t(){this.tasks=[],this.endTasks=[],this.triggered=!1}return t.prototype.isAvailable=function(){return"function"==typeof requestAnimationFrame},t.prototype.onNextFrame=function(t){this.tasks.push(t),this.trigger()},t.prototype.onEndOfNextFrame=function(t){this.endTasks.push(t),this.trigger()},t.prototype.trigger=function(){var t=this;this.triggered||(this.triggered=!0,this.isAvailable()?requestAnimationFrame(function(e){return t.run(e)}):setTimeout(function(e){return t.run(e)}))},t.prototype.run=function(t){var e=this.tasks,r=this.endTasks;this.triggered=!1,this.tasks=[],this.endTasks=[],e.forEach(function(e){return e.call(void 0,t)}),r.forEach(function(e){return e.call(void 0,t)})},t=__decorate([inversify_1.injectable()],t)}();exports.AnimationFrameSyncer=AnimationFrameSyncer;

/***/ }),
/* 31 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),__decorate=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(c=(i<3?r(c):i>3?r(e,o,c):r(e,o))||c);return i>3&&c&&Object.defineProperty(e,o,c),c},__metadata=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),command_1=__webpack_require__(5),initialize_canvas_1=__webpack_require__(41),RequestModelAction=function(){function t(e){this.options=e,this.kind=t.KIND}return t.KIND="requestModel",t}();exports.RequestModelAction=RequestModelAction;var SetModelAction=function(){function t(t){this.newRoot=t,this.kind=SetModelCommand.KIND}return t}();exports.SetModelAction=SetModelAction;var SetModelCommand=function(t){function e(e){var o=t.call(this)||this;return o.action=e,o}return __extends(e,t),e.prototype.execute=function(t){return this.oldRoot=t.modelFactory.createRoot(t.root),this.newRoot=t.modelFactory.createRoot(this.action.newRoot),this.newRoot},e.prototype.undo=function(t){return this.oldRoot},e.prototype.redo=function(t){return this.newRoot},Object.defineProperty(e.prototype,"blockUntil",{get:function(){return function(t){return t.kind===initialize_canvas_1.InitializeCanvasBoundsCommand.KIND}},enumerable:!0,configurable:!0}),e.KIND="setModel",e=__decorate([inversify_1.injectable(),__metadata("design:paramtypes",[SetModelAction])],e)}(command_1.Command);exports.SetModelCommand=SetModelCommand;

/***/ }),
/* 32 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var t in o)o.hasOwnProperty(t)&&(n[t]=o[t])};return function(o,t){function e(){this.constructor=o}n(o,t),o.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();Object.defineProperty(exports,"__esModule",{value:!0});var command_1=__webpack_require__(5),model_1=__webpack_require__(7),SetBoundsAction=function(){function n(n){this.bounds=n,this.kind=SetBoundsCommand.KIND}return n}();exports.SetBoundsAction=SetBoundsAction;var RequestBoundsAction=function(){function n(n){this.newRoot=n,this.kind=RequestBoundsCommand.KIND}return n}();exports.RequestBoundsAction=RequestBoundsAction;var ComputedBoundsAction=function(){function n(o,t,e){this.bounds=o,this.revision=t,this.alignments=e,this.kind=n.KIND}return n.KIND="computedBounds",n}();exports.ComputedBoundsAction=ComputedBoundsAction;var SetBoundsCommand=function(n){function o(o){var t=n.call(this)||this;return t.action=o,t.bounds=[],t}return __extends(o,n),o.prototype.execute=function(n){var o=this;return this.action.bounds.forEach(function(t){var e=n.root.index.getById(t.elementId);e&&model_1.isBoundsAware(e)&&o.bounds.push({element:e,oldBounds:e.bounds,newBounds:t.newBounds})}),this.redo(n)},o.prototype.undo=function(n){return this.bounds.forEach(function(n){return n.element.bounds=n.oldBounds}),n.root},o.prototype.redo=function(n){return this.bounds.forEach(function(n){return n.element.bounds=n.newBounds}),n.root},o.KIND="setBounds",o}(command_1.SystemCommand);exports.SetBoundsCommand=SetBoundsCommand;var RequestBoundsCommand=function(n){function o(o){var t=n.call(this)||this;return t.action=o,t}return __extends(o,n),o.prototype.execute=function(n){return n.modelFactory.createRoot(this.action.newRoot)},Object.defineProperty(o.prototype,"blockUntil",{get:function(){return function(n){return n.kind===ComputedBoundsAction.KIND}},enumerable:!0,configurable:!0}),o.KIND="requestBounds",o}(command_1.HiddenCommand);exports.RequestBoundsCommand=RequestBoundsCommand;

/***/ }),
/* 33 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function isFadeable(e){return e.hasFeature(exports.fadeFeature)&&void 0!==e.opacity}Object.defineProperty(exports,"__esModule",{value:!0}),exports.fadeFeature=Symbol("fadeFeature"),exports.isFadeable=isFadeable;

/***/ }),
/* 34 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),__decorate=this&&this.__decorate||function(e,t,o,r){var s,i=arguments.length,n=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,r);else for(var u=e.length-1;u>=0;u--)(s=e[u])&&(n=(i<3?s(n):i>3?s(t,o,n):s(t,o))||n);return i>3&&n&&Object.defineProperty(t,o,n),n},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),keyboard_1=__webpack_require__(36),geometry_1=__webpack_require__(3),types_1=__webpack_require__(1),smodel_1=__webpack_require__(2),mouse_tool_1=__webpack_require__(15),command_1=__webpack_require__(5),smodel_factory_1=__webpack_require__(10),key_tool_1=__webpack_require__(20),smodel_utils_1=__webpack_require__(6),model_1=__webpack_require__(7),model_2=__webpack_require__(35),HoverFeedbackAction=function(){function e(e,t){this.mouseoverElement=e,this.mouseIsOver=t,this.kind=HoverFeedbackCommand.KIND}return e}();exports.HoverFeedbackAction=HoverFeedbackAction;var HoverFeedbackCommand=function(e){function t(t){var o=e.call(this)||this;return o.action=t,o}return __extends(t,e),t.prototype.execute=function(e){var t=e.root,o=t.index.getById(this.action.mouseoverElement);return o&&model_2.isHoverable(o)&&(o.hoverFeedback=this.action.mouseIsOver),this.redo(e)},t.prototype.undo=function(e){return e.root},t.prototype.redo=function(e){return e.root},t.KIND="hoverFeedback",t}(command_1.Command);exports.HoverFeedbackCommand=HoverFeedbackCommand;var RequestPopupModelAction=function(){function e(t,o){this.elementId=t,this.bounds=o,this.kind=e.KIND}return e.KIND="requestPopupModel",e}();exports.RequestPopupModelAction=RequestPopupModelAction;var SetPopupModelAction=function(){function e(e){this.newRoot=e,this.kind=SetPopupModelCommand.KIND}return e}();exports.SetPopupModelAction=SetPopupModelAction;var SetPopupModelCommand=function(e){function t(t){var o=e.call(this)||this;return o.action=t,o}return __extends(t,e),t.prototype.execute=function(e){return this.oldRoot=e.root,this.newRoot=e.modelFactory.createRoot(this.action.newRoot),this.newRoot},t.prototype.undo=function(e){return this.oldRoot},t.prototype.redo=function(e){return this.newRoot},t.KIND="setPopupModel",t}(command_1.PopupCommand);exports.SetPopupModelCommand=SetPopupModelCommand;var AbstractHoverMouseListener=function(e){function t(t,o){var r=e.call(this)||this;return r.options=t,r.state=o,r}return __extends(t,e),t.prototype.stopMouseOutTimer=function(){void 0!==this.state.mouseOutTimer&&(window.clearTimeout(this.state.mouseOutTimer),this.state.mouseOutTimer=void 0)},t.prototype.startMouseOutTimer=function(){var e=this;return this.stopMouseOutTimer(),new Promise(function(t){e.state.mouseOutTimer=window.setTimeout(function(){e.state.popupOpen=!1,e.state.previousPopupElement=void 0,t(new SetPopupModelAction({type:smodel_factory_1.EMPTY_ROOT.type,id:smodel_factory_1.EMPTY_ROOT.id}))},e.options.popupCloseDelay)})},t.prototype.stopMouseOverTimer=function(){void 0!==this.state.mouseOverTimer&&(window.clearTimeout(this.state.mouseOverTimer),this.state.mouseOverTimer=void 0)},t=__decorate([__param(0,inversify_1.inject(types_1.TYPES.ViewerOptions)),__param(1,inversify_1.inject(types_1.TYPES.HoverState)),__metadata("design:paramtypes",[Object,Object])],t)}(mouse_tool_1.MouseListener);exports.AbstractHoverMouseListener=AbstractHoverMouseListener;var HoverMouseListener=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.computePopupBounds=function(e,t){var o={x:-5,y:20},r=model_1.getAbsoluteBounds(e),s=e.root.canvasBounds,i=geometry_1.translate(r,s),n=i.x+i.width-t.x,u=i.y+i.height-t.y;u<=n&&this.allowSidePosition(e,"below",u)?o={x:-5,y:Math.round(u+5)}:n<=u&&this.allowSidePosition(e,"right",n)&&(o={x:Math.round(n+5),y:-5});var p=t.x+o.x,a=s.x+s.width;p>a&&(p=a);var d=t.y+o.y,c=s.y+s.height;return d>c&&(d=c),{x:p,y:d,width:-1,height:-1}},t.prototype.allowSidePosition=function(e,t,o){return!(e instanceof smodel_1.SModelRoot)&&o<=150},t.prototype.startMouseOverTimer=function(e,t){var o=this;return this.stopMouseOverTimer(),new Promise(function(r){o.state.mouseOverTimer=window.setTimeout(function(){var s=o.computePopupBounds(e,{x:t.pageX,y:t.pageY});r(new RequestPopupModelAction(e.id,s)),o.state.popupOpen=!0,o.state.previousPopupElement=e},o.options.popupOpenDelay)})},t.prototype.mouseOver=function(e,t){var o=[],r=smodel_utils_1.findParent(e,model_2.hasPopupFeature);this.state.popupOpen&&(void 0===r||void 0!==this.state.previousPopupElement&&this.state.previousPopupElement.id!==r.id)?o.push(this.startMouseOutTimer()):(this.stopMouseOverTimer(),this.stopMouseOutTimer()),void 0===r||void 0!==this.state.previousPopupElement&&this.state.previousPopupElement.id===r.id||o.push(this.startMouseOverTimer(r,t));var s=smodel_utils_1.findParentByFeature(e,model_2.isHoverable);return void 0!==s&&o.push(new HoverFeedbackAction(s.id,!0)),o},t.prototype.mouseOut=function(e,t){var o=[];if(this.state.popupOpen){var r=smodel_utils_1.findParent(e,model_2.hasPopupFeature);void 0!==this.state.previousPopupElement&&void 0!==r&&this.state.previousPopupElement.id===r.id&&o.push(this.startMouseOutTimer())}this.stopMouseOverTimer();var s=smodel_utils_1.findParentByFeature(e,model_2.isHoverable);return void 0!==s&&o.push(new HoverFeedbackAction(s.id,!1)),o},t.prototype.mouseMove=function(e,t){var o=[];void 0!==this.state.previousPopupElement&&this.closeOnMouseMove(this.state.previousPopupElement,t)&&o.push(this.startMouseOutTimer());var r=smodel_utils_1.findParent(e,model_2.hasPopupFeature);return void 0===r||void 0!==this.state.previousPopupElement&&this.state.previousPopupElement.id===r.id||o.push(this.startMouseOverTimer(r,t)),o},t.prototype.closeOnMouseMove=function(e,t){return e instanceof smodel_1.SModelRoot},t=__decorate([inversify_1.injectable()],t)}(AbstractHoverMouseListener);exports.HoverMouseListener=HoverMouseListener;var PopupHoverMouseListener=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.mouseOut=function(e,t){return[this.startMouseOutTimer()]},t.prototype.mouseOver=function(e,t){return this.stopMouseOutTimer(),this.stopMouseOverTimer(),[]},t=__decorate([inversify_1.injectable()],t)}(AbstractHoverMouseListener);exports.PopupHoverMouseListener=PopupHoverMouseListener;var HoverKeyListener=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.keyDown=function(e,t){return keyboard_1.matchesKeystroke(t,"Escape")?[new SetPopupModelAction({type:smodel_factory_1.EMPTY_ROOT.type,id:smodel_factory_1.EMPTY_ROOT.id})]:[]},t}(key_tool_1.KeyListener);exports.HoverKeyListener=HoverKeyListener;

/***/ }),
/* 35 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function isHoverable(e){return e.hasFeature(exports.hoverFeedbackFeature)}function hasPopupFeature(e){return e.hasFeature(exports.popupFeature)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.hoverFeedbackFeature=Symbol("hoverFeedbackFeature"),exports.isHoverable=isHoverable,exports.popupFeature=Symbol("popupFeature"),exports.hasPopupFeature=hasPopupFeature;

/***/ }),
/* 36 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function matchesKeystroke(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(getActualCode(e)!==t)return!1;if(browser_1.isMac()){if(e.ctrlKey!==r.findIndex(function(e){return"ctrl"===e})>=0)return!1;if(e.metaKey!==r.findIndex(function(e){return"meta"===e||"ctrlCmd"===e})>=0)return!1}else{if(e.ctrlKey!==r.findIndex(function(e){return"ctrl"===e||"ctrlCmd"===e})>=0)return!1;if(e.metaKey!==r.findIndex(function(e){return"meta"===e})>=0)return!1}return e.altKey===r.findIndex(function(e){return"alt"===e})>=0&&e.shiftKey===r.findIndex(function(e){return"shift"===e})>=0}function getActualCode(e){if(e.keyCode){var t=STRING_CODE[e.keyCode];if(void 0!==t)return t}return e.code}Object.defineProperty(exports,"__esModule",{value:!0});var browser_1=__webpack_require__(69);exports.matchesKeystroke=matchesKeystroke,exports.getActualCode=getActualCode;var STRING_CODE=new Array(256);!function(){function e(e,t){void 0===STRING_CODE[t]&&(STRING_CODE[t]=e)}e("Pause",3),e("Backspace",8),e("Tab",9),e("Enter",13),e("ShiftLeft",16),e("ShiftRight",16),e("ControlLeft",17),e("ControlRight",17),e("AltLeft",18),e("AltRight",18),e("CapsLock",20),e("Escape",27),e("Space",32),e("PageUp",33),e("PageDown",34),e("End",35),e("Home",36),e("ArrowLeft",37),e("ArrowUp",38),e("ArrowRight",39),e("ArrowDown",40),e("Insert",45),e("Delete",46),e("Digit1",49),e("Digit2",50),e("Digit3",51),e("Digit4",52),e("Digit5",53),e("Digit6",54),e("Digit7",55),e("Digit8",56),e("Digit9",57),e("Digit0",48),e("KeyA",65),e("KeyB",66),e("KeyC",67),e("KeyD",68),e("KeyE",69),e("KeyF",70),e("KeyG",71),e("KeyH",72),e("KeyI",73),e("KeyJ",74),e("KeyK",75),e("KeyL",76),e("KeyM",77),e("KeyN",78),e("KeyO",79),e("KeyP",80),e("KeyQ",81),e("KeyR",82),e("KeyS",83),e("KeyT",84),e("KeyU",85),e("KeyV",86),e("KeyW",87),e("KeyX",88),e("KeyY",89),e("KeyZ",90),e("OSLeft",91),e("MetaLeft",91),e("OSRight",92),e("MetaRight",92),e("ContextMenu",93),e("Numpad0",96),e("Numpad1",97),e("Numpad2",98),e("Numpad3",99),e("Numpad4",100),e("Numpad5",101),e("Numpad6",102),e("Numpad7",103),e("Numpad8",104),e("Numpad9",105),e("NumpadMultiply",106),e("NumpadAdd",107),e("NumpadSeparator",108),e("NumpadSubtract",109),e("NumpadDecimal",110),e("NumpadDivide",111),e("F1",112),e("F2",113),e("F3",114),e("F4",115),e("F5",116),e("F6",117),e("F7",118),e("F8",119),e("F9",120),e("F10",121),e("F11",122),e("F12",123),e("F13",124),e("F14",125),e("F15",126),e("F16",127),e("F17",128),e("F18",129),e("F19",130),e("F20",131),e("F21",132),e("F22",133),e("F23",134),e("F24",135),e("NumLock",144),e("ScrollLock",145),e("Semicolon",186),e("Equal",187),e("Comma",188),e("Minus",189),e("Period",190),e("Slash",191),e("Backquote",192),e("IntlRo",193),e("BracketLeft",219),e("Backslash",220),e("BracketRight",221),e("Quote",222),e("IntlYen",255)}();

/***/ }),
/* 37 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function __export(e){for(var r in e)exports.hasOwnProperty(r)||(exports[r]=e[r])}Object.defineProperty(exports,"__esModule",{value:!0}),__export(__webpack_require__(53)),__export(__webpack_require__(52)),__export(__webpack_require__(23)),__export(__webpack_require__(30)),__export(__webpack_require__(19)),__export(__webpack_require__(80)),__export(__webpack_require__(153)),__export(__webpack_require__(81)),__export(__webpack_require__(5)),__export(__webpack_require__(41)),__export(__webpack_require__(31)),__export(__webpack_require__(10)),__export(__webpack_require__(54)),__export(__webpack_require__(6)),__export(__webpack_require__(2)),__export(__webpack_require__(20)),__export(__webpack_require__(15)),__export(__webpack_require__(82)),__export(__webpack_require__(83)),__export(__webpack_require__(84)),__export(__webpack_require__(85)),__export(__webpack_require__(86)),__export(__webpack_require__(87)),__export(__webpack_require__(11)),__export(__webpack_require__(1));var di_config_1=__webpack_require__(154);exports.defaultModule=di_config_1.default,__export(__webpack_require__(32)),__export(__webpack_require__(57)),__export(__webpack_require__(7)),__export(__webpack_require__(90)),__export(__webpack_require__(88)),__export(__webpack_require__(89)),__export(__webpack_require__(58)),__export(__webpack_require__(59)),__export(__webpack_require__(42)),__export(__webpack_require__(21)),__export(__webpack_require__(43)),__export(__webpack_require__(60)),__export(__webpack_require__(162)),__export(__webpack_require__(91)),__export(__webpack_require__(44)),__export(__webpack_require__(24)),__export(__webpack_require__(61)),__export(__webpack_require__(33)),__export(__webpack_require__(34)),__export(__webpack_require__(35)),__export(__webpack_require__(22)),__export(__webpack_require__(45)),__export(__webpack_require__(62)),__export(__webpack_require__(92)),__export(__webpack_require__(12)),__export(__webpack_require__(93)),__export(__webpack_require__(63)),__export(__webpack_require__(64)),__export(__webpack_require__(65)),__export(__webpack_require__(66)),__export(__webpack_require__(16)),__export(__webpack_require__(94)),__export(__webpack_require__(67)),__export(__webpack_require__(25)),__export(__webpack_require__(95));var di_config_2=__webpack_require__(168);exports.moveModule=di_config_2.default;var di_config_3=__webpack_require__(156);exports.boundsModule=di_config_3.default;var di_config_4=__webpack_require__(164);exports.fadeModule=di_config_4.default;var di_config_5=__webpack_require__(170);exports.selectModule=di_config_5.default;var di_config_6=__webpack_require__(171);exports.undoRedoModule=di_config_6.default;var di_config_7=__webpack_require__(172);exports.viewportModule=di_config_7.default;var di_config_8=__webpack_require__(165);exports.hoverModule=di_config_8.default;var di_config_9=__webpack_require__(160);exports.edgeEditModule=di_config_9.default;var di_config_10=__webpack_require__(163);exports.exportModule=di_config_10.default;var di_config_11=__webpack_require__(161);exports.expandModule=di_config_11.default;var di_config_12=__webpack_require__(169);exports.openModule=di_config_12.default;var di_config_13=__webpack_require__(159);exports.buttonModule=di_config_13.default,__export(__webpack_require__(174)),__export(__webpack_require__(46)),__export(__webpack_require__(175)),__export(__webpack_require__(176)),__export(__webpack_require__(177)),__export(__webpack_require__(178)),__export(__webpack_require__(179)),__export(__webpack_require__(96)),__export(__webpack_require__(97)),__export(__webpack_require__(181)),__export(__webpack_require__(182)),__export(__webpack_require__(68)),__export(__webpack_require__(183));var di_config_14=__webpack_require__(180);exports.modelSourceModule=di_config_14.default,__export(__webpack_require__(98)),__export(__webpack_require__(69)),__export(__webpack_require__(185)),__export(__webpack_require__(3)),__export(__webpack_require__(71)),__export(__webpack_require__(26));

/***/ }),
/* 38 */,
/* 39 */,
/* 40 */,
/* 41 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},__metadata=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},__param=this&&this.__param||function(t,e){return function(n,o){e(n,o,t)}};Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),types_1=__webpack_require__(1),geometry_1=__webpack_require__(3),smodel_1=__webpack_require__(2),command_1=__webpack_require__(5),CanvasBoundsInitializer=function(){function t(t){this.actionDispatcher=t}return t.prototype.decorate=function(t,e){return e instanceof smodel_1.SModelRoot&&!geometry_1.isValidDimension(e.canvasBounds)&&(this.rootAndVnode=[e,t]),t},t.prototype.postUpdate=function(){if(void 0!==this.rootAndVnode){var t=this.rootAndVnode[1].elm,e=this.rootAndVnode[0].canvasBounds;if(void 0!==t){var n=this.getBoundsInPage(t);geometry_1.almostEquals(n.x,e.x)&&geometry_1.almostEquals(n.y,e.y)&&geometry_1.almostEquals(n.width,e.width)&&geometry_1.almostEquals(n.height,e.width)||this.actionDispatcher.dispatch(new InitializeCanvasBoundsAction(n))}this.rootAndVnode=void 0}},t.prototype.getBoundsInPage=function(t){var e=t.getBoundingClientRect(),n="undefined"!=typeof window?{x:window.scrollX,y:window.scrollY}:geometry_1.ORIGIN_POINT;return{x:e.left+n.x,y:e.top+n.y,width:e.width,height:e.height}},t=__decorate([inversify_1.injectable(),__param(0,inversify_1.inject(types_1.TYPES.IActionDispatcher)),__metadata("design:paramtypes",[Object])],t)}();exports.CanvasBoundsInitializer=CanvasBoundsInitializer;var InitializeCanvasBoundsAction=function(){function t(t){this.newCanvasBounds=t,this.kind=InitializeCanvasBoundsCommand.KIND}return t}();exports.InitializeCanvasBoundsAction=InitializeCanvasBoundsAction;var InitializeCanvasBoundsCommand=function(t){function e(e){var n=t.call(this)||this;return n.action=e,n}return __extends(e,t),e.prototype.execute=function(t){return this.newCanvasBounds=this.action.newCanvasBounds,t.root.canvasBounds=this.newCanvasBounds,t.root},e.prototype.undo=function(t){return t.root},e.prototype.redo=function(t){return t.root},e.KIND="initializeCanvasBounds",e}(command_1.SystemCommand);exports.InitializeCanvasBoundsCommand=InitializeCanvasBoundsCommand;

/***/ }),
/* 42 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function createRoutingHandle(e,t,n){var o=new model_1.SRoutingHandle;return o.type="junction"===e?"routing-point":"volatile-routing-point",o.kind=e,o.pointIndex=n,o}function createRoutingHandles(e){var t=e.routingPoints.length,n=e.id;e.add(createRoutingHandle("line",n,-1));for(var o=0;o<t;o++)e.add(createRoutingHandle("junction",n,o)),e.add(createRoutingHandle("line",n,o))}var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,r=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,o);else for(var d=e.length-1;d>=0;d--)(i=e[d])&&(r=(a<3?i(r):a>3?i(t,n,r):i(t,n))||r);return a>3&&r&&Object.defineProperty(t,n,r),r},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),model_1=__webpack_require__(21),command_1=__webpack_require__(5),smodel_1=__webpack_require__(2),animation_1=__webpack_require__(19);exports.createRoutingHandle=createRoutingHandle,exports.createRoutingHandles=createRoutingHandles;var SwitchEditModeAction=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t=[]),this.elementsToActivate=e,this.elementsToDeactivate=t,this.kind=SwitchEditModeCommand.KIND}return e}();exports.SwitchEditModeAction=SwitchEditModeAction;var SwitchEditModeCommand=function(e){function t(t){var n=e.call(this)||this;return n.action=t,n.elementsToActivate=[],n.elementsToDeactivate=[],n.handlesToRemove=[],n}return __extends(t,e),t.prototype.execute=function(e){var t=this,n=e.root.index;return this.action.elementsToActivate.forEach(function(e){var o=n.getById(e);void 0!==o&&t.elementsToActivate.push(o)}),this.action.elementsToDeactivate.forEach(function(e){var o=n.getById(e);if(void 0!==o&&t.elementsToDeactivate.push(o),o instanceof model_1.SRoutingHandle&&model_1.isRoutable(o.parent)){var i=o.parent;t.shouldRemoveHandle(o,i)&&(t.handlesToRemove.push({handle:o,parent:i}),t.elementsToDeactivate.push(i),t.elementsToActivate.push(i))}}),this.doExecute(e)},t.prototype.doExecute=function(e){return this.handlesToRemove.forEach(function(e){e.point=e.parent.routingPoints.splice(e.handle.pointIndex,1)[0]}),this.elementsToDeactivate.forEach(function(e){model_1.isRoutable(e)&&e instanceof smodel_1.SParentElement?e.removeAll(function(e){return e instanceof model_1.SRoutingHandle}):e instanceof model_1.SRoutingHandle&&(e.editMode=!1)}),this.elementsToActivate.forEach(function(e){model_1.canEditRouting(e)&&e instanceof smodel_1.SParentElement?createRoutingHandles(e):e instanceof model_1.SRoutingHandle&&(e.editMode=!0)}),e.root},t.prototype.shouldRemoveHandle=function(e,t){if("junction"===e.kind){return void 0===t.route().find(function(t){return t.pointIndex===e.pointIndex})}return!1},t.prototype.undo=function(e){return this.handlesToRemove.forEach(function(e){void 0!==e.point&&e.parent.routingPoints.splice(e.handle.pointIndex,0,e.point)}),this.elementsToActivate.forEach(function(e){model_1.isRoutable(e)&&e instanceof smodel_1.SParentElement?e.removeAll(function(e){return e instanceof model_1.SRoutingHandle}):e instanceof model_1.SRoutingHandle&&(e.editMode=!1)}),this.elementsToDeactivate.forEach(function(e){model_1.canEditRouting(e)&&e instanceof smodel_1.SParentElement?createRoutingHandles(e):e instanceof model_1.SRoutingHandle&&(e.editMode=!0)}),e.root},t.prototype.redo=function(e){return this.doExecute(e)},t.KIND="switchEditMode",t=__decorate([inversify_1.injectable(),__metadata("design:paramtypes",[SwitchEditModeAction])],t)}(command_1.Command);exports.SwitchEditModeCommand=SwitchEditModeCommand;var MoveRoutingHandleAction=function(){function e(e,t){void 0===t&&(t=!0),this.moves=e,this.animate=t,this.kind=MoveRoutingHandleCommand.KIND}return e}();exports.MoveRoutingHandleAction=MoveRoutingHandleAction;var MoveRoutingHandleCommand=function(e){function t(t){var n=e.call(this)||this;return n.action=t,n.resolvedMoves=new Map,n.originalRoutingPoints=new Map,n}return __extends(t,e),t.prototype.execute=function(e){var t=this,n=e.root;return this.action.moves.forEach(function(e){var o=t.resolve(e,n.index);if(void 0!==o){t.resolvedMoves.set(o.elementId,o);var i=o.parent;model_1.isRoutable(i)&&t.originalRoutingPoints.set(i.id,i.routingPoints.slice())}}),this.action.animate?new MoveHandlesAnimation(n,this.resolvedMoves,this.originalRoutingPoints,e).start():this.doMove(e)},t.prototype.resolve=function(e,t){var n=t.getById(e.elementId);if(n instanceof model_1.SRoutingHandle)return{elementId:e.elementId,element:n,parent:n.parent,fromPosition:e.fromPosition,toPosition:e.toPosition}},t.prototype.doMove=function(e){return this.resolvedMoves.forEach(function(e){var t=e.element,n=e.parent;if(model_1.isRoutable(n)){var o=n.routingPoints,i=t.pointIndex;"line"===t.kind&&(t.kind="junction",t.type="routing-point",o.splice(i+1,0,e.fromPosition||o[Math.max(i,0)]),n.children.forEach(function(e){e instanceof model_1.SRoutingHandle&&(e===t||e.pointIndex>i)&&e.pointIndex++}),n.add(createRoutingHandle("line",n.id,i)),n.add(createRoutingHandle("line",n.id,i+1)),i++),i>=0&&i<o.length&&(o[i]=e.toPosition)}}),e.root},t.prototype.undo=function(e){var t=this;return this.action.animate?new MoveHandlesAnimation(e.root,this.resolvedMoves,this.originalRoutingPoints,e,!0).start():(this.resolvedMoves.forEach(function(e){var n=e.parent,o=t.originalRoutingPoints.get(n.id);void 0!==o&&model_1.isRoutable(n)&&(n.routingPoints=o,n.removeAll(function(e){return e instanceof model_1.SRoutingHandle}),createRoutingHandles(n))}),e.root)},t.prototype.redo=function(e){return this.action.animate?new MoveHandlesAnimation(e.root,this.resolvedMoves,this.originalRoutingPoints,e,!1).start():this.doMove(e)},t.KIND="moveHandle",t=__decorate([inversify_1.injectable(),__metadata("design:paramtypes",[MoveRoutingHandleAction])],t)}(command_1.Command);exports.MoveRoutingHandleCommand=MoveRoutingHandleCommand;var MoveHandlesAnimation=function(e){function t(t,n,o,i,a){void 0===a&&(a=!1);var r=e.call(this,i)||this;return r.model=t,r.handleMoves=n,r.originalRoutingPoints=o,r.reverse=a,r}return __extends(t,e),t.prototype.tween=function(e){var t=this;return this.handleMoves.forEach(function(n){var o=n.parent;if(model_1.isRoutable(o)&&void 0!==n.fromPosition){if(t.reverse&&1===e){var i=t.originalRoutingPoints.get(o.id);if(void 0!==i)return o.routingPoints=i,o.removeAll(function(e){return e instanceof model_1.SRoutingHandle}),void createRoutingHandles(o)}var a=o.routingPoints,r=n.element.pointIndex;r>=0&&r<a.length&&(t.reverse?a[r]={x:(1-e)*n.toPosition.x+e*n.fromPosition.x,y:(1-e)*n.toPosition.y+e*n.fromPosition.y}:a[r]={x:(1-e)*n.fromPosition.x+e*n.toPosition.x,y:(1-e)*n.fromPosition.y+e*n.toPosition.y})}}),this.model},t}(animation_1.Animation);exports.MoveHandlesAnimation=MoveHandlesAnimation;

/***/ }),
/* 43 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __decorate=this&&this.__decorate||function(e,t,n,o){var l,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var i=e.length-1;i>=0;i--)(l=e[i])&&(a=(r<3?l(a):r>3?l(t,n,a):l(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(exports,"__esModule",{value:!0});var smodel_utils_1=__webpack_require__(6),model_1=__webpack_require__(60),inversify_1=__webpack_require__(0),CollapseExpandAction=function(){function e(t,n){this.expandIds=t,this.collapseIds=n,this.kind=e.KIND}return e.KIND="collapseExpand",e}();exports.CollapseExpandAction=CollapseExpandAction;var CollapseExpandAllAction=function(){function e(t){void 0===t&&(t=!0),this.expand=t,this.kind=e.KIND}return e.KIND="collapseExpandAll",e}();exports.CollapseExpandAllAction=CollapseExpandAllAction;var ExpandButtonHandler=function(){function e(){}return e.prototype.buttonPressed=function(e){var t=smodel_utils_1.findParentByFeature(e,model_1.isExpandable);return void 0!==t?[new CollapseExpandAction(t.expanded?[]:[t.id],t.expanded?[t.id]:[])]:[]},e.TYPE="button:expand",e=__decorate([inversify_1.injectable()],e)}();exports.ExpandButtonHandler=ExpandButtonHandler;

/***/ }),
/* 44 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function isExportable(e){return e.hasFeature(exports.exportFeature)&&void 0!==e.export}Object.defineProperty(exports,"__esModule",{value:!0}),exports.exportFeature=Symbol("exportFeature"),exports.isExportable=isExportable;

/***/ }),
/* 45 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var t in o)o.hasOwnProperty(t)&&(e[t]=o[t])};return function(o,t){function i(){this.constructor=o}e(o,t),o.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}}(),__decorate=this&&this.__decorate||function(e,o,t,i){var n,r=arguments.length,s=r<3?o:null===i?i=Object.getOwnPropertyDescriptor(o,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,o,t,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(r<3?n(s):r>3?n(o,t,s):n(o,t))||s);return r>3&&s&&Object.defineProperty(o,t,s),s};Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),geometry_1=__webpack_require__(3),smodel_1=__webpack_require__(2),smodel_2=__webpack_require__(2),smodel_utils_1=__webpack_require__(6),command_1=__webpack_require__(5),animation_1=__webpack_require__(19),mouse_tool_1=__webpack_require__(15),vnode_utils_1=__webpack_require__(11),model_1=__webpack_require__(16),model_2=__webpack_require__(12),model_3=__webpack_require__(7),model_4=__webpack_require__(21),edit_routing_1=__webpack_require__(42),model_5=__webpack_require__(22),MoveAction=function(){function e(e,o){void 0===o&&(o=!0),this.moves=e,this.animate=o,this.kind=MoveCommand.KIND}return e}();exports.MoveAction=MoveAction;var MoveCommand=function(e){function o(o){var t=e.call(this)||this;return t.action=o,t.resolvedMoves=new Map,t.resolvedRoutes=new Map,t}return __extends(o,e),o.prototype.execute=function(e){var o=this,t=e.root,i=new Set;return this.action.moves.forEach(function(e){var n=o.resolve(e,t.index);void 0!==n&&(o.resolvedMoves.set(n.elementId,n),t.index.getAttachedElements(n.element).forEach(function(e){return i.add(e)}))}),i.forEach(function(e){return o.handleAttachedElement(e)}),this.action.animate?new MoveAnimation(t,this.resolvedMoves,this.resolvedRoutes,e).start():this.doMove(e)},o.prototype.resolve=function(e,o){var t=o.getById(e.elementId);if(void 0!==t&&model_5.isLocateable(t)){var i=e.fromPosition||{x:t.position.x,y:t.position.y};return{elementId:e.elementId,element:t,fromPosition:i,toPosition:e.toPosition}}},o.prototype.handleAttachedElement=function(e){if(model_4.isRoutable(e)){var o=e.source,t=o?this.resolvedMoves.get(o.id):void 0,i=e.target,n=i?this.resolvedMoves.get(i.id):void 0;if(void 0!==t&&void 0!==n){var r=n.toPosition.x-n.fromPosition.x,s=n.toPosition.y-n.fromPosition.y;this.resolvedRoutes.set(e.id,{elementId:e.id,element:e,fromRoute:e.routingPoints,toRoute:e.routingPoints.map(function(e){return{x:e.x+r,y:e.y+s}})})}}},o.prototype.doMove=function(e,o){return this.resolvedMoves.forEach(function(e){e.element.position=o?e.fromPosition:e.toPosition}),this.resolvedRoutes.forEach(function(e){e.element.routingPoints=o?e.fromRoute:e.toRoute}),e.root},o.prototype.undo=function(e){return new MoveAnimation(e.root,this.resolvedMoves,this.resolvedRoutes,e,!0).start()},o.prototype.redo=function(e){return new MoveAnimation(e.root,this.resolvedMoves,this.resolvedRoutes,e,!1).start()},o.prototype.merge=function(e,t){var i=this;return!this.action.animate&&e instanceof o&&(e.action.moves.forEach(function(e){var o=i.resolvedMoves.get(e.elementId);if(o)o.toPosition=e.toPosition;else{var n=i.resolve(e,t.root.index);n&&i.resolvedMoves.set(n.elementId,n)}}),!0)},o.KIND="move",o}(command_1.MergeableCommand);exports.MoveCommand=MoveCommand;var MoveAnimation=function(e){function o(o,t,i,n,r){void 0===r&&(r=!1);var s=e.call(this,n)||this;return s.model=o,s.elementMoves=t,s.elementRoutes=i,s.reverse=r,s}return __extends(o,e),o.prototype.tween=function(e){var o=this;return this.elementMoves.forEach(function(t){o.reverse?t.element.position={x:(1-e)*t.toPosition.x+e*t.fromPosition.x,y:(1-e)*t.toPosition.y+e*t.fromPosition.y}:t.element.position={x:(1-e)*t.fromPosition.x+e*t.toPosition.x,y:(1-e)*t.fromPosition.y+e*t.toPosition.y}}),this.elementRoutes.forEach(function(t){for(var i=[],n=0;n<t.fromRoute.length&&n<t.toRoute.length;n++){var r=t.fromRoute[n],s=t.toRoute[n];o.reverse?i.push({x:(1-e)*s.x+e*r.x,y:(1-e)*s.y+e*r.y}):i.push({x:(1-e)*r.x+e*s.x,y:(1-e)*r.y+e*s.y})}t.element.routingPoints=i}),this.model},o}(animation_1.Animation);exports.MoveAnimation=MoveAnimation;var MoveMouseListener=function(e){function o(){var o=null!==e&&e.apply(this,arguments)||this;return o.hasDragged=!1,o}return __extends(o,e),o.prototype.mouseDown=function(e,o){var t=[];if(0===o.button){var i=smodel_utils_1.findParentByFeature(e,model_5.isMoveable),n=e instanceof model_4.SRoutingHandle;this.lastDragPosition=void 0!==i||n?{x:o.pageX,y:o.pageY}:void 0,this.hasDragged=!1,n&&t.push(new edit_routing_1.SwitchEditModeAction([e.id],[]))}return t},o.prototype.mouseMove=function(e,o){var t=this,i=[];if(0===o.buttons)this.mouseUp(e,o);else if(this.lastDragPosition){var n=smodel_utils_1.findParentByFeature(e,model_1.isViewport);this.hasDragged=!0;var r=n?n.zoom:1,s=(o.pageX-this.lastDragPosition.x)/r,a=(o.pageY-this.lastDragPosition.y)/r,d=[],u=[];e.root.index.all().filter(function(e){return model_2.isSelectable(e)&&e.selected}).forEach(function(e){if(model_5.isMoveable(e))d.push({elementId:e.id,fromPosition:{x:e.position.x,y:e.position.y},toPosition:{x:e.position.x+s,y:e.position.y+a}});else if(e instanceof model_4.SRoutingHandle){var o=t.getHandlePosition(e);void 0!==o&&u.push({elementId:e.id,fromPosition:o,toPosition:{x:o.x+s,y:o.y+a}})}}),this.lastDragPosition={x:o.pageX,y:o.pageY},d.length>0&&i.push(new MoveAction(d,!1)),u.length>0&&i.push(new edit_routing_1.MoveRoutingHandleAction(u,!1))}return i},o.prototype.getHandlePosition=function(e){var o=e.parent;if(model_4.isRoutable(o))if("line"===e.kind){for(var t=function(e){return void 0!==e.pointIndex?e.pointIndex:"target"===e.kind?o.routingPoints.length:-1},i=o.route(),n=void 0,r=void 0,s=0,a=i;s<a.length;s++){var d=a[s],u=t(d);u<=e.pointIndex&&(void 0===n||u>t(n))&&(n=d),u>e.pointIndex&&(void 0===r||u<t(r))&&(r=d)}if(void 0!==n&&void 0!==r)return geometry_1.centerOfLine(n,r)}else if(e.pointIndex>=0)return o.routingPoints[e.pointIndex]},o.prototype.mouseEnter=function(e,o){return e instanceof smodel_2.SModelRoot&&0===o.buttons&&this.mouseUp(e,o),[]},o.prototype.mouseUp=function(e,o){var t=[];return this.lastDragPosition&&e.root.index.all().forEach(function(e){e instanceof model_4.SRoutingHandle&&e.editMode&&t.push(new edit_routing_1.SwitchEditModeAction([],[e.id]))}),this.hasDragged=!1,this.lastDragPosition=void 0,t},o.prototype.decorate=function(e,o){return e},o}(mouse_tool_1.MouseListener);exports.MoveMouseListener=MoveMouseListener;var LocationDecorator=function(){function e(){}return e.prototype.decorate=function(e,o){var t="";return model_5.isLocateable(o)&&o instanceof smodel_1.SChildElement&&void 0!==o.parent&&(t="translate("+o.position.x+", "+o.position.y+")"),model_3.isAlignable(o)&&(t.length>0&&(t+=" "),t+="translate("+o.alignment.x+", "+o.alignment.y+")"),t.length>0&&vnode_utils_1.setAttr(e,"transform",t),e},e.prototype.postUpdate=function(){},e=__decorate([inversify_1.injectable()],e)}();exports.LocationDecorator=LocationDecorator;

/***/ }),
/* 46 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();Object.defineProperty(exports,"__esModule",{value:!0});var iterable_1=__webpack_require__(70),smodel_1=__webpack_require__(2),model_1=__webpack_require__(7),model_2=__webpack_require__(33),model_3=__webpack_require__(35),model_4=__webpack_require__(22),model_5=__webpack_require__(12),viewport_root_1=__webpack_require__(67),geometry_1=__webpack_require__(3),model_6=__webpack_require__(7),model_7=__webpack_require__(21),smodel_utils_1=__webpack_require__(6),routing_1=__webpack_require__(173),SGraph=function(e){function t(t){return void 0===t&&(t=new SGraphIndex),e.call(this,t)||this}return __extends(t,e),t}(viewport_root_1.ViewportRootElement);exports.SGraph=SGraph;var SConnectableElement=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t.prototype,"incomingEdges",{get:function(){return this.index.getIncomingEdges(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outgoingEdges",{get:function(){return this.index.getOutgoingEdges(this)},enumerable:!0,configurable:!0}),t.prototype.getAnchor=function(e,t){return geometry_1.center(this.bounds)},t.prototype.getTranslatedAnchor=function(e,t,o,r){var n=smodel_utils_1.translatePoint(e,t,this.parent),i=this.getAnchor(n,r);return smodel_utils_1.translatePoint(i,this.parent,o.parent)},t}(model_6.SShapeElement);exports.SConnectableElement=SConnectableElement;var SNode=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selected=!1,t.hoverFeedback=!1,t.opacity=1,t}return __extends(t,e),t.prototype.hasFeature=function(e){return e===model_5.selectFeature||e===model_4.moveFeature||e===model_1.boundsFeature||e===model_1.layoutContainerFeature||e===model_2.fadeFeature||e===model_3.hoverFeedbackFeature||e===model_3.popupFeature},t}(SConnectableElement);exports.SNode=SNode;var SPort=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selected=!1,t.hoverFeedback=!1,t.opacity=1,t}return __extends(t,e),t.prototype.hasFeature=function(e){return e===model_5.selectFeature||e===model_1.boundsFeature||e===model_2.fadeFeature||e===model_3.hoverFeedbackFeature},t}(SConnectableElement);exports.SPort=SPort;var SEdge=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.routingPoints=[],t.selected=!1,t.hoverFeedback=!1,t.opacity=1,t}return __extends(t,e),Object.defineProperty(t.prototype,"source",{get:function(){return this.index.getById(this.sourceId)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){return this.index.getById(this.targetId)},enumerable:!0,configurable:!0}),t.prototype.route=function(){void 0===this.router&&(this.router=new routing_1.LinearEdgeRouter);var e=this.router.route(this);return model_7.filterEditModeHandles(e,this)},t.prototype.hasFeature=function(e){return e===model_2.fadeFeature||e===model_5.selectFeature||e===model_7.editFeature||e===model_3.hoverFeedbackFeature},t}(smodel_1.SChildElement);exports.SEdge=SEdge;var SLabel=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.selected=!1,t.alignment=geometry_1.ORIGIN_POINT,t.opacity=1,t}return __extends(t,e),t.prototype.hasFeature=function(e){return e===model_1.boundsFeature||e===model_1.alignFeature||e===model_2.fadeFeature||e===model_1.layoutableChildFeature},t}(model_6.SShapeElement);exports.SLabel=SLabel;var SCompartment=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.opacity=1,t}return __extends(t,e),t.prototype.hasFeature=function(e){return e===model_1.boundsFeature||e===model_1.layoutContainerFeature||e===model_1.layoutableChildFeature||e===model_2.fadeFeature},t}(model_6.SShapeElement);exports.SCompartment=SCompartment;var SGraphIndex=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.outgoing=new Map,t.incoming=new Map,t}return __extends(t,e),t.prototype.add=function(t){if(e.prototype.add.call(this,t),t instanceof SEdge){if(t.sourceId){var o=this.outgoing.get(t.sourceId);void 0===o?this.outgoing.set(t.sourceId,[t]):o.push(t)}if(t.targetId){var r=this.incoming.get(t.targetId);void 0===r?this.incoming.set(t.targetId,[t]):r.push(t)}}},t.prototype.remove=function(t){if(e.prototype.remove.call(this,t),t instanceof SEdge){var o=this.outgoing.get(t.sourceId);if(void 0!==o){var r=o.indexOf(t);r>=0&&(1===o.length?this.outgoing.delete(t.sourceId):o.splice(r,1))}var n=this.incoming.get(t.targetId);if(void 0!==n){var r=n.indexOf(t);r>=0&&(1===n.length?this.incoming.delete(t.targetId):n.splice(r,1))}}},t.prototype.getAttachedElements=function(e){var t=this;return new iterable_1.FluentIterableImpl(function(){return{outgoing:t.outgoing.get(e.id),incoming:t.incoming.get(e.id),nextOutgoingIndex:0,nextIncomingIndex:0}},function(e){var t=e.nextOutgoingIndex;if(void 0!==e.outgoing&&t<e.outgoing.length)return e.nextOutgoingIndex=t+1,{done:!1,value:e.outgoing[t]};if(t=e.nextIncomingIndex,void 0!==e.incoming)for(;t<e.incoming.length;){var o=e.incoming[t];if(o.sourceId!==o.targetId)return e.nextIncomingIndex=t+1,{done:!1,value:o};t++}return{done:!0,value:void 0}})},t.prototype.getIncomingEdges=function(e){return this.incoming.get(e.id)||[]},t.prototype.getOutgoingEdges=function(e){return this.outgoing.get(e.id)||[]},t}(smodel_1.SModelIndex);exports.SGraphIndex=SGraphIndex;

/***/ }),
/* 47 */,
/* 48 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var binding_when_syntax_1=__webpack_require__(49),BindingOnSyntax=function(){function n(n){this._binding=n}return n.prototype.onActivation=function(n){return this._binding.onActivation=n,new binding_when_syntax_1.BindingWhenSyntax(this._binding)},n}();exports.BindingOnSyntax=BindingOnSyntax;

/***/ }),
/* 49 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var binding_on_syntax_1=__webpack_require__(48),constraint_helpers_1=__webpack_require__(77),BindingWhenSyntax=function(){function n(n){this._binding=n}return n.prototype.when=function(n){return this._binding.constraint=n,new binding_on_syntax_1.BindingOnSyntax(this._binding)},n.prototype.whenTargetNamed=function(n){return this._binding.constraint=constraint_helpers_1.namedConstraint(n),new binding_on_syntax_1.BindingOnSyntax(this._binding)},n.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(n){return null!==n.target&&!1===n.target.isNamed()&&!1===n.target.isTagged()},new binding_on_syntax_1.BindingOnSyntax(this._binding)},n.prototype.whenTargetTagged=function(n,t){return this._binding.constraint=constraint_helpers_1.taggedConstraint(n)(t),new binding_on_syntax_1.BindingOnSyntax(this._binding)},n.prototype.whenInjectedInto=function(n){return this._binding.constraint=function(t){return constraint_helpers_1.typeConstraint(n)(t.parentRequest)},new binding_on_syntax_1.BindingOnSyntax(this._binding)},n.prototype.whenParentNamed=function(n){return this._binding.constraint=function(t){return constraint_helpers_1.namedConstraint(n)(t.parentRequest)},new binding_on_syntax_1.BindingOnSyntax(this._binding)},n.prototype.whenParentTagged=function(n,t){return this._binding.constraint=function(i){return constraint_helpers_1.taggedConstraint(n)(t)(i.parentRequest)},new binding_on_syntax_1.BindingOnSyntax(this._binding)},n.prototype.whenAnyAncestorIs=function(n){return this._binding.constraint=function(t){return constraint_helpers_1.traverseAncerstors(t,constraint_helpers_1.typeConstraint(n))},new binding_on_syntax_1.BindingOnSyntax(this._binding)},n.prototype.whenNoAncestorIs=function(n){return this._binding.constraint=function(t){return!constraint_helpers_1.traverseAncerstors(t,constraint_helpers_1.typeConstraint(n))},new binding_on_syntax_1.BindingOnSyntax(this._binding)},n.prototype.whenAnyAncestorNamed=function(n){return this._binding.constraint=function(t){return constraint_helpers_1.traverseAncerstors(t,constraint_helpers_1.namedConstraint(n))},new binding_on_syntax_1.BindingOnSyntax(this._binding)},n.prototype.whenNoAncestorNamed=function(n){return this._binding.constraint=function(t){return!constraint_helpers_1.traverseAncerstors(t,constraint_helpers_1.namedConstraint(n))},new binding_on_syntax_1.BindingOnSyntax(this._binding)},n.prototype.whenAnyAncestorTagged=function(n,t){return this._binding.constraint=function(i){return constraint_helpers_1.traverseAncerstors(i,constraint_helpers_1.taggedConstraint(n)(t))},new binding_on_syntax_1.BindingOnSyntax(this._binding)},n.prototype.whenNoAncestorTagged=function(n,t){return this._binding.constraint=function(i){return!constraint_helpers_1.traverseAncerstors(i,constraint_helpers_1.taggedConstraint(n)(t))},new binding_on_syntax_1.BindingOnSyntax(this._binding)},n.prototype.whenAnyAncestorMatches=function(n){return this._binding.constraint=function(t){return constraint_helpers_1.traverseAncerstors(t,n)},new binding_on_syntax_1.BindingOnSyntax(this._binding)},n.prototype.whenNoAncestorMatches=function(n){return this._binding.constraint=function(t){return!constraint_helpers_1.traverseAncerstors(t,n)},new binding_on_syntax_1.BindingOnSyntax(this._binding)},n}();exports.BindingWhenSyntax=BindingWhenSyntax;

/***/ }),
/* 50 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function addNS(e,i,r){if(e.ns="http://www.w3.org/2000/svg","foreignObject"!==r&&void 0!==i)for(var d=0;d<i.length;++d){var o=i[d].data;void 0!==o&&addNS(o,i[d].children,i[d].sel)}}function h(e,i,r){var d,o,v,t={};if(void 0!==r?(t=i,is.array(r)?d=r:is.primitive(r)?o=r:r&&r.sel&&(d=[r])):void 0!==i&&(is.array(i)?d=i:is.primitive(i)?o=i:i&&i.sel?d=[i]:t=i),is.array(d))for(v=0;v<d.length;++v)is.primitive(d[v])&&(d[v]=vnode_1.vnode(void 0,void 0,void 0,d[v]));return"s"!==e[0]||"v"!==e[1]||"g"!==e[2]||3!==e.length&&"."!==e[3]&&"#"!==e[3]||addNS(t,d,e),vnode_1.vnode(e,t,d,o,void 0)}Object.defineProperty(exports,"__esModule",{value:!0});var vnode_1=__webpack_require__(51),is=__webpack_require__(78);exports.h=h,exports.default=h;

/***/ }),
/* 51 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function vnode(e,t,o,d,n){return{sel:e,data:t,children:o,text:d,elm:n,key:void 0===t?void 0:t.key}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.vnode=vnode,exports.default=vnode;

/***/ }),
/* 52 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __decorate=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},__metadata=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},__param=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}};Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),types_1=__webpack_require__(1),smodel_factory_1=__webpack_require__(10),animation_frame_syncer_1=__webpack_require__(30),set_model_1=__webpack_require__(31),undo_redo_1=__webpack_require__(63),action_1=__webpack_require__(53),action_handler_1=__webpack_require__(23),ActionDispatcher=function(){function t(t,e,n,i){this.actionHandlerRegistry=t,this.commandStack=e,this.logger=n,this.syncer=i,this.postponedActions=[],this.postponedActions=[];var o=new set_model_1.SetModelCommand(new set_model_1.SetModelAction(smodel_factory_1.EMPTY_ROOT));this.blockUntil=o.blockUntil,this.commandStack.execute(o)}return t.prototype.dispatchAll=function(t){var e=this;return Promise.all(t.map(function(t){return e.dispatch(t)}))},t.prototype.dispatch=function(t){return void 0!==this.blockUntil?this.handleBlocked(t,this.blockUntil):t.kind===undo_redo_1.UndoAction.KIND?this.commandStack.undo().then(function(){}):t.kind===undo_redo_1.RedoAction.KIND?this.commandStack.redo().then(function(){}):this.handleAction(t)},t.prototype.handleAction=function(t){this.logger.log(this,"handle",t);var e=this.actionHandlerRegistry.get(t.kind);if(e.length>0){for(var n=[],i=0,o=e;i<o.length;i++){var r=o[i],a=r.handle(t);action_1.isAction(a)?n.push(this.dispatch(a)):void 0!==a&&(n.push(this.commandStack.execute(a)),this.blockUntil=a.blockUntil)}return Promise.all(n)}return this.logger.warn(this,"Missing handler for action",t),Promise.reject("Missing handler for action '"+t.kind+"'")},t.prototype.handleBlocked=function(t,e){var n=this;if(e(t)){this.blockUntil=void 0;var i=this.handleAction(t),o=this.postponedActions;this.postponedActions=[];for(var r=0,a=o;r<a.length;r++){var c=a[r];this.dispatch(c.action).then(c.resolve,c.reject)}return i}return this.logger.log(this,"Action is postponed due to block condition",t),new Promise(function(e,i){n.postponedActions.push({action:t,resolve:e,reject:i})})},t=__decorate([inversify_1.injectable(),__param(0,inversify_1.inject(types_1.TYPES.ActionHandlerRegistry)),__param(1,inversify_1.inject(types_1.TYPES.ICommandStack)),__param(2,inversify_1.inject(types_1.TYPES.ILogger)),__param(3,inversify_1.inject(types_1.TYPES.AnimationFrameSyncer)),__metadata("design:paramtypes",[action_handler_1.ActionHandlerRegistry,Object,Object,animation_frame_syncer_1.AnimationFrameSyncer])],t)}();exports.ActionDispatcher=ActionDispatcher;

/***/ }),
/* 53 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function isAction(t){return void 0!==t&&t.hasOwnProperty("kind")&&"string"==typeof t.kind}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isAction=isAction;

/***/ }),
/* 54 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __decorate=this&&this.__decorate||function(e,t,o,r){var a,i=arguments.length,c=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,o,r);else for(var n=e.length-1;n>=0;n--)(a=e[n])&&(c=(i<3?a(c):i>3?a(t,o,c):a(t,o))||c);return i>3&&c&&Object.defineProperty(t,o,c),c},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),types_1=__webpack_require__(1),smodel_factory_1=__webpack_require__(10),SModelStorage=function(){function e(){this.localCache=new Map}return e.prototype.store=function(e){this.isLocalStorageAvailable()?localStorage.setItem(this.key,JSON.stringify(e)):this.localCache.set(this.key,JSON.stringify(e))},e.prototype.load=function(){var e=this.isLocalStorageAvailable()?localStorage.getItem(this.key):this.localCache.get(this.key);return e?JSON.parse(e):smodel_factory_1.EMPTY_ROOT},e.prototype.isLocalStorageAvailable=function(){try{return"object"==typeof localStorage&&null!==localStorage}catch(e){return!1}},Object.defineProperty(e.prototype,"key",{get:function(){return this.viewerOptions.baseDiv},enumerable:!0,configurable:!0}),__decorate([inversify_1.inject(types_1.TYPES.ViewerOptions),__metadata("design:type",Object)],e.prototype,"viewerOptions",void 0),e=__decorate([inversify_1.injectable()],e)}();exports.SModelStorage=SModelStorage;

/***/ }),
/* 55 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __decorate=this&&this.__decorate||function(e,t,i,r){var n,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(o<3?n(a):o>3?n(t,i,a):n(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}};Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),types_1=__webpack_require__(1),DOMHelper=function(){function e(e){this.viewerOptions=e}return e.prototype.getPrefix=function(){return void 0!==this.viewerOptions&&void 0!==this.viewerOptions.baseDiv?this.viewerOptions.baseDiv+"_":""},e.prototype.createUniqueDOMElementId=function(e){return this.getPrefix()+e.id},e.prototype.findSModelIdByDOMElement=function(e){return e.id.replace(this.getPrefix(),"")},e=__decorate([inversify_1.injectable(),__param(0,inversify_1.inject(types_1.TYPES.ViewerOptions)),__metadata("design:paramtypes",[Object])],e)}();exports.DOMHelper=DOMHelper;

/***/ }),
/* 56 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var geometry_1=__webpack_require__(3),smodel_1=__webpack_require__(2),model_1=__webpack_require__(7),AbstractLayout=function(){function t(){}return t.prototype.layout=function(t,e){var o=e.getBoundsData(t),i=this.getLayoutOptions(t),n=this.getChildrenSize(t,i,e),r=i.paddingFactor*(i.resizeContainer?n.width:Math.max(0,this.getFixedContainerBounds(t,i,e).width)-i.paddingLeft-i.paddingRight),a=i.paddingFactor*(i.resizeContainer?n.height:Math.max(0,this.getFixedContainerBounds(t,i,e).height)-i.paddingTop-i.paddingBottom);if(r>0&&a>0){var d=this.layoutChildren(t,e,i,r,a);o.bounds=this.getFinalContainerBounds(t,d,i,r,a),o.boundsChanged=!0}},t.prototype.getFinalContainerBounds=function(t,e,o,i,n){return{x:t.bounds.x,y:t.bounds.y,width:i+o.paddingLeft+o.paddingRight,height:n+o.paddingTop+o.paddingBottom}},t.prototype.getFixedContainerBounds=function(t,e,o){for(var i=t;;){if(model_1.isBoundsAware(i)){var n=i.bounds;if(model_1.isLayoutContainer(i)&&e.resizeContainer&&o.log.error(i,"Resizable container found while detecting fixed bounds"),geometry_1.isValidDimension(n))return n}if(!(i instanceof smodel_1.SChildElement))return o.log.error(i,"Cannot detect fixed bounds"),geometry_1.EMPTY_BOUNDS;i=i.parent}},t.prototype.layoutChildren=function(t,e,o,i,n){var r=this,a={x:o.paddingLeft+.5*(i-i/o.paddingFactor),y:o.paddingTop+.5*(n-n/o.paddingFactor)};return t.children.forEach(function(t){if(model_1.isLayoutableChild(t)){var d=e.getBoundsData(t),s=d.bounds,u=r.getChildLayoutOptions(t,o);void 0!==s&&geometry_1.isValidDimension(s)&&(a=r.layoutChild(t,d,s,u,o,a,i,n))}}),a},t.prototype.getDx=function(t,e,o){switch(t){case"left":return 0;case"center":return.5*(o-e.width);case"right":return o-e.width}},t.prototype.getDy=function(t,e,o){switch(t){case"top":return 0;case"center":return.5*(o-e.height);case"bottom":return o-e.height}},t.prototype.getChildLayoutOptions=function(t,e){var o=t.layoutOptions;return void 0===o?e:this.spread(e,o)},t.prototype.getLayoutOptions=function(t){for(var e=this,o=t,i=[];void 0!==o;){var n=o.layoutOptions;if(void 0!==n&&i.push(n),!(o instanceof smodel_1.SChildElement))break;o=o.parent}return i.reverse().reduce(function(t,o){return e.spread(t,o)},this.getDefaultLayoutOptions())},t}();exports.AbstractLayout=AbstractLayout;

/***/ }),
/* 57 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),__decorate=this&&this.__decorate||function(t,e,o,r){var a,u=arguments.length,i=u<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,r);else for(var n=t.length-1;n>=0;n--)(a=t[n])&&(i=(u<3?a(i):u>3?a(e,o,i):a(e,o))||i);return u>3&&i&&Object.defineProperty(e,o,i),i},__metadata=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},__param=this&&this.__param||function(t,e){return function(o,r){e(o,r,t)}};Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),types_1=__webpack_require__(1),registry_1=__webpack_require__(26),geometry_1=__webpack_require__(3),model_1=__webpack_require__(7),vbox_layout_1=__webpack_require__(90),hbox_layout_1=__webpack_require__(88),stack_layout_1=__webpack_require__(89),LayoutRegistry=function(t){function e(){var e=t.call(this)||this;return e.register(vbox_layout_1.VBoxLayouter.KIND,new vbox_layout_1.VBoxLayouter),e.register(hbox_layout_1.HBoxLayouter.KIND,new hbox_layout_1.HBoxLayouter),e.register(stack_layout_1.StackLayouter.KIND,new stack_layout_1.StackLayouter),e}return __extends(e,t),e}(registry_1.InstanceRegistry);exports.LayoutRegistry=LayoutRegistry;var Layouter=function(){function t(t,e){this.layoutRegistry=t,this.logger=e}return t.prototype.layout=function(t){new StatefulLayouter(t,this.layoutRegistry,this.logger).layout()},t=__decorate([inversify_1.injectable(),__param(0,inversify_1.inject(types_1.TYPES.LayoutRegistry)),__param(1,inversify_1.inject(types_1.TYPES.ILogger)),__metadata("design:paramtypes",[LayoutRegistry,Object])],t)}();exports.Layouter=Layouter;var StatefulLayouter=function(){function t(t,e,o){var r=this;this.element2boundsData=t,this.layoutRegistry=e,this.log=o,this.toBeLayouted=[],t.forEach(function(t,e){model_1.isLayoutContainer(e)&&r.toBeLayouted.push(e)})}return t.prototype.getBoundsData=function(t){var e=this.element2boundsData.get(t),o=t.bounds;return model_1.isLayoutContainer(t)&&this.toBeLayouted.indexOf(t)>=0&&(o=this.doLayout(t)),e||(e={bounds:o,boundsChanged:!1,alignmentChanged:!1},this.element2boundsData.set(t,e)),e},t.prototype.layout=function(){for(;this.toBeLayouted.length>0;){var t=this.toBeLayouted[0];this.doLayout(t)}},t.prototype.doLayout=function(t){var e=this.toBeLayouted.indexOf(t);e>=0&&this.toBeLayouted.splice(e,1);var o=this.layoutRegistry.get(t.layout);o&&o.layout(t,this);var r=this.element2boundsData.get(t);return void 0!==r&&void 0!==r.bounds?r.bounds:(this.log.error(t,"Layout failed"),geometry_1.EMPTY_BOUNDS)},t}();exports.StatefulLayouter=StatefulLayouter;

/***/ }),
/* 58 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),__decorate=this&&this.__decorate||function(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,r,a):i(e,r))||a);return o>3&&a&&Object.defineProperty(e,r,a),a},__metadata=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},__param=this&&this.__param||function(t,e){return function(r,n){e(r,n,t)}};Object.defineProperty(exports,"__esModule",{value:!0});var registry_1=__webpack_require__(26),inversify_1=__webpack_require__(0),types_1=__webpack_require__(1),ButtonHandlerRegistry=function(t){function e(e){var r=t.call(this)||this;return e.forEach(function(t){return r.register(t.TYPE,new t)}),r}return __extends(e,t),e=__decorate([inversify_1.injectable(),__param(0,inversify_1.multiInject(types_1.TYPES.IButtonHandler)),__param(0,inversify_1.optional()),__metadata("design:paramtypes",[Array])],e)}(registry_1.InstanceRegistry);exports.ButtonHandlerRegistry=ButtonHandlerRegistry;

/***/ }),
/* 59 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();Object.defineProperty(exports,"__esModule",{value:!0});var model_1=__webpack_require__(7),model_2=__webpack_require__(33),SButton=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.enabled=!0,t}return __extends(t,e),t.prototype.hasFeature=function(e){return e===model_1.boundsFeature||e===model_2.fadeFeature||e===model_1.layoutableChildFeature},t}(model_1.SShapeElement);exports.SButton=SButton;

/***/ }),
/* 60 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function isExpandable(e){return e.hasFeature(exports.expandFeature)&&"expanded"in e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.expandFeature=Symbol("expandFeature"),exports.isExpandable=isExpandable;

/***/ }),
/* 61 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),__decorate=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(a=(i<3?r(a):i>3?r(t,n,a):r(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),animation_1=__webpack_require__(19),smodel_1=__webpack_require__(2),vnode_utils_1=__webpack_require__(11),model_1=__webpack_require__(33),FadeAnimation=function(e){function t(t,n,o,r){void 0===r&&(r=!1);var i=e.call(this,o)||this;return i.model=t,i.elementFades=n,i.removeAfterFadeOut=r,i}return __extends(t,e),t.prototype.tween=function(e,t){for(var n=0,o=this.elementFades;n<o.length;n++){var r=o[n],i=r.element;"in"===r.type?i.opacity=e:"out"===r.type&&(i.opacity=1-e,1===e&&this.removeAfterFadeOut&&i instanceof smodel_1.SChildElement&&i.parent.remove(i))}return this.model},t}(animation_1.Animation);exports.FadeAnimation=FadeAnimation;var ElementFader=function(){function e(){}return e.prototype.decorate=function(e,t){return model_1.isFadeable(t)&&vnode_utils_1.setAttr(e,"opacity",t.opacity),e},e.prototype.postUpdate=function(){},e=__decorate([inversify_1.injectable()],e)}();exports.ElementFader=ElementFader;

/***/ }),
/* 62 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0});var mouse_tool_1=__webpack_require__(15),smodel_utils_1=__webpack_require__(6),model_1=__webpack_require__(92),OpenAction=function(){function e(t){this.elementId=t,this.kind=e.KIND}return e.KIND="open",e}();exports.OpenAction=OpenAction;var OpenMouseListener=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.doubleClick=function(e,t){var o=smodel_utils_1.findParentByFeature(e,model_1.isOpenable);return void 0!==o?[new OpenAction(o.id)]:[]},t}(mouse_tool_1.MouseListener);exports.OpenMouseListener=OpenMouseListener;

/***/ }),
/* 63 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0});var keyboard_1=__webpack_require__(36),key_tool_1=__webpack_require__(20),UndoAction=function(){function e(){this.kind=e.KIND}return e.KIND="undo",e}();exports.UndoAction=UndoAction;var RedoAction=function(){function e(){this.kind=e.KIND}return e.KIND="redo",e}();exports.RedoAction=RedoAction;var UndoRedoKeyListener=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.keyDown=function(e,t){return keyboard_1.matchesKeystroke(t,"KeyZ","ctrlCmd")?[new UndoAction]:keyboard_1.matchesKeystroke(t,"KeyZ","ctrlCmd","shift")?[new RedoAction]:[]},t}(key_tool_1.KeyListener);exports.UndoRedoKeyListener=UndoRedoKeyListener;

/***/ }),
/* 64 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function forEachMatch(t,e){for(var r in t)t.hasOwnProperty(r)&&e(r,t[r])}function applyMatches(t,e){var r;t instanceof smodel_1.SModelRoot?r=t.index:(r=new smodel_1.SModelIndex,r.add(t));for(var i=0,d=e;i<d.length;i++){var a=d[i],o=!1;if(void 0!==a.left&&void 0!==a.leftParentId){var h=r.getById(a.leftParentId);if(void 0!==h&&void 0!==h.children){var n=h.children.indexOf(a.left);n>=0&&(void 0!==a.right&&a.leftParentId===a.rightParentId?(h.children.splice(n,1,a.right),o=!0):h.children.splice(n,1)),r.remove(a.left)}}if(!o&&void 0!==a.right&&void 0!==a.rightParentId){var l=r.getById(a.rightParentId);void 0!==l&&(void 0===l.children&&(l.children=[]),l.children.push(a.right))}}}Object.defineProperty(exports,"__esModule",{value:!0});var smodel_1=__webpack_require__(2);exports.forEachMatch=forEachMatch;var ModelMatcher=function(){function t(){}return t.prototype.match=function(t,e){var r={};return this.matchLeft(t,r),this.matchRight(e,r),r},t.prototype.matchLeft=function(t,e,r){var i=e[t.id];if(void 0!==i?(i.left=t,i.leftParentId=r):(i={left:t,leftParentId:r},e[t.id]=i),smodel_1.isParent(t))for(var d=0,a=t.children;d<a.length;d++){var o=a[d];this.matchLeft(o,e,t.id)}},t.prototype.matchRight=function(t,e,r){var i=e[t.id];if(void 0!==i?(i.right=t,i.rightParentId=r):(i={right:t,rightParentId:r},e[t.id]=i),smodel_1.isParent(t))for(var d=0,a=t.children;d<a.length;d++){var o=a[d];this.matchRight(o,e,t.id)}},t}();exports.ModelMatcher=ModelMatcher,exports.applyMatches=applyMatches;

/***/ }),
/* 65 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),__decorate=this&&this.__decorate||function(e,t,o,i){var n,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var d=e.length-1;d>=0;d--)(n=e[d])&&(r=(a<3?n(r):a>3?n(t,o,r):n(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),geometry_1=__webpack_require__(3),animation_1=__webpack_require__(19),command_1=__webpack_require__(5),fade_1=__webpack_require__(61),smodel_1=__webpack_require__(2),move_1=__webpack_require__(45),model_1=__webpack_require__(33),model_2=__webpack_require__(22),model_3=__webpack_require__(7),viewport_root_1=__webpack_require__(67),model_4=__webpack_require__(12),model_matching_1=__webpack_require__(64),resize_1=__webpack_require__(158),UpdateModelAction=function(){function e(e,t){void 0===t&&(t=!0),this.animate=t,this.kind=UpdateModelCommand.KIND,void 0!==e.id?this.newRoot=e:this.matches=e}return e}();exports.UpdateModelAction=UpdateModelAction;var UpdateModelCommand=function(e){function t(t){var o=e.call(this)||this;return o.action=t,o}return __extends(t,e),t.prototype.execute=function(e){var t;return void 0!==this.action.newRoot?t=e.modelFactory.createRoot(this.action.newRoot):(t=e.modelFactory.createRoot(e.root),void 0!==this.action.matches&&this.applyMatches(t,this.action.matches,e)),this.oldRoot=e.root,this.newRoot=t,this.performUpdate(this.oldRoot,this.newRoot,e)},t.prototype.performUpdate=function(e,t,o){if(void 0!==this.action.animate&&!this.action.animate||e.id!==t.id)return e.type===t.type&&geometry_1.isValidDimension(e.canvasBounds)&&(t.canvasBounds=e.canvasBounds),t;var i=void 0;if(void 0===this.action.matches){i=(new model_matching_1.ModelMatcher).match(e,t)}else i=this.convertToMatchResult(this.action.matches,e,t);var n=this.computeAnimation(t,i,o);return n instanceof animation_1.Animation?n.start():n},t.prototype.applyMatches=function(e,t,o){for(var i=e.index,n=0,a=t;n<a.length;n++){var r=a[n];if(void 0!==r.left){var d=i.getById(r.left.id);d instanceof smodel_1.SChildElement&&d.parent.remove(d)}if(void 0!==r.right){var d=o.modelFactory.createElement(r.right),s=void 0;void 0!==r.rightParentId&&(s=i.getById(r.rightParentId)),s instanceof smodel_1.SParentElement?s.add(d):e.add(d)}}},t.prototype.convertToMatchResult=function(e,t,o){for(var i={},n=0,a=e;n<a.length;n++){var r=a[n],d={},s=void 0;void 0!==r.left&&(s=r.left.id,d.left=t.index.getById(s),d.leftParentId=r.leftParentId),void 0!==r.right&&(s=r.right.id,d.right=o.index.getById(s),d.rightParentId=r.rightParentId),void 0!==s&&(i[s]=d)}return i},t.prototype.computeAnimation=function(e,t,o){var i=this,n={fades:[]};model_matching_1.forEachMatch(t,function(t,a){if(void 0!==a.left&&void 0!==a.right)i.updateElement(a.left,a.right,n);else if(void 0!==a.right){var r=a.right;model_1.isFadeable(r)&&(r.opacity=0,n.fades.push({element:r,type:"in"}))}else if(a.left instanceof smodel_1.SChildElement){var d=a.left;if(model_1.isFadeable(d)&&void 0!==a.leftParentId&&void 0===e.index.getById(d.id)){var s=e.index.getById(a.leftParentId);if(s instanceof smodel_1.SParentElement){var l=o.modelFactory.createElement(d);s.add(l),n.fades.push({element:l,type:"out"})}}}});var a=this.createAnimations(n,e,o);return a.length>=2?new animation_1.CompoundAnimation(e,o,a):1===a.length?a[0]:e},t.prototype.updateElement=function(e,t,o){if(model_2.isLocateable(e)&&model_2.isLocateable(t)){var i=e.position,n=t.position;geometry_1.almostEquals(i.x,n.x)&&geometry_1.almostEquals(i.y,n.y)||(void 0===o.moves&&(o.moves=[]),o.moves.push({element:t,elementId:t.id,fromPosition:i,toPosition:n}),t.position=i)}model_3.isBoundsAware(e)&&model_3.isBoundsAware(t)&&(geometry_1.isValidDimension(t.bounds)?geometry_1.almostEquals(e.bounds.width,t.bounds.width)&&geometry_1.almostEquals(e.bounds.height,t.bounds.height)||(void 0===o.resizes&&(o.resizes=[]),o.resizes.push({element:t,fromDimension:{width:e.bounds.width,height:e.bounds.height},toDimension:{width:t.bounds.width,height:t.bounds.height}})):t.bounds={x:t.bounds.x,y:t.bounds.y,width:e.bounds.width,height:e.bounds.height}),model_4.isSelectable(e)&&model_4.isSelectable(t)&&(t.selected=e.selected),e instanceof smodel_1.SModelRoot&&t instanceof smodel_1.SModelRoot&&(t.canvasBounds=e.canvasBounds),e instanceof viewport_root_1.ViewportRootElement&&t instanceof viewport_root_1.ViewportRootElement&&(t.scroll=e.scroll,t.zoom=e.zoom)},t.prototype.createAnimations=function(e,t,o){var i=[];if(e.fades.length>0&&i.push(new fade_1.FadeAnimation(t,e.fades,o,!0)),void 0!==e.moves&&e.moves.length>0){for(var n=new Map,a=0,r=e.moves;a<r.length;a++){var d=r[a];n.set(d.elementId,d)}i.push(new move_1.MoveAnimation(t,n,new Map,o,!1))}if(void 0!==e.resizes&&e.resizes.length>0){for(var s=new Map,l=0,m=e.resizes;l<m.length;l++){var c=m[l];s.set(c.element.id,c)}i.push(new resize_1.ResizeAnimation(t,s,o,!1))}return i},t.prototype.undo=function(e){return this.performUpdate(this.newRoot,this.oldRoot,e)},t.prototype.redo=function(e){return this.performUpdate(this.oldRoot,this.newRoot,e)},t.KIND="updateModel",t=__decorate([inversify_1.injectable(),__metadata("design:paramtypes",[UpdateModelAction])],t)}(command_1.Command);exports.UpdateModelCommand=UpdateModelCommand;

/***/ }),
/* 66 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0});var geometry_1=__webpack_require__(3),keyboard_1=__webpack_require__(36),smodel_1=__webpack_require__(2),command_1=__webpack_require__(5),key_tool_1=__webpack_require__(20),model_1=__webpack_require__(7),model_2=__webpack_require__(12),viewport_1=__webpack_require__(25),model_3=__webpack_require__(16),CenterAction=function(){function e(e,t){void 0===t&&(t=!0),this.elementIds=e,this.animate=t,this.kind=CenterCommand.KIND}return e}();exports.CenterAction=CenterAction;var FitToScreenAction=function(){function e(e,t,o,n){void 0===n&&(n=!0),this.elementIds=e,this.padding=t,this.maxZoom=o,this.animate=n,this.kind=FitToScreenCommand.KIND}return e}();exports.FitToScreenAction=FitToScreenAction;var BoundsAwareViewportCommand=function(e){function t(t){var o=e.call(this)||this;return o.animate=t,o}return __extends(t,e),t.prototype.initialize=function(e){var t=this;if(model_3.isViewport(e)){this.oldViewport={scroll:e.scroll,zoom:e.zoom};var o=[];if(this.getElementIds().forEach(function(n){var i=e.index.getById(n);i&&model_1.isBoundsAware(i)&&o.push(t.boundsInViewport(i,i.bounds,e))}),0===o.length&&e.index.all().forEach(function(n){model_2.isSelectable(n)&&n.selected&&model_1.isBoundsAware(n)&&o.push(t.boundsInViewport(n,n.bounds,e))}),0===o.length&&e.index.all().forEach(function(n){model_1.isBoundsAware(n)&&o.push(t.boundsInViewport(n,n.bounds,e))}),0!==o.length){var n=o.reduce(function(e,t){return geometry_1.combine(e,t)});geometry_1.isValidDimension(n)&&(this.newViewport=this.getNewViewport(n,e))}}},t.prototype.boundsInViewport=function(e,t,o){return e instanceof smodel_1.SChildElement&&e.parent!==o?this.boundsInViewport(e.parent,e.parent.localToParent(t),o):t},t.prototype.execute=function(e){return this.initialize(e.root),this.redo(e)},t.prototype.undo=function(e){var t=e.root;if(model_3.isViewport(t)&&void 0!==this.newViewport&&!this.equal(this.newViewport,this.oldViewport)){if(this.animate)return new viewport_1.ViewportAnimation(t,this.newViewport,this.oldViewport,e).start();t.scroll=this.oldViewport.scroll,t.zoom=this.oldViewport.zoom}return t},t.prototype.redo=function(e){var t=e.root;if(model_3.isViewport(t)&&void 0!==this.newViewport&&!this.equal(this.newViewport,this.oldViewport)){if(this.animate)return new viewport_1.ViewportAnimation(t,this.oldViewport,this.newViewport,e).start();t.scroll=this.newViewport.scroll,t.zoom=this.newViewport.zoom}return t},t.prototype.equal=function(e,t){return e.zoom===t.zoom&&e.scroll.x===t.scroll.x&&e.scroll.y===t.scroll.y},t}(command_1.Command);exports.BoundsAwareViewportCommand=BoundsAwareViewportCommand;var CenterCommand=function(e){function t(t){var o=e.call(this,t.animate)||this;return o.action=t,o}return __extends(t,e),t.prototype.getElementIds=function(){return this.action.elementIds},t.prototype.getNewViewport=function(e,t){if(geometry_1.isValidDimension(t.canvasBounds)){var o=geometry_1.center(e);return{scroll:{x:o.x-.5*t.canvasBounds.width,y:o.y-.5*t.canvasBounds.height},zoom:1}}},t.KIND="center",t}(BoundsAwareViewportCommand);exports.CenterCommand=CenterCommand;var FitToScreenCommand=function(e){function t(t){var o=e.call(this,t.animate)||this;return o.action=t,o}return __extends(t,e),t.prototype.getElementIds=function(){return this.action.elementIds},t.prototype.getNewViewport=function(e,t){if(geometry_1.isValidDimension(t.canvasBounds)){var o=geometry_1.center(e),n=void 0===this.action.padding?0:2*this.action.padding,i=Math.min(t.canvasBounds.width/(e.width+n),t.canvasBounds.height/e.height+n);return void 0!==this.action.maxZoom&&(i=Math.min(i,this.action.maxZoom)),{scroll:{x:o.x-.5*t.canvasBounds.width/i,y:o.y-.5*t.canvasBounds.height/i},zoom:i}}},t.KIND="fit",t}(BoundsAwareViewportCommand);exports.FitToScreenCommand=FitToScreenCommand;var CenterKeyboardListener=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.keyDown=function(e,t){return keyboard_1.matchesKeystroke(t,"KeyC","ctrlCmd","shift")?[new CenterAction([])]:keyboard_1.matchesKeystroke(t,"KeyF","ctrlCmd","shift")?[new FitToScreenAction([])]:[]},t}(key_tool_1.KeyListener);exports.CenterKeyboardListener=CenterKeyboardListener;

/***/ }),
/* 67 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var e in o)o.hasOwnProperty(e)&&(t[e]=o[e])};return function(o,e){function r(){this.constructor=o}t(o,e),o.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(exports,"__esModule",{value:!0});var geometry_1=__webpack_require__(3),smodel_1=__webpack_require__(2),model_1=__webpack_require__(16),model_2=__webpack_require__(44),ViewportRootElement=function(t){function o(o){var e=t.call(this,o)||this;return e.scroll={x:0,y:0},e.zoom=1,e.export=!1,e}return __extends(o,t),o.prototype.hasFeature=function(t){return t===model_1.viewportFeature||t===model_2.exportFeature},o.prototype.localToParent=function(t){var o={x:(t.x-this.scroll.x)*this.zoom,y:(t.y-this.scroll.y)*this.zoom,width:-1,height:-1};return geometry_1.isBounds(t)&&(o.width=t.width*this.zoom,o.height=t.height*this.zoom),o},o.prototype.parentToLocal=function(t){var o={x:t.x/this.zoom+this.scroll.x,y:t.y/this.zoom+this.scroll.y,width:-1,height:-1};return geometry_1.isBounds(t)&&geometry_1.isValidDimension(t)&&(o.width=t.width/this.zoom,o.height=t.height/this.zoom),o},o}(smodel_1.SModelRoot);exports.ViewportRootElement=ViewportRootElement;

/***/ }),
/* 68 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __decorate=this&&this.__decorate||function(e,t,r,i){var o,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(n<3?o(a):n>3?o(t,r,a):o(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),types_1=__webpack_require__(1),action_handler_1=__webpack_require__(23),set_model_1=__webpack_require__(31),svg_exporter_1=__webpack_require__(24),ModelSource=function(){function e(e,t,r){this.actionDispatcher=e,this.viewerOptions=r,this.initialize(t)}return e.prototype.initialize=function(e){e.registerCommand(set_model_1.SetModelCommand),e.register(set_model_1.RequestModelAction.KIND,this),e.register(svg_exporter_1.ExportSvgAction.KIND,this)},e=__decorate([inversify_1.injectable(),__param(0,inversify_1.inject(types_1.TYPES.IActionDispatcher)),__param(1,inversify_1.inject(types_1.TYPES.ActionHandlerRegistry)),__param(2,inversify_1.inject(types_1.TYPES.ViewerOptions)),__metadata("design:paramtypes",[Object,action_handler_1.ActionHandlerRegistry,Object])],e)}();exports.ModelSource=ModelSource;

/***/ }),
/* 69 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function isCtrlOrCmd(o){return isMac()?o.metaKey:o.ctrlKey}function isMac(){return-1!==window.navigator.userAgent.indexOf("Mac")}function isCrossSite(o){if(o&&"undefined"!=typeof window&&window.location){var t="";return window.location.protocol&&(t+=window.location.protocol+"//"),window.location.host&&(t+=window.location.host),t.length>0&&!o.startsWith(t)}return!1}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isCtrlOrCmd=isCtrlOrCmd,exports.isMac=isMac,exports.isCrossSite=isCrossSite;

/***/ }),
/* 70 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function toArray(t){if(t.constructor===Array)return t;var r=[];return t.forEach(function(t){return r.push(t)}),r}function filterIterable(t,r){return new FluentIterableImpl(function(){return createIterator(t)},function(t){var e;do{e=t.next()}while(!e.done&&!r(e.value));return e})}function mapIterable(t,r){return new FluentIterableImpl(function(){return createIterator(t)},function(t){var e=t.next(),n=e.done,o=e.value;return n?exports.DONE_RESULT:{done:!1,value:r(o)}})}function createIterator(t){var r=t[Symbol.iterator];if("function"==typeof r)return r.call(t);var e=t.length;return"number"==typeof e&&e>=0?new ArrayIterator(t):{next:function(){return exports.DONE_RESULT}}}Object.defineProperty(exports,"__esModule",{value:!0});var FluentIterableImpl=function(){function t(t,r){this.startFn=t,this.nextFn=r}return t.prototype[Symbol.iterator]=function(){var t=this,r=(e={state:this.startFn(),next:function(){return t.nextFn(r.state)}},e[Symbol.iterator]=function(){return r},e);return r;var e},t.prototype.filter=function(t){return filterIterable(this,t)},t.prototype.map=function(t){return mapIterable(this,t)},t.prototype.forEach=function(t){var r,e=this[Symbol.iterator](),n=0;do{r=e.next(),void 0!==r.value&&t(r.value,n),n++}while(!r.done)},t}();exports.FluentIterableImpl=FluentIterableImpl,exports.toArray=toArray,exports.DONE_RESULT=Object.freeze({done:!0,value:void 0}),exports.filterIterable=filterIterable,exports.mapIterable=mapIterable;var ArrayIterator=function(){function t(t){this.array=t,this.index=0}return t.prototype.next=function(){return this.index<this.array.length?{done:!1,value:this.array[this.index++]}:exports.DONE_RESULT},t.prototype[Symbol.iterator]=function(){return this},t}();

/***/ }),
/* 71 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __decorate=this&&this.__decorate||function(e,o,t,r){var n,i=arguments.length,l=i<3?o:null===r?r=Object.getOwnPropertyDescriptor(o,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,o,t,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(l=(i<3?n(l):i>3?n(o,t,l):n(o,t))||l);return i>3&&l&&Object.defineProperty(o,t,l),l},__metadata=this&&this.__metadata||function(e,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,o)},__param=this&&this.__param||function(e,o){return function(t,r){o(t,r,e)}};Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),types_1=__webpack_require__(1),LogLevel;!function(e){e[e.none=0]="none",e[e.error=1]="error",e[e.warn=2]="warn",e[e.info=3]="info",e[e.log=4]="log"}(LogLevel=exports.LogLevel||(exports.LogLevel={}));var NullLogger=function(){function e(){this.logLevel=LogLevel.none}return e.prototype.error=function(e,o){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r]},e.prototype.warn=function(e,o){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r]},e.prototype.info=function(e,o){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r]},e.prototype.log=function(e,o){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r]},e=__decorate([inversify_1.injectable()],e)}();exports.NullLogger=NullLogger;var ConsoleLogger=function(){function e(e,o){void 0===e&&(e=LogLevel.log),void 0===o&&(o={baseDiv:""}),this.logLevel=e,this.viewOptions=o}return e.prototype.error=function(e,o){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];if(this.logLevel>=LogLevel.error)try{console.error.apply(e,this.consoleArguments(e,o,t))}catch(e){}},e.prototype.warn=function(e,o){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];if(this.logLevel>=LogLevel.warn)try{console.warn.apply(e,this.consoleArguments(e,o,t))}catch(e){}},e.prototype.info=function(e,o){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];if(this.logLevel>=LogLevel.info)try{console.info.apply(e,this.consoleArguments(e,o,t))}catch(e){}},e.prototype.log=function(e,o){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];if(this.logLevel>=LogLevel.log)try{console.log.apply(e,this.consoleArguments(e,o,t))}catch(e){}},e.prototype.consoleArguments=function(e,o,t){var r;return r="object"==typeof e?e.constructor.name:e,[(new Date).toLocaleTimeString()+" "+this.viewOptions.baseDiv+" "+r+": "+o].concat(t)},e=__decorate([inversify_1.injectable(),__param(0,inversify_1.inject(types_1.TYPES.LogLevel)),__param(1,inversify_1.inject(types_1.TYPES.ViewerOptions)),__metadata("design:paramtypes",[Number,Object])],e)}();exports.ConsoleLogger=ConsoleLogger;

/***/ }),
/* 72 */,
/* 73 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_RESULT__;var saveAs=saveAs||function(e){"use strict";if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,n=function(){return e.URL||e.webkitURL||e},o=t.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in o,a=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},i=/constructor/i.test(e.HTMLElement)||e.safari,d=/CriOS\/[\d]+/.test(navigator.userAgent),f=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},s=function(e){var t=function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()};setTimeout(t,4e4)},u=function(e,t,n){t=[].concat(t);for(var o=t.length;o--;){var r=e["on"+t[o]];if("function"==typeof r)try{r.call(e,n||e)}catch(e){f(e)}}},c=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},l=function(t,f,l){l||(t=c(t));var v,p=this,w=t.type,m="application/octet-stream"===w,y=function(){u(p,"writestart progress write writeend".split(" "))};if(p.readyState=p.INIT,r)return v=n().createObjectURL(t),void setTimeout(function(){o.href=v,o.download=f,a(o),y(),s(v),p.readyState=p.DONE});!function(){if((d||m&&i)&&e.FileReader){var o=new FileReader;return o.onloadend=function(){var t=d?o.result:o.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,p.readyState=p.DONE,y()},o.readAsDataURL(t),void(p.readyState=p.INIT)}if(v||(v=n().createObjectURL(t)),m)e.location.href=v;else{e.open(v,"_blank")||(e.location.href=v)}p.readyState=p.DONE,y(),s(v)}()},v=l.prototype,p=function(e,t,n){return new l(e,t||e.name||"download",n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=c(e)),navigator.msSaveOrOpenBlob(e,t)}:(v.abort=function(){},v.readyState=v.INIT=0,v.WRITING=1,v.DONE=2,v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null,p)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!="function"&&null!==__webpack_require__(192)&&null!==__webpack_require__(99)&&!(__WEBPACK_AMD_DEFINE_RESULT__ = function(){return saveAs}.call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));

/***/ }),
/* 74 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var METADATA_KEY=__webpack_require__(4),MetadataReader=function(){function e(){}return e.prototype.getConstructorMetadata=function(e){return{compilerGeneratedMetadata:Reflect.getMetadata(METADATA_KEY.PARAM_TYPES,e),userGeneratedMetadata:Reflect.getMetadata(METADATA_KEY.TAGGED,e)||{}}},e.prototype.getPropertiesMetadata=function(e){return Reflect.getMetadata(METADATA_KEY.TAGGED_PROP,e)||[]},e}();exports.MetadataReader=MetadataReader;

/***/ }),
/* 75 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var metadata_1=__webpack_require__(9),queryable_string_1=__webpack_require__(129),guid_1=__webpack_require__(17),METADATA_KEY=__webpack_require__(4),Target=function(){function t(t,e,a,r){this.guid=guid_1.guid(),this.type=t,this.serviceIdentifier=a,this.name=new queryable_string_1.QueryableString(e||""),this.metadata=new Array;var A=null;"string"==typeof r?A=new metadata_1.Metadata(METADATA_KEY.NAMED_TAG,r):r instanceof metadata_1.Metadata&&(A=r),null!==A&&this.metadata.push(A)}return t.prototype.hasTag=function(t){for(var e=0;e<this.metadata.length;e++){if(this.metadata[e].key===t)return!0}return!1},t.prototype.isArray=function(){return this.hasTag(METADATA_KEY.MULTI_INJECT_TAG)},t.prototype.matchesArray=function(t){return this.matchesTag(METADATA_KEY.MULTI_INJECT_TAG)(t)},t.prototype.isNamed=function(){return this.hasTag(METADATA_KEY.NAMED_TAG)},t.prototype.isTagged=function(){return this.metadata.some(function(t){return t.key!==METADATA_KEY.INJECT_TAG&&t.key!==METADATA_KEY.MULTI_INJECT_TAG&&t.key!==METADATA_KEY.NAME_TAG&&t.key!==METADATA_KEY.UNMANAGED_TAG&&t.key!==METADATA_KEY.NAMED_TAG})},t.prototype.isOptional=function(){return this.matchesTag(METADATA_KEY.OPTIONAL_TAG)(!0)},t.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(t){return t.key===METADATA_KEY.NAMED_TAG})[0]:null},t.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(t){return t.key!==METADATA_KEY.INJECT_TAG&&t.key!==METADATA_KEY.MULTI_INJECT_TAG&&t.key!==METADATA_KEY.NAME_TAG&&t.key!==METADATA_KEY.UNMANAGED_TAG&&t.key!==METADATA_KEY.NAMED_TAG}):null},t.prototype.matchesNamedTag=function(t){return this.matchesTag(METADATA_KEY.NAMED_TAG)(t)},t.prototype.matchesTag=function(t){var e=this;return function(a){for(var r=0;r<e.metadata.length;r++){var A=e.metadata[r];if(A.key===t&&A.value===a)return!0}return!1}},t}();exports.Target=Target;

/***/ }),
/* 76 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var binding_when_syntax_1=__webpack_require__(49),binding_on_syntax_1=__webpack_require__(48),BindingWhenOnSyntax=function(){function n(n){this._binding=n,this._bindingWhenSyntax=new binding_when_syntax_1.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new binding_on_syntax_1.BindingOnSyntax(this._binding)}return n.prototype.when=function(n){return this._bindingWhenSyntax.when(n)},n.prototype.whenTargetNamed=function(n){return this._bindingWhenSyntax.whenTargetNamed(n)},n.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},n.prototype.whenTargetTagged=function(n,t){return this._bindingWhenSyntax.whenTargetTagged(n,t)},n.prototype.whenInjectedInto=function(n){return this._bindingWhenSyntax.whenInjectedInto(n)},n.prototype.whenParentNamed=function(n){return this._bindingWhenSyntax.whenParentNamed(n)},n.prototype.whenParentTagged=function(n,t){return this._bindingWhenSyntax.whenParentTagged(n,t)},n.prototype.whenAnyAncestorIs=function(n){return this._bindingWhenSyntax.whenAnyAncestorIs(n)},n.prototype.whenNoAncestorIs=function(n){return this._bindingWhenSyntax.whenNoAncestorIs(n)},n.prototype.whenAnyAncestorNamed=function(n){return this._bindingWhenSyntax.whenAnyAncestorNamed(n)},n.prototype.whenAnyAncestorTagged=function(n,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(n,t)},n.prototype.whenNoAncestorNamed=function(n){return this._bindingWhenSyntax.whenNoAncestorNamed(n)},n.prototype.whenNoAncestorTagged=function(n,t){return this._bindingWhenSyntax.whenNoAncestorTagged(n,t)},n.prototype.whenAnyAncestorMatches=function(n){return this._bindingWhenSyntax.whenAnyAncestorMatches(n)},n.prototype.whenNoAncestorMatches=function(n){return this._bindingWhenSyntax.whenNoAncestorMatches(n)},n.prototype.onActivation=function(n){return this._bindingOnSyntax.onActivation(n)},n}();exports.BindingWhenOnSyntax=BindingWhenOnSyntax;

/***/ }),
/* 77 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var metadata_1=__webpack_require__(9),METADATA_KEY=__webpack_require__(4),traverseAncerstors=function(t,e){var n=t.parentRequest;return null!==n&&(!!e(n)||traverseAncerstors(n,e))};exports.traverseAncerstors=traverseAncerstors;var taggedConstraint=function(t){return function(e){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(t)(e)};return n.metaData=new metadata_1.Metadata(t,e),n}};exports.taggedConstraint=taggedConstraint;var namedConstraint=taggedConstraint(METADATA_KEY.NAMED_TAG);exports.namedConstraint=namedConstraint;var typeConstraint=function(t){return function(e){var n=null;if(null!==e){if(n=e.bindings[0],"string"==typeof t){return n.serviceIdentifier===t}var r=e.bindings[0].implementationType;return t===r}return!1}};exports.typeConstraint=typeConstraint;

/***/ }),
/* 78 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function primitive(r){return"string"==typeof r||"number"==typeof r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.array=Array.isArray,exports.primitive=primitive;

/***/ }),
/* 79 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function isUndef(e){return void 0===e}function isDef(e){return void 0!==e}function sameVnode(e,t){return e.key===t.key&&e.sel===t.sel}function isVnode(e){return void 0!==e.sel}function createKeyToOldIdx(e,t,i){var n,o,r,l={};for(n=t;n<=i;++n)null!=(r=e[n])&&void 0!==(o=r.key)&&(l[o]=n);return l}function init(e,t){function i(e){var t=e.id?"#"+e.id:"",i=e.className?"."+e.className.split(" ").join("."):"";return vnode_1.default(m.tagName(e).toLowerCase()+t+i,{},[],void 0,e)}function n(e,t){return function(){if(0==--t){var i=m.parentNode(e);m.removeChild(i,e)}}}function o(e,t){var i,n=e.data;void 0!==n&&isDef(i=n.hook)&&isDef(i=i.init)&&(i(e),n=e.data);var r=e.children,l=e.sel;if("!"===l)isUndef(e.text)&&(e.text=""),e.elm=m.createComment(e.text);else if(void 0!==l){var s=l.indexOf("#"),d=l.indexOf(".",s),f=s>0?s:l.length,a=d>0?d:l.length,u=-1!==s||-1!==d?l.slice(0,Math.min(f,a)):l,v=e.elm=isDef(n)&&isDef(i=n.ns)?m.createElementNS(i,u):m.createElement(u);for(f<a&&v.setAttribute("id",l.slice(f+1,a)),d>0&&v.setAttribute("class",l.slice(a+1).replace(/\./g," ")),i=0;i<h.create.length;++i)h.create[i](emptyNode,e);if(is.array(r))for(i=0;i<r.length;++i){var c=r[i];null!=c&&m.appendChild(v,o(c,t))}else is.primitive(e.text)&&m.appendChild(v,m.createTextNode(e.text));i=e.data.hook,isDef(i)&&(i.create&&i.create(emptyNode,e),i.insert&&t.push(e))}else e.elm=m.createTextNode(e.text);return e.elm}function r(e,t,i,n,r,l){for(;n<=r;++n){var s=i[n];null!=s&&m.insertBefore(e,o(s,l),t)}}function l(e){var t,i,n=e.data;if(void 0!==n){for(isDef(t=n.hook)&&isDef(t=t.destroy)&&t(e),t=0;t<h.destroy.length;++t)h.destroy[t](e);if(void 0!==e.children)for(i=0;i<e.children.length;++i)null!=(t=e.children[i])&&"string"!=typeof t&&l(t)}}function s(e,t,i,o){for(;i<=o;++i){var r=void 0,s=void 0,d=void 0,f=t[i];if(null!=f)if(isDef(f.sel)){for(l(f),s=h.remove.length+1,d=n(f.elm,s),r=0;r<h.remove.length;++r)h.remove[r](f,d);isDef(r=f.data)&&isDef(r=r.hook)&&isDef(r=r.remove)?r(f,d):d()}else m.removeChild(e,f.elm)}}function d(e,t,i,n){for(var l,d,a,u,h=0,v=0,c=t.length-1,p=t[0],x=t[c],D=i.length-1,g=i[0],k=i[D];h<=c&&v<=D;)null==p?p=t[++h]:null==x?x=t[--c]:null==g?g=i[++v]:null==k?k=i[--D]:sameVnode(p,g)?(f(p,g,n),p=t[++h],g=i[++v]):sameVnode(x,k)?(f(x,k,n),x=t[--c],k=i[--D]):sameVnode(p,k)?(f(p,k,n),m.insertBefore(e,p.elm,m.nextSibling(x.elm)),p=t[++h],k=i[--D]):sameVnode(x,g)?(f(x,g,n),m.insertBefore(e,x.elm,p.elm),x=t[--c],g=i[++v]):(void 0===l&&(l=createKeyToOldIdx(t,h,c)),d=l[g.key],isUndef(d)?(m.insertBefore(e,o(g,n),p.elm),g=i[++v]):(a=t[d],a.sel!==g.sel?m.insertBefore(e,o(g,n),p.elm):(f(a,g,n),t[d]=void 0,m.insertBefore(e,a.elm,p.elm)),g=i[++v]));h>c?(u=null==i[D+1]?null:i[D+1].elm,r(e,u,i,v,D,n)):v>D&&s(e,t,h,c)}function f(e,t,i){var n,o;isDef(n=t.data)&&isDef(o=n.hook)&&isDef(n=o.prepatch)&&n(e,t);var l=t.elm=e.elm,f=e.children,a=t.children;if(e!==t){if(void 0!==t.data){for(n=0;n<h.update.length;++n)h.update[n](e,t);n=t.data.hook,isDef(n)&&isDef(n=n.update)&&n(e,t)}isUndef(t.text)?isDef(f)&&isDef(a)?f!==a&&d(l,f,a,i):isDef(a)?(isDef(e.text)&&m.setTextContent(l,""),r(l,null,a,0,a.length-1,i)):isDef(f)?s(l,f,0,f.length-1):isDef(e.text)&&m.setTextContent(l,""):e.text!==t.text&&m.setTextContent(l,t.text),isDef(o)&&isDef(n=o.postpatch)&&n(e,t)}}var a,u,h={},m=void 0!==t?t:htmldomapi_1.default;for(a=0;a<hooks.length;++a)for(h[hooks[a]]=[],u=0;u<e.length;++u){var v=e[u][hooks[a]];void 0!==v&&h[hooks[a]].push(v)}return function(e,t){var n,r,l,d=[];for(n=0;n<h.pre.length;++n)h.pre[n]();for(isVnode(e)||(e=i(e)),sameVnode(e,t)?f(e,t,d):(r=e.elm,l=m.parentNode(r),o(t,d),null!==l&&(m.insertBefore(l,t.elm,m.nextSibling(r)),s(l,[e],0,0))),n=0;n<d.length;++n)d[n].data.hook.insert(d[n]);for(n=0;n<h.post.length;++n)h.post[n]();return t}}Object.defineProperty(exports,"__esModule",{value:!0});var vnode_1=__webpack_require__(51),is=__webpack_require__(78),htmldomapi_1=__webpack_require__(146),emptyNode=vnode_1.default("",{},[],void 0,void 0),hooks=["create","update","remove","destroy","pre","post"],h_1=__webpack_require__(50);exports.h=h_1.h;var thunk_1=__webpack_require__(152);exports.thunk=thunk_1.thunk,exports.init=init;

/***/ }),
/* 80 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function easeInOut(e){return e<.5?e*e*2:1-(1-e)*(1-e)*2}Object.defineProperty(exports,"__esModule",{value:!0}),exports.easeInOut=easeInOut;

/***/ }),
/* 81 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __assign=this&&this.__assign||Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++){e=arguments[o];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},__decorate=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},__metadata=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},__param=this&&this.__param||function(t,e){return function(o,n){e(o,n,t)}},__awaiter=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{c(n.next(t))}catch(t){r(t)}}function s(t){try{c(n.throw(t))}catch(t){r(t)}}function c(t){t.done?i(t.value):new o(function(e){e(t.value)}).then(a,s)}c((n=n.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function o(t){return function(e){return n([t,e])}}function n(o){if(i)throw new TypeError("Generator is already executing.");for(;c;)try{if(i=1,r&&(a=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[0,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(a=c.trys,!(a=a.length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=e.call(t,c)}catch(t){o=[6,t],r=0}finally{i=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var i,r,a,s,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),types_1=__webpack_require__(1),smodel_factory_1=__webpack_require__(10),animation_frame_syncer_1=__webpack_require__(30),command_1=__webpack_require__(5),CommandStack=function(){function t(t,e,o,n,i){this.modelFactory=t,this.viewerProvider=e,this.logger=o,this.syncer=n,this.options=i,this.undoStack=[],this.redoStack=[],this.offStack=[],this.currentPromise=Promise.resolve({root:t.createRoot(smodel_factory_1.EMPTY_ROOT),hiddenRoot:void 0,popupRoot:void 0,rootChanged:!1,hiddenRootChanged:!1,popupChanged:!1})}return Object.defineProperty(t.prototype,"currentModel",{get:function(){return this.currentPromise.then(function(t){return t.root})},enumerable:!0,configurable:!0}),t.prototype.executeAll=function(t){var e=this;return t.forEach(function(t){e.logger.log(e,"Executing",t),e.handleCommand(t,t.execute,e.mergeOrPush)}),this.thenUpdate()},t.prototype.execute=function(t){return this.logger.log(this,"Executing",t),this.handleCommand(t,t.execute,this.mergeOrPush),this.thenUpdate()},t.prototype.undo=function(){var t=this;this.undoOffStackSystemCommands(),this.undoPreceedingSystemCommands();var e=this.undoStack.pop();return void 0!==e&&(this.logger.log(this,"Undoing",e),this.handleCommand(e,e.undo,function(e,o){t.redoStack.push(e)})),this.thenUpdate()},t.prototype.redo=function(){var t=this;this.undoOffStackSystemCommands();var e=this.redoStack.pop();return void 0!==e&&(this.logger.log(this,"Redoing",e),this.handleCommand(e,e.redo,function(e,o){t.pushToUndoStack(e)})),this.redoFollowingSystemCommands(),this.thenUpdate()},t.prototype.handleCommand=function(t,e,o){var n=this;this.currentPromise=this.currentPromise.then(function(i){return new Promise(function(r,a){var s,c=n.createContext(i.root);try{s=e.call(t,c)}catch(t){n.logger.error(n,"Failed to execute command:",t),s=i.root}t instanceof command_1.HiddenCommand?r(__assign({},i,{hiddenRoot:s,hiddenRootChanged:!0})):t instanceof command_1.PopupCommand?r(__assign({},i,{popupRoot:s,popupChanged:!0})):s instanceof Promise?s.then(function(e){o.call(n,t,c),r(__assign({},i,{root:e,rootChanged:!0}))}):(o.call(n,t,c),r(__assign({},i,{root:s,rootChanged:!0})))})})},t.prototype.pushToUndoStack=function(t){this.undoStack.push(t),this.options.undoHistoryLimit>=0&&this.undoStack.length>this.options.undoHistoryLimit&&this.undoStack.splice(0,this.undoStack.length-this.options.undoHistoryLimit)},t.prototype.thenUpdate=function(){var t=this;return this.currentPromise=this.currentPromise.then(function(e){return __awaiter(t,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return e.hiddenRootChanged&&void 0!==e.hiddenRoot?[4,this.updateHidden(e.hiddenRoot)]:[3,2];case 1:t.sent(),t.label=2;case 2:return e.rootChanged?[4,this.update(e.root)]:[3,4];case 3:t.sent(),t.label=4;case 4:return e.popupChanged&&void 0!==e.popupRoot?[4,this.updatePopup(e.popupRoot)]:[3,6];case 5:t.sent(),t.label=6;case 6:return[2,{root:e.root,hiddenRoot:void 0,popupRoot:void 0,rootChanged:!1,hiddenRootChanged:!1,popupChanged:!1}]}})})}),this.currentModel},t.prototype.update=function(t){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(o){switch(o.label){case 0:return void 0!==this.viewer?[3,2]:(e=this,[4,this.viewerProvider()]);case 1:e.viewer=o.sent(),o.label=2;case 2:return this.viewer.update(t),[2]}})})},t.prototype.updateHidden=function(t){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(o){switch(o.label){case 0:return void 0!==this.viewer?[3,2]:(e=this,[4,this.viewerProvider()]);case 1:e.viewer=o.sent(),o.label=2;case 2:return this.viewer.updateHidden(t),[2]}})})},t.prototype.updatePopup=function(t){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(o){switch(o.label){case 0:return void 0!==this.viewer?[3,2]:(e=this,[4,this.viewerProvider()]);case 1:e.viewer=o.sent(),o.label=2;case 2:return this.viewer.updatePopup(t),[2]}})})},t.prototype.mergeOrPush=function(t,e){var o=this;if(!(t instanceof command_1.HiddenCommand))if(t instanceof command_1.SystemCommand&&this.redoStack.length>0)this.offStack.push(t);else{if(this.offStack.forEach(function(t){return o.undoStack.push(t)}),this.offStack=[],this.redoStack=[],this.undoStack.length>0){var n=this.undoStack[this.undoStack.length-1];if(n instanceof command_1.MergeableCommand&&n.merge(t,e))return}this.pushToUndoStack(t)}},t.prototype.undoOffStackSystemCommands=function(){for(var t=this.offStack.pop();void 0!==t;)this.logger.log(this,"Undoing off-stack",t),this.handleCommand(t,t.undo,function(){}),t=this.offStack.pop()},t.prototype.undoPreceedingSystemCommands=function(){for(var t=this,e=this.undoStack[this.undoStack.length-1];void 0!==e&&e instanceof command_1.SystemCommand;)this.undoStack.pop(),this.logger.log(this,"Undoing",e),this.handleCommand(e,e.undo,function(e,o){t.redoStack.push(e)}),e=this.undoStack[this.undoStack.length-1]},t.prototype.redoFollowingSystemCommands=function(){for(var t=this,e=this.redoStack[this.redoStack.length-1];void 0!==e&&e instanceof command_1.SystemCommand;)this.redoStack.pop(),this.logger.log(this,"Redoing ",e),this.handleCommand(e,e.redo,function(e,o){t.pushToUndoStack(e)}),e=this.redoStack[this.redoStack.length-1]},t.prototype.createContext=function(t){return{root:t,modelChanged:this,modelFactory:this.modelFactory,duration:this.options.defaultDuration,logger:this.logger,syncer:this.syncer}},t=__decorate([inversify_1.injectable(),__param(0,inversify_1.inject(types_1.TYPES.IModelFactory)),__param(1,inversify_1.inject(types_1.TYPES.IViewerProvider)),__param(2,inversify_1.inject(types_1.TYPES.ILogger)),__param(3,inversify_1.inject(types_1.TYPES.AnimationFrameSyncer)),__param(4,inversify_1.inject(types_1.TYPES.CommandStackOptions)),__metadata("design:paramtypes",[Object,Function,Object,animation_frame_syncer_1.AnimationFrameSyncer,Object])],t)}();exports.CommandStack=CommandStack;

/***/ }),
/* 82 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function isThunk(t){return"thunk"in t}Object.defineProperty(exports,"__esModule",{value:!0});var snabbdom_1=__webpack_require__(79),ThunkView=function(){function t(){}return t.prototype.render=function(t,e){var r=this;return snabbdom_1.h(this.selector(t),{key:t.id,hook:{init:this.init.bind(this),prepatch:this.prepatch.bind(this)},fn:function(){return r.renderAndDecorate(t,e)},args:this.watchedArgs(t),thunk:!0})},t.prototype.renderAndDecorate=function(t,e){var r=this.doRender(t,e);return e.decorate(r,t),r},t.prototype.copyToThunk=function(t,e){e.elm=t.elm,t.data.fn=e.data.fn,t.data.args=e.data.args,e.data=t.data,e.children=t.children,e.text=t.text,e.elm=t.elm},t.prototype.init=function(t){var e=t.data,r=e.fn.apply(void 0,e.args);this.copyToThunk(r,t)},t.prototype.prepatch=function(t,e){var r=t.data,n=e.data;this.equals(r.args,n.args)?this.copyToThunk(t,e):this.copyToThunk(n.fn.apply(void 0,n.args),e)},t.prototype.equals=function(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(var r=0;r<e.length;++r)if(!this.equals(t[r],e[r]))return!1}else if("object"==typeof t&&"object"==typeof e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t)if(!("parent"===n||"root"===n||n in e&&this.equals(t[n],e[n])))return!1}else if(t!==e)return!1;return!0},t}();exports.ThunkView=ThunkView,exports.isThunk=isThunk;

/***/ }),
/* 83 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function configureModelElement(e,t,r,n){e.bind(types_1.TYPES.SModelElementRegistration).toConstantValue({type:t,constr:r}),e.bind(types_1.TYPES.ViewRegistration).toConstantValue({type:t,constr:n})}var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),__decorate=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(exports,"__esModule",{value:!0});var snabbdom=__webpack_require__(18),inversify_1=__webpack_require__(0),types_1=__webpack_require__(1),smodel_factory_1=__webpack_require__(10),registry_1=__webpack_require__(26),geometry_1=__webpack_require__(3),JSX={createElement:snabbdom.svg},ViewRegistry=function(e){function t(t){var r=e.call(this)||this;return r.registerDefaults(),t.forEach(function(e){return r.register(e.type,e.constr)}),r}return __extends(t,e),t.prototype.registerDefaults=function(){this.register(smodel_factory_1.EMPTY_ROOT.type,EmptyView)},t.prototype.missing=function(e){return new MissingView},t=__decorate([inversify_1.injectable(),__param(0,inversify_1.multiInject(types_1.TYPES.ViewRegistration)),__param(0,inversify_1.optional()),__metadata("design:paramtypes",[Array])],t)}(registry_1.ProviderRegistry);exports.ViewRegistry=ViewRegistry,exports.configureModelElement=configureModelElement;var EmptyView=function(){function e(){}return e.prototype.render=function(e,t){return JSX.createElement("svg",{"class-sprotty-empty":!0})},e}();exports.EmptyView=EmptyView;var MissingView=function(){function e(){}return e.prototype.render=function(e,t){var r=e.position||geometry_1.ORIGIN_POINT;return JSX.createElement("text",{"class-sprotty-missing":!0,x:r.x,y:r.y},"?",e.id,"?")},e}();exports.MissingView=MissingView;

/***/ }),
/* 84 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __decorate=this&&this.__decorate||function(e,t,a,i){var o,c=arguments.length,d=c<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)d=Reflect.decorate(e,t,a,i);else for(var n=e.length-1;n>=0;n--)(o=e[n])&&(d=(c<3?o(d):c>3?o(t,a,d):o(t,a))||d);return c>3&&d&&Object.defineProperty(t,a,d),d},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param=this&&this.__param||function(e,t){return function(a,i){t(a,i,e)}};Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),types_1=__webpack_require__(1),animation_frame_syncer_1=__webpack_require__(30),ViewerCache=function(){function e(e,t){this.delegate=e,this.syncer=t}return e.prototype.isCacheEmpty=function(){return void 0===this.cachedModelRoot&&void 0===this.cachedHiddenModelRoot&&void 0===this.cachedPopup},e.prototype.updatePopup=function(e){var t=this.isCacheEmpty();this.cachedPopup=e,t&&this.scheduleUpdate()},e.prototype.update=function(e){var t=this.isCacheEmpty();this.cachedModelRoot=e,t&&this.scheduleUpdate()},e.prototype.updateHidden=function(e){var t=this.isCacheEmpty();this.cachedHiddenModelRoot=e,t&&this.scheduleUpdate()},e.prototype.scheduleUpdate=function(){var e=this;this.syncer.onEndOfNextFrame(function(){if(e.cachedHiddenModelRoot){var t=e.cachedHiddenModelRoot;e.delegate.updateHidden(t),e.cachedHiddenModelRoot=void 0}if(e.cachedModelRoot){var a=e.cachedModelRoot;e.delegate.update(a),e.cachedModelRoot=void 0}if(e.cachedPopup){var a=e.cachedPopup;e.delegate.updatePopup(a),e.cachedPopup=void 0}})},e=__decorate([inversify_1.injectable(),__param(0,inversify_1.inject(types_1.TYPES.IViewer)),__param(0,inversify_1.named("delegate")),__param(1,inversify_1.inject(types_1.TYPES.AnimationFrameSyncer)),__metadata("design:paramtypes",[Object,animation_frame_syncer_1.AnimationFrameSyncer])],e)}();exports.ViewerCache=ViewerCache;

/***/ }),
/* 85 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function configureViewerOptions(e,t){var s=__assign({},exports.defaultViewerOptions(),t);e.isBound(types_1.TYPES.ViewerOptions)?e.rebind(types_1.TYPES.ViewerOptions).toConstantValue(s):e.bind(types_1.TYPES.ViewerOptions).toConstantValue(s)}function overrideViewerOptions(e,t){var s=e.get(types_1.TYPES.ViewerOptions);for(var r in t)t.hasOwnProperty(r)&&(s[r]=t[r]);return s}var __assign=this&&this.__assign||Object.assign||function(e){for(var t,s=1,r=arguments.length;s<r;s++){t=arguments[s];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e};Object.defineProperty(exports,"__esModule",{value:!0});var types_1=__webpack_require__(1);exports.defaultViewerOptions=function(){return{baseDiv:"sprotty",baseClass:"sprotty",hiddenDiv:"sprotty-hidden",hiddenClass:"sprotty-hidden",popupDiv:"sprotty-popup",popupClass:"sprotty-popup",popupClosedClass:"sprotty-popup-closed",needsClientLayout:!0,needsServerLayout:!1,popupOpenDelay:1e3,popupCloseDelay:300}},exports.configureViewerOptions=configureViewerOptions,exports.overrideViewerOptions=overrideViewerOptions;

/***/ }),
/* 86 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __decorate=this&&this.__decorate||function(e,t,i,s){var o,n=arguments.length,r=n<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,s);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(r=(n<3?o(r):n>3?o(t,i,r):o(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param=this&&this.__param||function(e,t){return function(i,s){t(i,s,e)}};Object.defineProperty(exports,"__esModule",{value:!0});var snabbdom=__webpack_require__(18),snabbdom_1=__webpack_require__(79),props_1=__webpack_require__(150),attributes_1=__webpack_require__(147),style_1=__webpack_require__(151),eventlisteners_1=__webpack_require__(149),class_1=__webpack_require__(148),inversify_1=__webpack_require__(0),types_1=__webpack_require__(1),geometry_1=__webpack_require__(3),initialize_canvas_1=__webpack_require__(41),vnode_utils_1=__webpack_require__(11),thunk_view_1=__webpack_require__(82),smodel_factory_1=__webpack_require__(10),JSX={createElement:snabbdom.html},ModelRenderer=function(){function e(e,t){this.viewRegistry=e,this.decorators=t}return e.prototype.decorate=function(e,t){return thunk_view_1.isThunk(e)?e:this.decorators.reduce(function(e,i){return i.decorate(e,t)},e)},e.prototype.renderElement=function(e,t){var i=this.viewRegistry.get(e.type,void 0).render(e,this,t);return this.decorate(i,e)},e.prototype.renderChildren=function(e,t){var i=this;return e.children.map(function(e){return i.renderElement(e,t)})},e.prototype.postUpdate=function(){this.decorators.forEach(function(e){return e.postUpdate()})},e}();exports.ModelRenderer=ModelRenderer;var Viewer=function(){function e(e,t,i,s,o,n,r){var a=this;this.decorators=t,this.hiddenDecorators=i,this.popupDecorators=s,this.options=o,this.logger=n,this.actiondispatcher=r,this.onWindowResize=function(e){var t=document.getElementById(a.options.baseDiv);if(null!==t){var i=a.getBoundsInPage(t);a.actiondispatcher.dispatch(new initialize_canvas_1.InitializeCanvasBoundsAction(i))}},this.patcher=this.createPatcher(),this.renderer=e(t),this.hiddenRenderer=e(i),this.popupRenderer=e(s)}return e.prototype.createModules=function(){return[props_1.propsModule,attributes_1.attributesModule,class_1.classModule,style_1.styleModule,eventlisteners_1.eventListenersModule]},e.prototype.createPatcher=function(){return snabbdom_1.init(this.createModules())},e.prototype.getBoundsInPage=function(e){var t=e.getBoundingClientRect(),i="undefined"!=typeof window?{x:window.scrollX,y:window.scrollY}:geometry_1.ORIGIN_POINT;return{x:t.left+i.x,y:t.top+i.y,width:t.width,height:t.height}},e.prototype.update=function(e){var t=this;this.logger.log(this,"rendering",e);var i=JSX.createElement("div",{id:this.options.baseDiv},this.renderer.renderElement(e));if(void 0!==this.lastVDOM){var s=this.hasFocus();vnode_utils_1.copyClassesFromVNode(this.lastVDOM,i),this.lastVDOM=this.patcher.call(this,this.lastVDOM,i),this.restoreFocus(s)}else if("undefined"!=typeof document){var o=document.getElementById(this.options.baseDiv);null!==o?("undefined"!=typeof window&&window.addEventListener("resize",function(){t.onWindowResize(i)}),vnode_utils_1.copyClassesFromElement(o,i),vnode_utils_1.setClass(i,this.options.baseClass,!0),this.lastVDOM=this.patcher.call(this,o,i)):this.logger.error(this,"element not in DOM:",this.options.baseDiv)}this.renderer.postUpdate()},e.prototype.hasFocus=function(){if("undefined"!=typeof document&&document.activeElement&&this.lastVDOM.children&&this.lastVDOM.children.length>0){var e=this.lastVDOM.children[0];if("object"==typeof e){var t=e.elm;return document.activeElement===t}}return!1},e.prototype.restoreFocus=function(e){if(e&&this.lastVDOM.children&&this.lastVDOM.children.length>0){var t=this.lastVDOM.children[0];if("object"==typeof t){var i=t.elm;i&&"function"==typeof i.focus&&i.focus()}}},e.prototype.updateHidden=function(e){this.logger.log(this,"rendering hidden");var t;if(e.type===smodel_factory_1.EMPTY_ROOT.type)t=JSX.createElement("div",{id:this.options.hiddenDiv});else{var i=this.hiddenRenderer.renderElement(e);vnode_utils_1.setAttr(i,"opacity",0),t=JSX.createElement("div",{id:this.options.hiddenDiv},i)}if(void 0!==this.lastHiddenVDOM)vnode_utils_1.copyClassesFromVNode(this.lastHiddenVDOM,t),this.lastHiddenVDOM=this.patcher.call(this,this.lastHiddenVDOM,t);else{var s=document.getElementById(this.options.hiddenDiv);null===s?(s=document.createElement("div"),document.body.appendChild(s)):vnode_utils_1.copyClassesFromElement(s,t),vnode_utils_1.setClass(t,this.options.baseClass,!0),vnode_utils_1.setClass(t,this.options.hiddenClass,!0),this.lastHiddenVDOM=this.patcher.call(this,s,t)}this.hiddenRenderer.postUpdate()},e.prototype.updatePopup=function(e){this.logger.log(this,"rendering popup",e);var t,i=e.type===smodel_factory_1.EMPTY_ROOT.type;if(i)t=JSX.createElement("div",{id:this.options.popupDiv});else{var s=e.canvasBounds,o={top:s.y+"px",left:s.x+"px"};t=JSX.createElement("div",{id:this.options.popupDiv,style:o},this.popupRenderer.renderElement(e))}if(void 0!==this.lastPopupVDOM)vnode_utils_1.copyClassesFromVNode(this.lastPopupVDOM,t),vnode_utils_1.setClass(t,this.options.popupClosedClass,i),this.lastPopupVDOM=this.patcher.call(this,this.lastPopupVDOM,t);else if("undefined"!=typeof document){var n=document.getElementById(this.options.popupDiv);null===n?(n=document.createElement("div"),document.body.appendChild(n)):vnode_utils_1.copyClassesFromElement(n,t),vnode_utils_1.setClass(t,this.options.popupClass,!0),vnode_utils_1.setClass(t,this.options.popupClosedClass,i),this.lastPopupVDOM=this.patcher.call(this,n,t)}this.popupRenderer.postUpdate()},e=__decorate([inversify_1.injectable(),__param(0,inversify_1.inject(types_1.TYPES.ModelRendererFactory)),__param(1,inversify_1.multiInject(types_1.TYPES.IVNodeDecorator)),__param(1,inversify_1.optional()),__param(2,inversify_1.multiInject(types_1.TYPES.HiddenVNodeDecorator)),__param(2,inversify_1.optional()),__param(3,inversify_1.multiInject(types_1.TYPES.PopupVNodeDecorator)),__param(3,inversify_1.optional()),__param(4,inversify_1.inject(types_1.TYPES.ViewerOptions)),__param(5,inversify_1.inject(types_1.TYPES.ILogger)),__param(6,inversify_1.inject(types_1.TYPES.IActionDispatcher)),__metadata("design:paramtypes",[Function,Array,Array,Array,Object,Object,Object])],e)}();exports.Viewer=Viewer;

/***/ }),
/* 87 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __decorate=this&&this.__decorate||function(e,t,r,o){var n,i=arguments.length,c=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(c=(i<3?n(c):i>3?n(t,r,c):n(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c};Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),vnode_utils_1=__webpack_require__(11),FocusFixDecorator=function(){function e(){}return t=e,e.prototype.decorate=function(e,r){return e.sel&&e.sel.startsWith("svg")&&vnode_utils_1.setAttr(e,"tabindex",++t.tabIndex),e},e.prototype.postUpdate=function(){},e.tabIndex=1e3,e=t=__decorate([inversify_1.injectable()],e);var t}();exports.FocusFixDecorator=FocusFixDecorator;

/***/ }),
/* 88 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),__assign=this&&this.__assign||Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++){e=arguments[o];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};Object.defineProperty(exports,"__esModule",{value:!0});var geometry_1=__webpack_require__(3),abstract_layout_1=__webpack_require__(56),HBoxLayouter=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getChildrenSize=function(t,e,o){var n=0,r=-1,i=!0;return t.children.forEach(function(t){var a=o.getBoundsData(t).bounds;void 0!==a&&geometry_1.isValidDimension(a)&&(i?i=!1:n+=e.hGap,n+=a.width,r=Math.max(r,a.height))}),{width:n,height:r}},e.prototype.layoutChild=function(t,e,o,n,r,i,a,u){var s=this.getDy(n.vAlign,o,u);return e.bounds={x:i.x+t.bounds.x-o.x,y:r.paddingTop+t.bounds.y-o.y+s,width:o.width,height:o.height},e.boundsChanged=!0,{x:i.x+o.width+r.hGap,y:i.y}},e.prototype.getDefaultLayoutOptions=function(){return{resizeContainer:!0,paddingTop:5,paddingBottom:5,paddingLeft:5,paddingRight:5,paddingFactor:1,hGap:1,vAlign:"center"}},e.prototype.spread=function(t,e){return __assign({},t,e)},e.KIND="hbox",e}(abstract_layout_1.AbstractLayout);exports.HBoxLayouter=HBoxLayouter;

/***/ }),
/* 89 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),__assign=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t};Object.defineProperty(exports,"__esModule",{value:!0});var geometry_1=__webpack_require__(3),abstract_layout_1=__webpack_require__(56),StackLayouter=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getChildrenSize=function(t,e,n){var r=-1,o=-1;return t.children.forEach(function(t){var e=n.getBoundsData(t).bounds;void 0!==e&&geometry_1.isValidDimension(e)&&(r=Math.max(r,e.width),o=Math.max(o,e.height))}),{width:r,height:o}},e.prototype.layoutChild=function(t,e,n,r,o,i,a,s){var u=this.getDx(r.hAlign,n,a),c=this.getDy(r.vAlign,n,s);return e.bounds={x:o.paddingLeft+t.bounds.x-n.x+u,y:o.paddingTop+t.bounds.y-n.y+c,width:n.width,height:n.height},e.boundsChanged=!0,i},e.prototype.getDefaultLayoutOptions=function(){return{resizeContainer:!0,paddingTop:5,paddingBottom:5,paddingLeft:5,paddingRight:5,paddingFactor:1,hAlign:"center",vAlign:"center"}},e.prototype.spread=function(t,e){return __assign({},t,e)},e.KIND="stack",e}(abstract_layout_1.AbstractLayout);exports.StackLayouter=StackLayouter;

/***/ }),
/* 90 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),__assign=this&&this.__assign||Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++){e=arguments[o];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t};Object.defineProperty(exports,"__esModule",{value:!0});var geometry_1=__webpack_require__(3),abstract_layout_1=__webpack_require__(56),VBoxLayouter=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getChildrenSize=function(t,e,o){var n=-1,r=0,i=!0;return t.children.forEach(function(t){var a=o.getBoundsData(t).bounds;void 0!==a&&geometry_1.isValidDimension(a)&&(r+=a.height,i?i=!1:r+=e.vGap,n=Math.max(n,a.width))}),{width:n,height:r}},e.prototype.layoutChild=function(t,e,o,n,r,i,a,u){var s=this.getDx(n.hAlign,o,a);return e.bounds={x:r.paddingLeft+t.bounds.x-o.x+s,y:i.y+t.bounds.y-o.y,width:o.width,height:o.height},e.boundsChanged=!0,{x:i.x,y:i.y+o.height+r.vGap}},e.prototype.getDefaultLayoutOptions=function(){return{resizeContainer:!0,paddingTop:5,paddingBottom:5,paddingLeft:5,paddingRight:5,paddingFactor:1,vGap:1,hAlign:"center"}},e.prototype.spread=function(t,e){return __assign({},t,e)},e.KIND="vbox",e}(abstract_layout_1.AbstractLayout);exports.VBoxLayouter=VBoxLayouter;

/***/ }),
/* 91 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),__decorate=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(i<3?n(s):i>3?n(t,o,s):n(t,o))||s);return i>3&&s&&Object.defineProperty(t,o,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),command_1=__webpack_require__(5),model_1=__webpack_require__(12),smodel_1=__webpack_require__(2),key_tool_1=__webpack_require__(20),keyboard_1=__webpack_require__(36),model_2=__webpack_require__(44),svg_exporter_1=__webpack_require__(24),smodel_factory_1=__webpack_require__(10),model_3=__webpack_require__(16),model_4=__webpack_require__(35),types_1=__webpack_require__(1),ExportSvgKeyListener=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.keyDown=function(e,t){return keyboard_1.matchesKeystroke(t,"KeyE","ctrlCmd","shift")?[new RequestExportSvgAction]:[]},t=__decorate([inversify_1.injectable()],t)}(key_tool_1.KeyListener);exports.ExportSvgKeyListener=ExportSvgKeyListener;var RequestExportSvgAction=function(){function e(){this.kind=ExportSvgCommand.KIND}return e}();exports.RequestExportSvgAction=RequestExportSvgAction;var ExportSvgCommand=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.execute=function(e){if(model_2.isExportable(e.root)){var t=e.modelFactory.createRoot(e.modelFactory.createSchema(e.root));if(model_2.isExportable(t))return t.export=!0,model_3.isViewport(t)&&(t.zoom=1,t.scroll={x:0,y:0}),t.index.all().forEach(function(e){model_1.isSelectable(e)&&e.selected&&(e.selected=!1),model_4.isHoverable(e)&&e.hoverFeedback&&(e.hoverFeedback=!1)}),t}return e.modelFactory.createRoot(smodel_factory_1.EMPTY_ROOT)},t.KIND="requestExportSvg",t}(command_1.HiddenCommand);exports.ExportSvgCommand=ExportSvgCommand;var ExportSvgDecorator=function(){function e(e){this.svgExporter=e}return e.prototype.decorate=function(e,t){return t instanceof smodel_1.SModelRoot&&(this.root=t),e},e.prototype.postUpdate=function(){this.root&&model_2.isExportable(this.root)&&this.root.export&&this.svgExporter.export(this.root)},e=__decorate([inversify_1.injectable(),__param(0,inversify_1.inject(types_1.TYPES.SvgExporter)),__metadata("design:paramtypes",[svg_exporter_1.SvgExporter])],e)}();exports.ExportSvgDecorator=ExportSvgDecorator;

/***/ }),
/* 92 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function isOpenable(e){return e.hasFeature(exports.openFeature)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.openFeature=Symbol("openFeature"),exports.isOpenable=isOpenable;

/***/ }),
/* 93 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),__decorate=this&&this.__decorate||function(e,t,o,n){var r,i=arguments.length,l=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(l=(i<3?r(l):i>3?r(t,o,l):r(t,o))||l);return i>3&&l&&Object.defineProperty(t,o,l),l},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param=this&&this.__param||function(e,t){return function(o,n){t(o,n,e)}};Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),browser_1=__webpack_require__(69),keyboard_1=__webpack_require__(36),iterable_1=__webpack_require__(70),smodel_1=__webpack_require__(2),smodel_utils_1=__webpack_require__(6),command_1=__webpack_require__(5),mouse_tool_1=__webpack_require__(15),key_tool_1=__webpack_require__(20),vnode_utils_1=__webpack_require__(11),button_handler_1=__webpack_require__(58),model_1=__webpack_require__(59),model_2=__webpack_require__(21),edit_routing_1=__webpack_require__(42),model_3=__webpack_require__(12),SelectAction=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t=[]),this.selectedElementsIDs=e,this.deselectedElementsIDs=t,this.kind=SelectCommand.KIND}return e}();exports.SelectAction=SelectAction;var SelectAllAction=function(){function e(e){void 0===e&&(e=!0),this.select=e,this.kind=SelectAllCommand.KIND}return e}();exports.SelectAllAction=SelectAllAction;var SelectCommand=function(e){function t(t){var o=e.call(this)||this;return o.action=t,o.selected=[],o.deselected=[],o}return __extends(t,e),t.prototype.execute=function(e){var t=this,o=e.root;return this.action.selectedElementsIDs.forEach(function(e){var n=o.index.getById(e);n instanceof smodel_1.SChildElement&&model_3.isSelectable(n)&&t.selected.push({element:n,parent:n.parent,index:n.parent.children.indexOf(n)})}),this.action.deselectedElementsIDs.forEach(function(e){var n=o.index.getById(e);n instanceof smodel_1.SChildElement&&model_3.isSelectable(n)&&t.deselected.push({element:n,parent:n.parent,index:n.parent.children.indexOf(n)})}),this.redo(e)},t.prototype.undo=function(e){for(var t=this.selected.length-1;t>=0;--t){var o=this.selected[t],n=o.element;model_3.isSelectable(n)&&(n.selected=!1),o.parent.move(n,o.index)}return this.deselected.reverse().forEach(function(e){model_3.isSelectable(e.element)&&(e.element.selected=!0)}),e.root},t.prototype.redo=function(e){for(var t=0;t<this.selected.length;++t){var o=this.selected[t],n=o.element,r=o.parent.children.length;o.parent.move(n,r-1)}return this.deselected.forEach(function(e){model_3.isSelectable(e.element)&&(e.element.selected=!1)}),this.selected.forEach(function(e){model_3.isSelectable(e.element)&&(e.element.selected=!0)}),e.root},t.KIND="elementSelected",t}(command_1.Command);exports.SelectCommand=SelectCommand;var SelectAllCommand=function(e){function t(t){var o=e.call(this)||this;return o.action=t,o.previousSelection={},o}return __extends(t,e),t.prototype.execute=function(e){return this.selectAll(e.root,this.action.select),e.root},t.prototype.selectAll=function(e,t){model_3.isSelectable(e)&&(this.previousSelection[e.id]=e.selected,e.selected=t);for(var o=0,n=e.children;o<n.length;o++){var r=n[o];this.selectAll(r,t)}},t.prototype.undo=function(e){var t=e.root.index;for(var o in this.previousSelection)if(this.previousSelection.hasOwnProperty(o)){var n=t.getById(o);void 0!==n&&model_3.isSelectable(n)&&(n.selected=this.previousSelection[o])}return e.root},t.prototype.redo=function(e){return this.selectAll(e.root,this.action.select),e.root},t.KIND="allSelected",t}(command_1.Command);exports.SelectAllCommand=SelectAllCommand;var SelectMouseListener=function(e){function t(t){var o=e.call(this)||this;return o.buttonHandlerRegistry=t,o.wasSelected=!1,o.hasDragged=!1,o}return __extends(t,e),t.prototype.mouseDown=function(e,t){var o=[];if(0===t.button){if(void 0!==this.buttonHandlerRegistry&&e instanceof model_1.SButton&&e.enabled){var n=this.buttonHandlerRegistry.get(e.type);if(void 0!==n)return n.buttonPressed(e)}var r=smodel_utils_1.findParentByFeature(e,model_3.isSelectable);if(void 0!==r||e instanceof smodel_1.SModelRoot){this.hasDragged=!1;var i=[];if(browser_1.isCtrlOrCmd(t)||(i=iterable_1.toArray(e.root.index.all().filter(function(e){return model_3.isSelectable(e)&&e.selected&&!(r instanceof model_2.SRoutingHandle&&e===r.parent)}))),void 0!==r)if(r.selected)browser_1.isCtrlOrCmd(t)?(this.wasSelected=!1,o.push(new SelectAction([],[r.id])),model_2.isRoutable(r)&&o.push(new edit_routing_1.SwitchEditModeAction([],[r.id]))):this.wasSelected=!0;else{this.wasSelected=!1,o.push(new SelectAction([r.id],i.map(function(e){return e.id})));var l=i.filter(function(e){return model_2.isRoutable(e)}).map(function(e){return e.id});model_2.isRoutable(r)?o.push(new edit_routing_1.SwitchEditModeAction([r.id],l)):l.length>0&&o.push(new edit_routing_1.SwitchEditModeAction([],l))}else{o.push(new SelectAction([],i.map(function(e){return e.id})));var l=i.filter(function(e){return model_2.isRoutable(e)}).map(function(e){return e.id});l.length>0&&o.push(new edit_routing_1.SwitchEditModeAction([],l))}}}return o},t.prototype.mouseMove=function(e,t){return this.hasDragged=!0,[]},t.prototype.mouseUp=function(e,t){if(0===t.button&&!this.hasDragged){var o=smodel_utils_1.findParentByFeature(e,model_3.isSelectable);if(void 0!==o&&this.wasSelected)return[new SelectAction([o.id],[])]}return this.hasDragged=!1,[]},t.prototype.decorate=function(e,t){var o=smodel_utils_1.findParentByFeature(t,model_3.isSelectable);return void 0!==o&&vnode_utils_1.setClass(e,"selected",o.selected),e},t=__decorate([__param(0,inversify_1.inject(button_handler_1.ButtonHandlerRegistry)),__param(0,inversify_1.optional()),__metadata("design:paramtypes",[button_handler_1.ButtonHandlerRegistry])],t)}(mouse_tool_1.MouseListener);exports.SelectMouseListener=SelectMouseListener;var SelectKeyboardListener=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.keyDown=function(e,t){if(keyboard_1.matchesKeystroke(t,"KeyA","ctrlCmd")){var o=iterable_1.toArray(e.root.index.all().filter(function(e){return model_3.isSelectable(e)}).map(function(e){return e.id}));return[new SelectAction(o,[])]}return[]},t}(key_tool_1.KeyListener);exports.SelectKeyboardListener=SelectKeyboardListener;

/***/ }),
/* 94 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function isScrollable(o){return"scroll"in o}var __extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,e){o.__proto__=e}||function(o,e){for(var t in e)e.hasOwnProperty(t)&&(o[t]=e[t])};return function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(exports,"__esModule",{value:!0});var smodel_1=__webpack_require__(2),mouse_tool_1=__webpack_require__(15),smodel_utils_1=__webpack_require__(6),viewport_1=__webpack_require__(25),model_1=__webpack_require__(16),model_2=__webpack_require__(22),model_3=__webpack_require__(21);exports.isScrollable=isScrollable;var ScrollMouseListener=function(o){function e(){return null!==o&&o.apply(this,arguments)||this}return __extends(e,o),e.prototype.mouseDown=function(o,e){if(void 0===smodel_utils_1.findParentByFeature(o,model_2.isMoveable)&&!(o instanceof model_3.SRoutingHandle)){var t=smodel_utils_1.findParentByFeature(o,model_1.isViewport);this.lastScrollPosition=t?{x:e.pageX,y:e.pageY}:void 0}return[]},e.prototype.mouseMove=function(o,e){if(0===e.buttons)this.mouseUp(o,e);else if(this.lastScrollPosition){var t=smodel_utils_1.findParentByFeature(o,model_1.isViewport);if(t){var r=(e.pageX-this.lastScrollPosition.x)/t.zoom,i=(e.pageY-this.lastScrollPosition.y)/t.zoom,s={scroll:{x:t.scroll.x-r,y:t.scroll.y-i},zoom:t.zoom};return this.lastScrollPosition={x:e.pageX,y:e.pageY},[new viewport_1.ViewportAction(t.id,s,!1)]}}return[]},e.prototype.mouseEnter=function(o,e){return o instanceof smodel_1.SModelRoot&&0===e.buttons&&this.mouseUp(o,e),[]},e.prototype.mouseUp=function(o,e){return this.lastScrollPosition=void 0,[]},e}(mouse_tool_1.MouseListener);exports.ScrollMouseListener=ScrollMouseListener;

/***/ }),
/* 95 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function isZoomable(e){return"zoom"in e}var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var t in o)o.hasOwnProperty(t)&&(e[t]=o[t])};return function(o,t){function r(){this.constructor=o}e(o,t),o.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}();Object.defineProperty(exports,"__esModule",{value:!0});var mouse_tool_1=__webpack_require__(15),smodel_utils_1=__webpack_require__(6),viewport_1=__webpack_require__(25),model_1=__webpack_require__(16);exports.isZoomable=isZoomable;var ZoomMouseListener=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return __extends(o,e),o.prototype.wheel=function(e,o){var t=smodel_utils_1.findParentByFeature(e,model_1.isViewport);if(t){var r=Math.exp(.005*-o.deltaY),s=1/(r*t.zoom)-1/t.zoom,n={scroll:{x:-(s*o.offsetX-t.scroll.x),y:-(s*o.offsetY-t.scroll.y)},zoom:t.zoom*r};return[new viewport_1.ViewportAction(t.id,n,!1)]}return[]},o}(mouse_tool_1.MouseListener);exports.ZoomMouseListener=ZoomMouseListener;

/***/ }),
/* 96 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function isActionMessage(e){return void 0!==e&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("action")}var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),__decorate=this&&this.__decorate||function(e,t,r,o){var n,i=arguments.length,s=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(s=(i<3?n(s):i>3?n(t,r,s):n(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param=this&&this.__param||function(e,t){return function(r,o){t(r,o,e)}};Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),types_1=__webpack_require__(1),smodel_1=__webpack_require__(2),smodel_storage_1=__webpack_require__(54),action_handler_1=__webpack_require__(23),set_model_1=__webpack_require__(31),update_model_1=__webpack_require__(65),bounds_manipulation_1=__webpack_require__(32),hover_1=__webpack_require__(34),model_source_1=__webpack_require__(68),svg_exporter_1=__webpack_require__(24),file_saver_1=__webpack_require__(73),expand_1=__webpack_require__(43),open_1=__webpack_require__(62);exports.isActionMessage=isActionMessage;var ServerStatusAction=function(){function e(){this.kind=e.KIND}return e.KIND="serverStatus",e}();exports.ServerStatusAction=ServerStatusAction;var receivedFromServerProperty="__receivedFromServer",DiagramServer=function(e){function t(t,r,o,n,i){var s=e.call(this,t,r,o)||this;return s.storage=n,s.logger=i,s.currentRoot={type:"NONE",id:"ROOT"},s.clientId=s.viewerOptions.baseDiv,s}return __extends(t,e),t.prototype.initialize=function(t){e.prototype.initialize.call(this,t),t.registerCommand(update_model_1.UpdateModelCommand),t.register(bounds_manipulation_1.ComputedBoundsAction.KIND,this),t.register(bounds_manipulation_1.RequestBoundsCommand.KIND,this),t.register(hover_1.RequestPopupModelAction.KIND,this),t.register(expand_1.CollapseExpandAction.KIND,this),t.register(expand_1.CollapseExpandAllAction.KIND,this),t.register(open_1.OpenAction.KIND,this),t.register(ServerStatusAction.KIND,this)},t.prototype.handle=function(e){if(this.handleLocally(e)){var t={clientId:this.clientId,action:e};this.logger.log(this,"sending",t),this.sendMessage(t)}},t.prototype.messageReceived=function(e){var t=this,r="string"==typeof e?JSON.parse(e):e;isActionMessage(r)&&r.action?r.clientId&&r.clientId!==this.clientId||(r.action[receivedFromServerProperty]=!0,this.logger.log(this,"receiving",r),this.actionDispatcher.dispatch(r.action).then(function(){t.storeNewModel(r.action)})):this.logger.error(this,"received data is not an action message",r)},t.prototype.handleLocally=function(e){switch(this.storeNewModel(e),e.kind){case bounds_manipulation_1.ComputedBoundsAction.KIND:return this.handleComputedBounds(e);case bounds_manipulation_1.RequestBoundsCommand.KIND:return!1;case svg_exporter_1.ExportSvgAction.KIND:return this.handleExportSvgAction(e);case ServerStatusAction.KIND:return this.handleServerStateAction(e)}return!e[receivedFromServerProperty]},t.prototype.storeNewModel=function(e){if(e.kind===set_model_1.SetModelCommand.KIND||e.kind===update_model_1.UpdateModelCommand.KIND||e.kind===bounds_manipulation_1.RequestBoundsCommand.KIND){var t=e.newRoot;t&&(this.currentRoot=t,e.kind!==set_model_1.SetModelCommand.KIND&&e.kind!==update_model_1.UpdateModelCommand.KIND||(this.lastSubmittedModelType=t.type),this.storage.store(this.currentRoot))}},t.prototype.handleComputedBounds=function(e){if(this.viewerOptions.needsServerLayout)return!0;var t=new smodel_1.SModelIndex,r=this.currentRoot;t.add(r);for(var o=0,n=e.bounds;o<n.length;o++){var i=n[o],s=t.getById(i.elementId);void 0!==s&&this.applyBounds(s,i.newBounds)}if(void 0!==e.alignments)for(var a=0,d=e.alignments;a<d.length;a++){var p=d[a],s=t.getById(p.elementId);void 0!==s&&this.applyAlignment(s,p.newAlignment)}return r.type===this.lastSubmittedModelType?this.actionDispatcher.dispatch(new update_model_1.UpdateModelAction(r)):this.actionDispatcher.dispatch(new set_model_1.SetModelAction(r)),this.lastSubmittedModelType=r.type,!1},t.prototype.applyBounds=function(e,t){var r=e;r.position={x:t.x,y:t.y},r.size={width:t.width,height:t.height}},t.prototype.applyAlignment=function(e,t){e.alignment={x:t.x,y:t.y}},t.prototype.handleExportSvgAction=function(e){var t=new Blob([e.svg],{type:"text/plain;charset=utf-8"});return file_saver_1.saveAs(t,"diagram.svg"),!1},t.prototype.handleServerStateAction=function(e){return!1},t=__decorate([inversify_1.injectable(),__param(0,inversify_1.inject(types_1.TYPES.IActionDispatcher)),__param(1,inversify_1.inject(types_1.TYPES.ActionHandlerRegistry)),__param(2,inversify_1.inject(types_1.TYPES.ViewerOptions)),__param(3,inversify_1.inject(types_1.TYPES.SModelStorage)),__param(4,inversify_1.inject(types_1.TYPES.ILogger)),__metadata("design:paramtypes",[Object,action_handler_1.ActionHandlerRegistry,Object,smodel_storage_1.SModelStorage,Object])],t)}(model_source_1.ModelSource);exports.DiagramServer=DiagramServer;

/***/ }),
/* 97 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var ExpansionState=function(){function e(e){this.expandedElementIds=[],this.initialize(e)}return e.prototype.initialize=function(e){var t=this;e.expanded&&this.expandedElementIds.push(e.id),void 0!==e.children&&e.children.forEach(function(e){return t.initialize(e)})},e.prototype.apply=function(e){for(var t=0,n=e.collapseIds;t<n.length;t++){var i=n[t],d=this.expandedElementIds.indexOf(i);-1!==d&&this.expandedElementIds.splice(d,1)}for(var s=0,a=e.expandIds;s<a.length;s++){var p=a[s];this.expandedElementIds.push(p)}},e.prototype.collapseAll=function(){this.expandedElementIds=[]},e}();exports.ExpansionState=ExpansionState;

/***/ }),
/* 98 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function computeCircleAnchor(t,e,r,n){void 0===n&&(n=0);var i=t.x+e,o=t.y+e,c=i-r.x,s=o-r.y,a=Math.sqrt(c*c+s*s);return{x:i-(c/a||0)*(e+n),y:o-(s/a||0)*(e+n)}}function getXIntersection(t,e,r){var n=(t-e.y)/(r.y-e.y);return(r.x-e.x)*n+e.x}function getYIntersection(t,e,r){var n=(t-e.x)/(r.x-e.x);return(r.y-e.y)*n+e.y}function computeRectangleAnchor(t,e,r){var n=geometry_1.center(t),i=new NearestPointFinder(n,e);if(!geometry_1.almostEquals(n.y,e.y)){var o=getXIntersection(t.y,n,e);o>=t.x&&o<=t.x+t.width&&i.addCandidate(o,t.y-r);var c=getXIntersection(t.y+t.height,n,e);c>=t.x&&c<=t.x+t.width&&i.addCandidate(c,t.y+t.height+r)}if(!geometry_1.almostEquals(n.x,e.x)){var s=getYIntersection(t.x,n,e);s>=t.y&&s<=t.y+t.height&&i.addCandidate(t.x-r,s);var a=getYIntersection(t.x+t.width,n,e);a>=t.y&&a<=t.y+t.height&&i.addCandidate(t.x+t.width+r,a)}return i.best}Object.defineProperty(exports,"__esModule",{value:!0});var geometry_1=__webpack_require__(3);exports.computeCircleAnchor=computeCircleAnchor;var NearestPointFinder=function(){function t(t,e){this.centerPoint=t,this.refPoint=e,this.currentDist=-1}return t.prototype.addCandidate=function(t,e){var r=this.refPoint.x-t,n=this.refPoint.y-e,i=r*r+n*n;(this.currentDist<0||i<this.currentDist)&&(this.currentBest={x:t,y:e},this.currentDist=i)},Object.defineProperty(t.prototype,"best",{get:function(){return void 0===this.currentBest?this.centerPoint:this.currentBest},enumerable:!0,configurable:!0}),t}();exports.computeRectangleAnchor=computeRectangleAnchor;

/***/ }),
/* 99 */
/***/ (function(module, exports) {

/* WEBPACK VAR INJECTION */(function(__webpack_amd_options__) {/* globals __webpack_amd_options__ */
module.exports = __webpack_amd_options__;

/* WEBPACK VAR INJECTION */}.call(exports, {}))

/***/ }),
/* 100 */,
/* 101 */,
/* 102 */,
/* 103 */,
/* 104 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var i in o)o.hasOwnProperty(i)&&(e[i]=o[i])};return function(o,i){function t(){this.constructor=o}e(o,i),o.prototype=null===i?Object.create(i):(t.prototype=i.prototype,new t)}}();Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),lib_1=__webpack_require__(37),views_1=__webpack_require__(108),sprotty_model_1=__webpack_require__(107),FilteringSvgExporter=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return __extends(o,e),o.prototype.isExported=function(e){return null!==e.href&&(e.href.endsWith("diagram.css")||e.href.endsWith("sprotty.css"))},o}(lib_1.SvgExporter);exports.default=function(){var e=new inversify_1.ContainerModule(function(e,o,i,t){t(lib_1.TYPES.ILogger).to(lib_1.ConsoleLogger).inSingletonScope(),t(lib_1.TYPES.LogLevel).toConstantValue(lib_1.LogLevel.warn),t(lib_1.TYPES.IModelFactory).to(lib_1.SGraphFactory).inSingletonScope(),t(lib_1.TYPES.SvgExporter).to(FilteringSvgExporter).inSingletonScope();var r={bind:e,unbind:o,isBound:i,rebind:t};lib_1.configureModelElement(r,"graph",lib_1.SGraph,lib_1.SGraphView),lib_1.configureModelElement(r,"node",sprotty_model_1.ElkNode,views_1.ElkNodeView),lib_1.configureModelElement(r,"port",sprotty_model_1.ElkPort,views_1.ElkPortView),lib_1.configureModelElement(r,"edge",sprotty_model_1.ElkEdge,views_1.ElkEdgeView),lib_1.configureModelElement(r,"label",lib_1.SLabel,views_1.ElkLabelView),lib_1.configureModelElement(r,"junction",sprotty_model_1.ElkJunction,views_1.JunctionView),lib_1.configureViewerOptions(r,{needsClientLayout:!1})}),o=new inversify_1.Container;return o.load(lib_1.defaultModule,lib_1.selectModule,lib_1.boundsModule,lib_1.moveModule,lib_1.fadeModule,lib_1.hoverModule,lib_1.viewportModule,lib_1.exportModule,lib_1.edgeEditModule,e),o};

/***/ }),
/* 105 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function getParameters(){for(var e=window.location.search.substring(1),r={};e.length>0;){var t=e.indexOf("&"),n=void 0;t<0?(n=e,e=""):(n=e.substring(0,t),e=e.substring(t+1));var s=n.indexOf("=");s>0&&s<n.length-1&&(r[n.substring(0,s)]=n.substring(s+1))}return r}function setupModelLink(e,r){var t,n=function(e){void 0!==t&&window.clearTimeout(t),t=window.setTimeout(function(){var t=document.getElementById("model-link");if(null!==t){var n=r(e),s=assembleHref(n);t.setAttribute("href",s)}},400)};e.onDidChangeModelContent(n),n({})}function assembleHref(e){var r=window.location.href,t=r.indexOf("?");return t>0&&(r=r.substring(0,t)),r+=combineParameters(e)}function combineParameters(e){var r="",t=0;for(var n in e)r+=(0===t?"?":"&")+n+"="+e[n],t++;return r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getParameters=getParameters,exports.setupModelLink=setupModelLink,exports.assembleHref=assembleHref,exports.combineParameters=combineParameters;

/***/ }),
/* 106 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(process, global) {var Reflect;!function(t){"use strict";function e(t,e,r,n){if(m(r)){if(!P(t))throw new TypeError;if(!I(e))throw new TypeError;return h(t,e)}if(!P(t))throw new TypeError;if(!O(e))throw new TypeError;if(!O(n)&&!m(n)&&!E(n))throw new TypeError;return E(n)&&(n=void 0),r=S(r),p(t,e,r,n)}function r(t,e){function r(r,n){if(!O(r))throw new TypeError;if(!m(n)&&!K(n))throw new TypeError;w(t,e,r,n)}return r}function n(t,e,r,n){if(!O(r))throw new TypeError;return m(n)||(n=S(n)),w(t,e,r,n)}function i(t,e,r){if(!O(e))throw new TypeError;return m(r)||(r=S(r)),l(t,e,r)}function o(t,e,r){if(!O(e))throw new TypeError;return m(r)||(r=S(r)),v(t,e,r)}function u(t,e,r){if(!O(e))throw new TypeError;return m(r)||(r=S(r)),_(t,e,r)}function f(t,e,r){if(!O(e))throw new TypeError;return m(r)||(r=S(r)),d(t,e,r)}function a(t,e){if(!O(t))throw new TypeError;return m(e)||(e=S(e)),g(t,e)}function c(t,e){if(!O(t))throw new TypeError;return m(e)||(e=S(e)),k(t,e)}function s(t,e,r){if(!O(e))throw new TypeError;m(r)||(r=S(r));var n=y(e,r,!1);if(m(n))return!1;if(!n.delete(t))return!1;if(n.size>0)return!0;var i=Z.get(e);return i.delete(r),i.size>0||(Z.delete(e),!0)}function h(t,e){for(var r=t.length-1;r>=0;--r){var n=t[r],i=n(e);if(!m(i)&&!E(i)){if(!I(i))throw new TypeError;e=i}}return e}function p(t,e,r,n){for(var i=t.length-1;i>=0;--i){var o=t[i],u=o(e,r,n);if(!m(u)&&!E(u)){if(!O(u))throw new TypeError;n=u}}return n}function y(t,e,r){var n=Z.get(t);if(m(n)){if(!r)return;n=new N,Z.set(t,n)}var i=n.get(e);if(m(i)){if(!r)return;i=new N,n.set(e,i)}return i}function l(t,e,r){if(v(t,e,r))return!0;var n=W(e);return!E(n)&&l(t,n,r)}function v(t,e,r){var n=y(e,r,!1);return!m(n)&&j(n.has(t))}function _(t,e,r){if(v(t,e,r))return d(t,e,r);var n=W(e);return E(n)?void 0:_(t,n,r)}function d(t,e,r){var n=y(e,r,!1);if(!m(n))return n.get(t)}function w(t,e,r,n){y(r,n,!0).set(t,e)}function g(t,e){var r=k(t,e),n=W(t);if(null===n)return r;var i=g(n,e);if(i.length<=0)return r;if(r.length<=0)return i;for(var o=new Q,u=[],f=0,a=r;f<a.length;f++){var c=a[f],s=o.has(c);s||(o.add(c),u.push(c))}for(var h=0,p=i;h<p.length;h++){var c=p[h],s=o.has(c);s||(o.add(c),u.push(c))}return u}function k(t,e){var r=[],n=y(t,e,!1);if(m(n))return r;for(var i=n.keys(),o=L(i),u=0;;){var f=C(o);if(!f)return r.length=u,r;var a=U(f);try{r[u]=a}catch(t){try{F(o)}finally{throw t}}u++}}function b(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function m(t){return void 0===t}function E(t){return null===t}function T(t){return"symbol"==typeof t}function O(t){return"object"==typeof t?null!==t:"function"==typeof t}function x(t,e){switch(b(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var r=3===e?"string":5===e?"number":"default",n=z(t,B);if(void 0!==n){var i=n.call(t,r);if(O(i))throw new TypeError;return i}return M(t,"default"===r?"number":r)}function M(t,e){if("string"===e){var r=t.toString;if(R(r)){var n=r.call(t);if(!O(n))return n}var i=t.valueOf;if(R(i)){var n=i.call(t);if(!O(n))return n}}else{var i=t.valueOf;if(R(i)){var n=i.call(t);if(!O(n))return n}var o=t.toString;if(R(o)){var n=o.call(t);if(!O(n))return n}}throw new TypeError}function j(t){return!!t}function A(t){return""+t}function S(t){var e=x(t,3);return T(e)?e:A(e)}function P(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function R(t){return"function"==typeof t}function I(t){return"function"==typeof t}function K(t){switch(b(t)){case 3:case 4:return!0;default:return!1}}function z(t,e){var r=t[e];if(void 0!==r&&null!==r){if(!R(r))throw new TypeError;return r}}function L(t){var e=z(t,G);if(!R(e))throw new TypeError;var r=e.call(t);if(!O(r))throw new TypeError;return r}function U(t){return t.value}function C(t){var e=t.next();return!e.done&&e}function F(t){var e=t.return;e&&e.call(t)}function W(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===H)return e;if(e!==H)return e;var r=t.prototype,n=r&&Object.getPrototypeOf(r);if(null==n||n===Object.prototype)return e;var i=n.constructor;return"function"!=typeof i?e:i===t?e:i}function V(t){return t.__=void 0,delete t.__,t}var D,Y=Object.prototype.hasOwnProperty,q="function"==typeof Symbol,B=q&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",G=q&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator";!function(t){var e="function"==typeof Object.create,r={__proto__:[]}instanceof Array,n=!e&&!r;t.create=e?function(){return V(Object.create(null))}:r?function(){return V({__proto__:null})}:function(){return V({})},t.has=n?function(t,e){return Y.call(t,e)}:function(t,e){return e in t},t.get=n?function(t,e){return Y.call(t,e)?t[e]:void 0}:function(t,e){return t[e]}}(D||(D={}));var H=Object.getPrototypeOf(Function),J="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,N=J||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){function t(t,e){return t}function e(t,e){return e}function r(t,e){return[t,e]}var n={},i=[],o=function(){function t(t,e,r){this._index=0,this._keys=t,this._values=e,this._selector=r}return t.prototype["@@iterator"]=function(){return this},t.prototype[G]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var e=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=i,this._values=i):this._index++,{value:e,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=i,this._values=i),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=i,this._values=i),{value:t,done:!0}},t}();return function(){function i(){this._keys=[],this._values=[],this._cacheKey=n,this._cacheIndex=-2}return Object.defineProperty(i.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),i.prototype.has=function(t){return this._find(t,!1)>=0},i.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},i.prototype.set=function(t,e){var r=this._find(t,!0);return this._values[r]=e,this},i.prototype.delete=function(t){var e=this._find(t,!1);if(e>=0){for(var r=this._keys.length,i=e+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=n,this._cacheIndex=-2),!0}return!1},i.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=n,this._cacheIndex=-2},i.prototype.keys=function(){return new o(this._keys,this._values,t)},i.prototype.values=function(){return new o(this._keys,this._values,e)},i.prototype.entries=function(){return new o(this._keys,this._values,r)},i.prototype["@@iterator"]=function(){return this.entries()},i.prototype[G]=function(){return this.entries()},i.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},i}()}():Map,Q=J||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){return function(){function t(){this._map=new N}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[G]=function(){return this.keys()},t}()}():Set,X=J||"function"!=typeof WeakMap?function(){function t(){var t;do{t="@@WeakMap@@"+i()}while(D.has(u,t));return u[t]=!0,t}function e(t,e){if(!Y.call(t,f)){if(!e)return;Object.defineProperty(t,f,{value:D.create()})}return t[f]}function r(t,e){for(var r=0;r<e;++r)t[r]=255*Math.random()|0;return t}function n(t){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):r(new Uint8Array(t),t):r(new Array(t),t)}function i(){var t=n(o);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var e="",r=0;r<o;++r){var i=t[r];4!==r&&6!==r&&8!==r||(e+="-"),i<16&&(e+="0"),e+=i.toString(16).toLowerCase()}return e}var o=16,u=D.create(),f=t();return function(){function r(){this._key=t()}return r.prototype.has=function(t){var r=e(t,!1);return void 0!==r&&D.has(r,this._key)},r.prototype.get=function(t){var r=e(t,!1);return void 0!==r?D.get(r,this._key):void 0},r.prototype.set=function(t,r){return e(t,!0)[this._key]=r,this},r.prototype.delete=function(t){var r=e(t,!1);return void 0!==r&&delete r[this._key]},r.prototype.clear=function(){this._key=t()},r}()}():WeakMap,Z=new X;t.decorate=e,t.metadata=r,t.defineMetadata=n,t.hasMetadata=i,t.hasOwnMetadata=o,t.getMetadata=u,t.getOwnMetadata=f,t.getMetadataKeys=a,t.getOwnMetadataKeys=c,t.deleteMetadata=s,function(e){if(void 0!==e.Reflect){if(e.Reflect!==t)for(var r in t)Y.call(t,r)&&(e.Reflect[r]=t[r])}else e.Reflect=t}("undefined"!=typeof global?global:"undefined"!=typeof self?self:Function("return this;")())}(Reflect||(Reflect={}));
/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(28), __webpack_require__(27)))

/***/ }),
/* 107 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(exports,"__esModule",{value:!0});var lib_1=__webpack_require__(37),ElkNode=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.hasFeature=function(e){return e!==lib_1.moveFeature&&t.prototype.hasFeature.call(this,e)},e}(lib_1.RectangularNode);exports.ElkNode=ElkNode;var ElkPort=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.hasFeature=function(e){return e!==lib_1.moveFeature&&t.prototype.hasFeature.call(this,e)},e}(lib_1.RectangularPort);exports.ElkPort=ElkPort;var ElkEdge=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.hasFeature=function(e){return e!==lib_1.editFeature&&t.prototype.hasFeature.call(this,e)},e}(lib_1.SEdge);exports.ElkEdge=ElkEdge;var ElkJunction=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.hasFeature=function(e){return e!==lib_1.moveFeature&&e!==lib_1.selectFeature&&e!==lib_1.hoverFeedbackFeature&&t.prototype.hasFeature.call(this,e)},e}(lib_1.SNode);exports.ElkJunction=ElkJunction;

/***/ }),
/* 108 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0});var snabbdom=__webpack_require__(18),lib_1=__webpack_require__(37),JSX={createElement:snabbdom.svg},ElkNodeView=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(e,t){return JSX.createElement("g",null,JSX.createElement("rect",{"class-elknode":!0,"class-mouseover":e.hoverFeedback,"class-selected":e.selected,x:"0",y:"0",width:e.bounds.width,height:e.bounds.height}),t.renderChildren(e))},t}(lib_1.RectangularNodeView);exports.ElkNodeView=ElkNodeView;var ElkPortView=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(e,t){return JSX.createElement("g",null,JSX.createElement("rect",{"class-elkport":!0,"class-mouseover":e.hoverFeedback,"class-selected":e.selected,x:"0",y:"0",width:e.bounds.width,height:e.bounds.height}),t.renderChildren(e))},t}(lib_1.RectangularNodeView);exports.ElkPortView=ElkPortView;var ElkEdgeView=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.renderLine=function(e,t,r){for(var n=t[0],o="M "+n.x+","+n.y,l=1;l<t.length;l++){var i=t[l];o+=" L "+i.x+","+i.y}return JSX.createElement("path",{"class-elkedge":!0,d:o})},t.prototype.renderAdditionals=function(e,t,r){var n=t[t.length-2],o=t[t.length-1];return[JSX.createElement("path",{"class-edge":!0,"class-arrow":!0,d:"M 0,0 L 8,-3 L 8,3 Z",transform:"rotate("+lib_1.toDegrees(lib_1.angleOfPoint({x:n.x-o.x,y:n.y-o.y}))+" "+o.x+" "+o.y+") translate("+o.x+" "+o.y+")"})]},t}(lib_1.PolylineEdgeView);exports.ElkEdgeView=ElkEdgeView;var ElkLabelView=function(){function e(){}return e.prototype.render=function(e,t){return JSX.createElement("text",{"class-elklabel":!0},e.text)},e}();exports.ElkLabelView=ElkLabelView;var JunctionView=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.render=function(e,t){var r=this.getRadius(e);return JSX.createElement("g",null,JSX.createElement("circle",{"class-elkjunction":!0,r:r}))},t.prototype.getRadius=function(e){return 2},t}(lib_1.CircularNodeView);exports.JunctionView=JunctionView;

/***/ }),
/* 109 */
/***/ (function(module, exports, __webpack_require__) {

var attrRE=/([\w-]+)|=|(['"])([.\s\S]*?)\2/g,voidElements=__webpack_require__(187);module.exports=function(e){var t,r=0,n=!0,a={type:"tag",name:"",voidElement:!1,attrs:{},children:[]};return e.replace(attrRE,function(i){if("="===i)return n=!0,void r++;n?0===r?((voidElements[i]||"/"===e.charAt(e.length-2))&&(a.voidElement=!0),a.name=i):(a.attrs[t]=i.replace(/^['"]|['"]$/g,""),t=void 0):(t&&(a.attrs[t]=t),t=i),r++,n=!1}),a};

/***/ }),
/* 110 */
/***/ (function(module, exports, __webpack_require__) {

function pushTextNode(e,t,n,a,r){var o=t.indexOf("<",a),p=t.slice(a,-1===o?void 0:o);/^\s*$/.test(p)&&(p=" "),(!r&&o>-1&&n+e.length>=0||" "!==p)&&e.push({type:"text",content:p})}var tagRE=/(?:<!--[\S\s]*?-->|<(?:"[^"]*"['"]*|'[^']*'['"]*|[^'">])+>)/g,parseTag=__webpack_require__(109),empty=Object.create?Object.create(null):{};module.exports=function(e,t){t||(t={}),t.components||(t.components=empty);var n,a=[],r=-1,o=[],p={},c=!1;return e.replace(tagRE,function(i,s){if(c){if(i!=="</"+n.name+">")return;c=!1}var h,g="/"!==i.charAt(1),u=0===i.indexOf("\x3c!--"),l=s+i.length,d=e.charAt(l);g&&!u&&(r++,n=parseTag(i),"tag"===n.type&&t.components[n.name]&&(n.type="component",c=!0),n.voidElement||c||!d||"<"===d||pushTextNode(n.children,e,r,l,t.ignoreWhitespace),p[n.tagName]=n,0===r&&a.push(n),h=o[r-1],h&&h.children.push(n),o[r]=n),(u||!g||n.voidElement)&&(u||r--,!c&&"<"!==d&&d&&(h=-1===r?a:o[r].children,pushTextNode(h,e,r,l,t.ignoreWhitespace)))}),!a.length&&e.length&&pushTextNode(a,e,0,0,t.ignoreWhitespace),a};

/***/ }),
/* 111 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function inject(t){return function(e,a,r){var o=new metadata_1.Metadata(METADATA_KEY.INJECT_TAG,t);"number"==typeof r?decorator_utils_1.tagParameter(e,a,r,o):decorator_utils_1.tagProperty(e,a,o)}}Object.defineProperty(exports,"__esModule",{value:!0});var metadata_1=__webpack_require__(9),decorator_utils_1=__webpack_require__(13),METADATA_KEY=__webpack_require__(4);exports.inject=inject;

/***/ }),
/* 112 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function injectable(){return function(e){if(!0===Reflect.hasOwnMetadata(METADATA_KEY.PARAM_TYPES,e))throw new Error(ERRORS_MSGS.DUPLICATED_INJECTABLE_DECORATOR);var t=Reflect.getMetadata(METADATA_KEY.DESIGN_PARAM_TYPES,e)||[];return Reflect.defineMetadata(METADATA_KEY.PARAM_TYPES,t,e),e}}Object.defineProperty(exports,"__esModule",{value:!0});var METADATA_KEY=__webpack_require__(4),ERRORS_MSGS=__webpack_require__(8);exports.injectable=injectable;

/***/ }),
/* 113 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function multiInject(t){return function(e,a,r){var o=new metadata_1.Metadata(METADATA_KEY.MULTI_INJECT_TAG,t);"number"==typeof r?decorator_utils_1.tagParameter(e,a,r,o):decorator_utils_1.tagProperty(e,a,o)}}Object.defineProperty(exports,"__esModule",{value:!0});var metadata_1=__webpack_require__(9),decorator_utils_1=__webpack_require__(13),METADATA_KEY=__webpack_require__(4);exports.multiInject=multiInject;

/***/ }),
/* 114 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function named(e){return function(t,a,r){var o=new metadata_1.Metadata(METADATA_KEY.NAMED_TAG,e);"number"==typeof r?decorator_utils_1.tagParameter(t,a,r,o):decorator_utils_1.tagProperty(t,a,o)}}Object.defineProperty(exports,"__esModule",{value:!0});var metadata_1=__webpack_require__(9),decorator_utils_1=__webpack_require__(13),METADATA_KEY=__webpack_require__(4);exports.named=named;

/***/ }),
/* 115 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function optional(){return function(t,e,a){var r=new metadata_1.Metadata(METADATA_KEY.OPTIONAL_TAG,!0);"number"==typeof a?decorator_utils_1.tagParameter(t,e,a,r):decorator_utils_1.tagProperty(t,e,r)}}Object.defineProperty(exports,"__esModule",{value:!0});var metadata_1=__webpack_require__(9),decorator_utils_1=__webpack_require__(13),METADATA_KEY=__webpack_require__(4);exports.optional=optional;

/***/ }),
/* 116 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function postConstruct(){return function(t,e,r){var a=new metadata_1.Metadata(METADATA_KEY.POST_CONSTRUCT,e);if(Reflect.hasOwnMetadata(METADATA_KEY.POST_CONSTRUCT,t.constructor))throw new Error(ERRORS_MSGS.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(METADATA_KEY.POST_CONSTRUCT,a,t.constructor)}}Object.defineProperty(exports,"__esModule",{value:!0});var metadata_1=__webpack_require__(9),METADATA_KEY=__webpack_require__(4),ERRORS_MSGS=__webpack_require__(8);exports.postConstruct=postConstruct;

/***/ }),
/* 117 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function tagged(t,e){return function(a,r,o){var d=new metadata_1.Metadata(t,e);"number"==typeof o?decorator_utils_1.tagParameter(a,r,o,d):decorator_utils_1.tagProperty(a,r,d)}}Object.defineProperty(exports,"__esModule",{value:!0});var metadata_1=__webpack_require__(9),decorator_utils_1=__webpack_require__(13);exports.tagged=tagged;

/***/ }),
/* 118 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function targetName(e){return function(t,a,r){var o=new metadata_1.Metadata(METADATA_KEY.NAME_TAG,e);decorator_utils_1.tagParameter(t,a,r,o)}}Object.defineProperty(exports,"__esModule",{value:!0});var metadata_1=__webpack_require__(9),decorator_utils_1=__webpack_require__(13),METADATA_KEY=__webpack_require__(4);exports.targetName=targetName;

/***/ }),
/* 119 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function unmanaged(){return function(a,e,t){var r=new metadata_1.Metadata(METADATA_KEY.UNMANAGED_TAG,!0);decorator_utils_1.tagParameter(a,e,t,r)}}Object.defineProperty(exports,"__esModule",{value:!0});var metadata_1=__webpack_require__(9),decorator_utils_1=__webpack_require__(13),METADATA_KEY=__webpack_require__(4);exports.unmanaged=unmanaged;

/***/ }),
/* 120 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var guid_1=__webpack_require__(17),literal_types_1=__webpack_require__(14),Binding=function(){function i(i,t){this.guid=guid_1.guid(),this.activated=!1,this.serviceIdentifier=i,this.scope=t,this.type=literal_types_1.BindingTypeEnum.Invalid,this.constraint=function(i){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return i.prototype.clone=function(){var t=new i(this.serviceIdentifier,this.scope);return t.activated=!1,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.cache=this.cache,t},i}();exports.Binding=Binding;

/***/ }),
/* 121 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};exports.BindingCount=BindingCount;

/***/ }),
/* 122 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var binding_1=__webpack_require__(120),lookup_1=__webpack_require__(125),planner_1=__webpack_require__(128),resolver_1=__webpack_require__(133),binding_to_syntax_1=__webpack_require__(136),serialization_1=__webpack_require__(29),container_snapshot_1=__webpack_require__(124),guid_1=__webpack_require__(17),ERROR_MSGS=__webpack_require__(8),METADATA_KEY=__webpack_require__(4),literal_types_1=__webpack_require__(14),metadata_reader_1=__webpack_require__(74),Container=function(){function t(t){if(void 0!==t){if("object"!=typeof t)throw new Error(""+ERROR_MSGS.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===t.defaultScope)throw new Error(""+ERROR_MSGS.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(t.defaultScope!==literal_types_1.BindingScopeEnum.Singleton&&t.defaultScope!==literal_types_1.BindingScopeEnum.Transient)throw new Error(""+ERROR_MSGS.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);this.options={defaultScope:t.defaultScope}}else this.options={defaultScope:literal_types_1.BindingScopeEnum.Transient};this.guid=guid_1.guid(),this._bindingDictionary=new lookup_1.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new metadata_reader_1.MetadataReader}return t.merge=function(n,e){function i(t,n){t.traverse(function(t,e){e.forEach(function(t){n.add(t.serviceIdentifier,t.clone())})})}var r=new t,o=planner_1.getBindingDictionary(r),a=planner_1.getBindingDictionary(n),u=planner_1.getBindingDictionary(e);return i(a,o),i(u,o),r},t.prototype.load=function(){for(var t=this,n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var i=function(t,n){t._binding.moduleId=n},r=function(n){return function(e){var r=t.bind.call(t,e);return i(r,n),r}},o=function(n){return function(n){t.unbind.bind(t)(n)}},a=function(n){return function(n){return t.isBound.bind(t)(n)}},u=function(n){return function(e){var r=t.rebind.call(t,e);return i(r,n),r}};n.forEach(function(t){var n=r(t.guid),e=o(t.guid),i=a(t.guid),s=u(t.guid);t.registry(n,e,i,s)})},t.prototype.unload=function(){for(var t=this,n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var i=function(t){return function(n){return n.moduleId===t}};n.forEach(function(n){var e=i(n.guid);t._bindingDictionary.removeByCondition(e)})},t.prototype.bind=function(t){var n=literal_types_1.BindingScopeEnum.Transient;n=this.options.defaultScope===n?n:literal_types_1.BindingScopeEnum.Singleton;var e=new binding_1.Binding(t,n);return this._bindingDictionary.add(t,e),new binding_to_syntax_1.BindingToSyntax(e)},t.prototype.rebind=function(t){return this.unbind(t),this.bind(t)},t.prototype.unbind=function(t){try{this._bindingDictionary.remove(t)}catch(n){throw new Error(ERROR_MSGS.CANNOT_UNBIND+" "+serialization_1.getServiceIdentifierAsString(t))}},t.prototype.unbindAll=function(){this._bindingDictionary=new lookup_1.Lookup},t.prototype.isBound=function(t){var n=this._bindingDictionary.hasKey(t);return!n&&this.parent&&(n=this.parent.isBound(t)),n},t.prototype.isBoundNamed=function(t,n){return this.isBoundTagged(t,METADATA_KEY.NAMED_TAG,n)},t.prototype.isBoundTagged=function(t,n,e){var i=!1;if(this._bindingDictionary.hasKey(t)){var r=this._bindingDictionary.get(t),o=planner_1.createMockRequest(this,t,n,e);i=r.some(function(t){return t.constraint(o)})}return!i&&this.parent&&(i=this.parent.isBoundTagged(t,n,e)),i},t.prototype.snapshot=function(){this._snapshots.push(container_snapshot_1.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},t.prototype.restore=function(){var t=this._snapshots.pop();if(void 0===t)throw new Error(ERROR_MSGS.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=t.bindings,this._middleware=t.middleware},t.prototype.createChild=function(){var n=new t;return n.parent=this,n},t.prototype.applyMiddleware=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=this._middleware?this._middleware:this._planAndResolve();this._middleware=t.reduce(function(t,n){return n(t)},e)},t.prototype.applyCustomMetadataReader=function(t){this._metadataReader=t},t.prototype.get=function(t){return this._get(!1,!1,literal_types_1.TargetTypeEnum.Variable,t)},t.prototype.getTagged=function(t,n,e){return this._get(!1,!1,literal_types_1.TargetTypeEnum.Variable,t,n,e)},t.prototype.getNamed=function(t,n){return this.getTagged(t,METADATA_KEY.NAMED_TAG,n)},t.prototype.getAll=function(t){return this._get(!0,!0,literal_types_1.TargetTypeEnum.Variable,t)},t.prototype.getAllTagged=function(t,n,e){return this._get(!1,!0,literal_types_1.TargetTypeEnum.Variable,t,n,e)},t.prototype.getAllNamed=function(t,n){return this.getAllTagged(t,METADATA_KEY.NAMED_TAG,n)},t.prototype.resolve=function(n){var e=new t;return e.bind(n).toSelf(),e.parent=this,e.get(n)},t.prototype._get=function(t,n,e,i,r,o){var a=null,u={avoidConstraints:t,contextInterceptor:function(t){return t},isMultiInject:n,key:r,serviceIdentifier:i,targetType:e,value:o};if(this._middleware){if(void 0===(a=this._middleware(u))||null===a)throw new Error(ERROR_MSGS.INVALID_MIDDLEWARE_RETURN)}else a=this._planAndResolve()(u);return a},t.prototype._planAndResolve=function(){var t=this;return function(n){var e=planner_1.plan(t._metadataReader,t,n.isMultiInject,n.targetType,n.serviceIdentifier,n.key,n.value,n.avoidConstraints);return e=n.contextInterceptor(e),resolver_1.resolve(e)}},t}();exports.Container=Container;

/***/ }),
/* 123 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var guid_1=__webpack_require__(17),ContainerModule=function(){function e(e){this.guid=guid_1.guid(),this.registry=e}return e}();exports.ContainerModule=ContainerModule;

/***/ }),
/* 124 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var ContainerSnapshot=function(){function n(){}return n.of=function(e,t){var r=new n;return r.bindings=e,r.middleware=t,r},n}();exports.ContainerSnapshot=ContainerSnapshot;

/***/ }),
/* 125 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var ERROR_MSGS=__webpack_require__(8),Lookup=function(){function t(){this._map=new Map}return t.prototype.getMap=function(){return this._map},t.prototype.add=function(t,r){if(null===t||void 0===t)throw new Error(ERROR_MSGS.NULL_ARGUMENT);if(null===r||void 0===r)throw new Error(ERROR_MSGS.NULL_ARGUMENT);var o=this._map.get(t);void 0!==o?(o.push(r),this._map.set(t,o)):this._map.set(t,[r])},t.prototype.get=function(t){if(null===t||void 0===t)throw new Error(ERROR_MSGS.NULL_ARGUMENT);var r=this._map.get(t);if(void 0!==r)return r;throw new Error(ERROR_MSGS.KEY_NOT_FOUND)},t.prototype.remove=function(t){if(null===t||void 0===t)throw new Error(ERROR_MSGS.NULL_ARGUMENT);if(!this._map.delete(t))throw new Error(ERROR_MSGS.KEY_NOT_FOUND)},t.prototype.removeByCondition=function(t){var r=this;this._map.forEach(function(o,e){var n=o.filter(function(r){return!t(r)});n.length>0?r._map.set(e,n):r._map.delete(e)})},t.prototype.hasKey=function(t){if(null===t||void 0===t)throw new Error(ERROR_MSGS.NULL_ARGUMENT);return this._map.has(t)},t.prototype.clone=function(){var r=new t;return this._map.forEach(function(t,o){t.forEach(function(t){return r.add(o,t.clone())})}),r},t.prototype.traverse=function(t){this._map.forEach(function(r,o){t(o,r)})},t}();exports.Lookup=Lookup;

/***/ }),
/* 126 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var guid_1=__webpack_require__(17),Context=function(){function t(t){this.guid=guid_1.guid(),this.container=t}return t.prototype.addPlan=function(t){this.plan=t},t}();exports.Context=Context;

/***/ }),
/* 127 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var Plan=function(){function t(t,e){this.parentContext=t,this.rootRequest=e}return t}();exports.Plan=Plan;

/***/ }),
/* 128 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function getBindingDictionary(e){return e._bindingDictionary}function _createTarget(e,t,i,n,r,a){var s=e?METADATA_KEY.MULTI_INJECT_TAG:METADATA_KEY.INJECT_TAG,o=new metadata_1.Metadata(s,i),u=new target_1.Target(t,n,i,o);if(void 0!==r){var c=new metadata_1.Metadata(r,a);u.metadata.push(c)}return u}function _getActiveBindings(e,t,i,n){var r=getBindings(t.container,n.serviceIdentifier),a=[];return a=!1===e?r.filter(function(e){var r=new request_1.Request(e.serviceIdentifier,t,i,e,n);return e.constraint(r)}):r,_validateActiveBindingCount(n.serviceIdentifier,a,n,t.container),a}function _validateActiveBindingCount(e,t,i,n){switch(t.length){case binding_count_1.BindingCount.NoBindingsAvailable:if(!0===i.isOptional())return t;var r=serialization_1.getServiceIdentifierAsString(e),a=ERROR_MSGS.NOT_REGISTERED;throw a+=serialization_1.listMetadataForTarget(r,i),a+=serialization_1.listRegisteredBindingsForServiceIdentifier(n,r,getBindings),new Error(a);case binding_count_1.BindingCount.OnlyOneBindingAvailable:if(!1===i.isArray())return t;case binding_count_1.BindingCount.MultipleBindingsAvailable:default:if(!1===i.isArray()){var r=serialization_1.getServiceIdentifierAsString(e),a=ERROR_MSGS.AMBIGUOUS_MATCH+" "+r;throw a+=serialization_1.listRegisteredBindingsForServiceIdentifier(n,r,getBindings),new Error(a)}return t}}function _createSubRequests(e,t,i,n,r,a){try{var s,o=void 0;if(null===r){o=_getActiveBindings(t,n,null,a),s=new request_1.Request(i,n,null,o,a);var u=new plan_1.Plan(n,s);n.addPlan(u)}else o=_getActiveBindings(t,n,r,a),s=r.addChildRequest(a.serviceIdentifier,o,a);o.forEach(function(t){var i=null;if(i=a.isArray()?s.addChildRequest(t.serviceIdentifier,t,a):s,t.type===literal_types_1.BindingTypeEnum.Instance&&null!==t.implementationType){reflection_utils_1.getDependencies(e,t.implementationType).forEach(function(t){_createSubRequests(e,!1,t.serviceIdentifier,n,i,t)})}})}catch(e){if(!(e instanceof RangeError&&null!==r))throw new Error(e.message);serialization_1.circularDependencyToException(r.parentContext.plan.rootRequest)}}function getBindings(e,t){var i=[],n=getBindingDictionary(e);return n.hasKey(t)?i=n.get(t):null!==e.parent&&(i=getBindings(e.parent,t)),i}function plan(e,t,i,n,r,a,s,o){void 0===o&&(o=!1);var u=new context_1.Context(t);return _createSubRequests(e,o,r,u,null,_createTarget(i,n,r,"",a,s)),u}function createMockRequest(e,t,i,n){var r=new target_1.Target(literal_types_1.TargetTypeEnum.Variable,"",t,new metadata_1.Metadata(i,n)),a=new context_1.Context(e);return new request_1.Request(t,a,null,[],r)}Object.defineProperty(exports,"__esModule",{value:!0});var plan_1=__webpack_require__(127),context_1=__webpack_require__(126),request_1=__webpack_require__(131),target_1=__webpack_require__(75),binding_count_1=__webpack_require__(121),reflection_utils_1=__webpack_require__(130),metadata_1=__webpack_require__(9),ERROR_MSGS=__webpack_require__(8),METADATA_KEY=__webpack_require__(4),literal_types_1=__webpack_require__(14),serialization_1=__webpack_require__(29);exports.getBindingDictionary=getBindingDictionary,exports.plan=plan,exports.createMockRequest=createMockRequest;

/***/ }),
/* 129 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var QueryableString=function(){function t(t){this.str=t}return t.prototype.startsWith=function(t){return 0===this.str.indexOf(t)},t.prototype.endsWith=function(t){var r="",e=t.split("").reverse().join("");return r=this.str.split("").reverse().join(""),this.startsWith.call({str:r},e)},t.prototype.contains=function(t){return-1!==this.str.indexOf(t)},t.prototype.equals=function(t){return this.str===t},t.prototype.value=function(){return this.str},t}();exports.QueryableString=QueryableString;

/***/ }),
/* 130 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function getDependencies(t,e){return getTargets(t,serialization_1.getFunctionName(e),e,!1)}function getTargets(t,e,r,a){var n=t.getConstructorMetadata(r),s=n.compilerGeneratedMetadata;if(void 0===s){var o=ERROR_MSGS.MISSING_INJECTABLE_ANNOTATION+" "+e+".";throw new Error(o)}var g=n.userGeneratedMetadata,i=Object.keys(g),u=0===r.length&&i.length>0,c=u?i.length:r.length,T=getConstructorArgsAsTargets(a,e,s,g,c),A=getClassPropsAsTargets(t,r),_=T.concat(A),l=getBaseClassDependencyCount(t,r);if(_.length<l){var E=ERROR_MSGS.ARGUMENTS_LENGTH_MISMATCH_1+e+ERROR_MSGS.ARGUMENTS_LENGTH_MISMATCH_2;throw new Error(E)}return _}function getConstructorArgsAsTarget(t,e,r,a,n){var s=n[t.toString()]||[],o=formatTargetMetadata(s),g=!0!==o.unmanaged,i=a[t],u=o.inject||o.multiInject;if(i=u||i,!0===g){var c=i===Object,T=i===Function,A=void 0===i,_=c||T||A;if(!1===e&&_){var l=ERROR_MSGS.MISSING_INJECT_ANNOTATION+" argument "+t+" in class "+r+".";throw new Error(l)}var E=new target_1.Target(literal_types_1.TargetTypeEnum.ConstructorArgument,o.targetName,i);return E.metadata=s,E}return null}function getConstructorArgsAsTargets(t,e,r,a,n){for(var s=[],o=0;o<n;o++){var g=o,i=getConstructorArgsAsTarget(g,t,e,r,a);null!==i&&s.push(i)}return s}function getClassPropsAsTargets(t,e){for(var r=t.getPropertiesMetadata(e),a=[],n=Object.keys(r),s=0;s<n.length;s++){var o=n[s],g=r[o],i=formatTargetMetadata(r[o]),u=i.targetName||o,c=i.inject||i.multiInject,T=new target_1.Target(literal_types_1.TargetTypeEnum.ClassProperty,u,c);T.metadata=g,a.push(T)}var A=Object.getPrototypeOf(e.prototype).constructor;if(A!==Object){var _=getClassPropsAsTargets(t,A);a=a.concat(_)}return a}function getBaseClassDependencyCount(t,e){var r=Object.getPrototypeOf(e.prototype).constructor;if(r!==Object){var a=serialization_1.getFunctionName(r),n=getTargets(t,a,r,!0),s=n.map(function(t){return t.metadata.filter(function(t){return t.key===METADATA_KEY.UNMANAGED_TAG})}),o=[].concat.apply([],s).length,g=n.length-o;return g>0?g:getBaseClassDependencyCount(t,r)}return 0}function formatTargetMetadata(t){var e={};return t.forEach(function(t){e[t.key.toString()]=t.value}),{inject:e[METADATA_KEY.INJECT_TAG],multiInject:e[METADATA_KEY.MULTI_INJECT_TAG],targetName:e[METADATA_KEY.NAME_TAG],unmanaged:e[METADATA_KEY.UNMANAGED_TAG]}}Object.defineProperty(exports,"__esModule",{value:!0});var serialization_1=__webpack_require__(29),target_1=__webpack_require__(75),ERROR_MSGS=__webpack_require__(8),METADATA_KEY=__webpack_require__(4),literal_types_1=__webpack_require__(14);exports.getDependencies=getDependencies;

/***/ }),
/* 131 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var guid_1=__webpack_require__(17),Request=function(){function t(t,e,i,s,r){this.guid=guid_1.guid(),this.serviceIdentifier=t,this.parentContext=e,this.parentRequest=i,this.target=r,this.childRequests=[],this.bindings=Array.isArray(s)?s:[s]}return t.prototype.addChildRequest=function(e,i,s){var r=new t(e,this.parentContext,this,i,s);return this.childRequests.push(r),r},t}();exports.Request=Request;

/***/ }),
/* 132 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function _injectProperties(e,t,r){var n=t.filter(function(e){return null!==e.target&&e.target.type===literal_types_1.TargetTypeEnum.ClassProperty}),a=n.map(function(e){return r(e)});return n.forEach(function(t,r){var n="";n=t.target.name.value();var s=a[r];e[n]=s}),e}function _createInstance(e,t){return new(e.bind.apply(e,[void 0].concat(t)))}function _postConstruct(e,t){if(Reflect.hasMetadata(METADATA_KEY.POST_CONSTRUCT,e)){var r=Reflect.getMetadata(METADATA_KEY.POST_CONSTRUCT,e);try{t[r.value]()}catch(t){throw new Error(error_msgs_1.POST_CONSTRUCT_ERROR(e.name,t.message))}}}function resolveInstance(e,t,r){var n=null;if(t.length>0){n=_createInstance(e,t.filter(function(e){return null!==e.target&&e.target.type===literal_types_1.TargetTypeEnum.ConstructorArgument}).map(function(e){return r(e)})),n=_injectProperties(n,t,r)}else n=new e;return _postConstruct(e,n),n}Object.defineProperty(exports,"__esModule",{value:!0});var literal_types_1=__webpack_require__(14),METADATA_KEY=__webpack_require__(4),error_msgs_1=__webpack_require__(8);exports.resolveInstance=resolveInstance;

/***/ }),
/* 133 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function _resolveRequest(e){var t=e.bindings,n=e.childRequests,i=e.target&&e.target.isArray(),r=!(e.parentRequest&&e.parentRequest.target&&e.target&&e.parentRequest.target.matchesArray(e.target.serviceIdentifier));if(i&&r)return n.map(function(e){return _resolveRequest(e)});var a=null;if(!0!==e.target.isOptional()||0!==t.length){var s=t[0],l=s.scope===literal_types_1.BindingScopeEnum.Singleton;if(l&&!0===s.activated)return s.cache;if(s.type===literal_types_1.BindingTypeEnum.ConstantValue)a=s.cache;else if(s.type===literal_types_1.BindingTypeEnum.Function)a=s.cache;else if(s.type===literal_types_1.BindingTypeEnum.Constructor)a=s.implementationType;else if(s.type===literal_types_1.BindingTypeEnum.DynamicValue&&null!==s.dynamicValue)a=s.dynamicValue(e.parentContext);else if(s.type===literal_types_1.BindingTypeEnum.Factory&&null!==s.factory)a=s.factory(e.parentContext);else if(s.type===literal_types_1.BindingTypeEnum.Provider&&null!==s.provider)a=s.provider(e.parentContext);else{if(s.type!==literal_types_1.BindingTypeEnum.Instance||null===s.implementationType){var o=serialization_1.getServiceIdentifierAsString(e.serviceIdentifier);throw new Error(ERROR_MSGS.INVALID_BINDING_TYPE+" "+o)}a=instantiation_1.resolveInstance(s.implementationType,n,_resolveRequest)}return"function"==typeof s.onActivation&&(a=s.onActivation(e.parentContext,a)),l&&(s.cache=a,s.activated=!0),a}}function resolve(e){return _resolveRequest(e.plan.rootRequest)}Object.defineProperty(exports,"__esModule",{value:!0});var literal_types_1=__webpack_require__(14),serialization_1=__webpack_require__(29),instantiation_1=__webpack_require__(132),ERROR_MSGS=__webpack_require__(8);exports.resolve=resolve;

/***/ }),
/* 134 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var literal_types_1=__webpack_require__(14),binding_when_on_syntax_1=__webpack_require__(76),BindingInSyntax=function(){function n(n){this._binding=n}return n.prototype.inSingletonScope=function(){return this._binding.scope=literal_types_1.BindingScopeEnum.Singleton,new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding)},n.prototype.inTransientScope=function(){return this._binding.scope=literal_types_1.BindingScopeEnum.Transient,new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding)},n}();exports.BindingInSyntax=BindingInSyntax;

/***/ }),
/* 135 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var binding_in_syntax_1=__webpack_require__(134),binding_when_syntax_1=__webpack_require__(49),binding_on_syntax_1=__webpack_require__(48),BindingInWhenOnSyntax=function(){function n(n){this._binding=n,this._bindingWhenSyntax=new binding_when_syntax_1.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new binding_on_syntax_1.BindingOnSyntax(this._binding),this._bindingInSyntax=new binding_in_syntax_1.BindingInSyntax(n)}return n.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},n.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},n.prototype.when=function(n){return this._bindingWhenSyntax.when(n)},n.prototype.whenTargetNamed=function(n){return this._bindingWhenSyntax.whenTargetNamed(n)},n.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},n.prototype.whenTargetTagged=function(n,t){return this._bindingWhenSyntax.whenTargetTagged(n,t)},n.prototype.whenInjectedInto=function(n){return this._bindingWhenSyntax.whenInjectedInto(n)},n.prototype.whenParentNamed=function(n){return this._bindingWhenSyntax.whenParentNamed(n)},n.prototype.whenParentTagged=function(n,t){return this._bindingWhenSyntax.whenParentTagged(n,t)},n.prototype.whenAnyAncestorIs=function(n){return this._bindingWhenSyntax.whenAnyAncestorIs(n)},n.prototype.whenNoAncestorIs=function(n){return this._bindingWhenSyntax.whenNoAncestorIs(n)},n.prototype.whenAnyAncestorNamed=function(n){return this._bindingWhenSyntax.whenAnyAncestorNamed(n)},n.prototype.whenAnyAncestorTagged=function(n,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(n,t)},n.prototype.whenNoAncestorNamed=function(n){return this._bindingWhenSyntax.whenNoAncestorNamed(n)},n.prototype.whenNoAncestorTagged=function(n,t){return this._bindingWhenSyntax.whenNoAncestorTagged(n,t)},n.prototype.whenAnyAncestorMatches=function(n){return this._bindingWhenSyntax.whenAnyAncestorMatches(n)},n.prototype.whenNoAncestorMatches=function(n){return this._bindingWhenSyntax.whenNoAncestorMatches(n)},n.prototype.onActivation=function(n){return this._bindingOnSyntax.onActivation(n)},n}();exports.BindingInWhenOnSyntax=BindingInWhenOnSyntax;

/***/ }),
/* 136 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var binding_in_when_on_syntax_1=__webpack_require__(135),binding_when_on_syntax_1=__webpack_require__(76),literal_types_1=__webpack_require__(14),ERROR_MSGS=__webpack_require__(8),BindingToSyntax=function(){function n(n){this._binding=n}return n.prototype.to=function(n){return this._binding.type=literal_types_1.BindingTypeEnum.Instance,this._binding.implementationType=n,new binding_in_when_on_syntax_1.BindingInWhenOnSyntax(this._binding)},n.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error(""+ERROR_MSGS.INVALID_TO_SELF_VALUE);var n=this._binding.serviceIdentifier;return this.to(n)},n.prototype.toConstantValue=function(n){return this._binding.type=literal_types_1.BindingTypeEnum.ConstantValue,this._binding.cache=n,this._binding.dynamicValue=null,this._binding.implementationType=null,new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding)},n.prototype.toDynamicValue=function(n){return this._binding.type=literal_types_1.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=n,this._binding.implementationType=null,new binding_in_when_on_syntax_1.BindingInWhenOnSyntax(this._binding)},n.prototype.toConstructor=function(n){return this._binding.type=literal_types_1.BindingTypeEnum.Constructor,this._binding.implementationType=n,new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding)},n.prototype.toFactory=function(n){return this._binding.type=literal_types_1.BindingTypeEnum.Factory,this._binding.factory=n,new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding)},n.prototype.toFunction=function(n){if("function"!=typeof n)throw new Error(ERROR_MSGS.INVALID_FUNCTION_BINDING);var i=this.toConstantValue(n);return this._binding.type=literal_types_1.BindingTypeEnum.Function,i},n.prototype.toAutoFactory=function(n){return this._binding.type=literal_types_1.BindingTypeEnum.Factory,this._binding.factory=function(i){return function(){return i.container.get(n)}},new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding)},n.prototype.toProvider=function(n){return this._binding.type=literal_types_1.BindingTypeEnum.Provider,this._binding.provider=n,new binding_when_on_syntax_1.BindingWhenOnSyntax(this._binding)},n}();exports.BindingToSyntax=BindingToSyntax;

/***/ }),
/* 137 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function template(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var o=[e[0]];return t.forEach(function(n,u){var a=Number.isInteger(n)?r[n]:r[t.indexOf(n)];o.push(a,e[u+1])}),o.join("")}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.template=template;

/***/ }),
/* 138 */,
/* 139 */,
/* 140 */,
/* 141 */,
/* 142 */,
/* 143 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function convertNodes(e,t,r){return e instanceof Array&&e.length>0?e.map(function(e){return toVNode(e,t,r)}):void 0}function toVNode(e,t,r){var n=void 0;return n="text"===e.type?(0,_utils.createTextVNode)(e.content,r):(0,_h2.default)(e.name,buildVNodeData(e,r),convertNodes(e.children,t,r)),t.push(n),n}function buildVNodeData(e,t){var r={};if(!e.attrs)return r;var n=Object.keys(e.attrs).reduce(function(r,n){if("style"!==n&&"class"!==n){var u=(0,_utils.unescapeEntities)(e.attrs[n],t);r?r[n]=u:r=_defineProperty({},n,u)}return r},null);n&&(r.attrs=n);var u=parseStyle(e);u&&(r.style=u);var a=parseClass(e);return a&&(r.class=a),r}function parseStyle(e){try{return e.attrs.style.split(";").reduce(function(e,t){var r=t.split(":"),n=(0,_utils.transformName)(r[0].trim());if(n){var u=r[1].replace("!important","").trim();e?e[n]=u:e=_defineProperty({},n,u)}return e},null)}catch(e){return null}}function parseClass(e){try{return e.attrs.class.split(" ").reduce(function(e,t){return t=t.trim(),t&&(e?e[t]=!0:e=_defineProperty({},t,!0)),e},null)}catch(e){return null}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=t.context||document;if(!e)return null;var n=[],u=convertNodes((0,_parse2.default)(e),n,r),a=void 0;return a=u?1===u.length?u[0]:u:toVNode({type:"text",content:e},n,r),t.hooks&&t.hooks.create&&n.forEach(function(e){t.hooks.create(e)}),a};var _parse=__webpack_require__(110),_parse2=_interopRequireDefault(_parse),_h=__webpack_require__(50),_h2=_interopRequireDefault(_h),_utils=__webpack_require__(144);

/***/ }),
/* 144 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function createTextVNode(e,t){return(0,_vnode2.default)(void 0,void 0,void 0,unescapeEntities(e,t))}function transformName(e){return e=e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()}),""+e.charAt(0).toLowerCase()+e.substring(1)}function unescapeEntities(e,t){return el||(el=t.createElement("div")),e.replace(entityRegex,function(e){return el.innerHTML=e,el.textContent})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createTextVNode=createTextVNode,exports.transformName=transformName,exports.unescapeEntities=unescapeEntities;var _vnode=__webpack_require__(51),_vnode2=_interopRequireDefault(_vnode),entityRegex=new RegExp("&[a-z0-9#]+;","gi"),el=null;

/***/ }),
/* 145 */
/***/ (function(module, exports, __webpack_require__) {

module.exports=__webpack_require__(143);

/***/ }),
/* 146 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function createElement(e){return document.createElement(e)}function createElementNS(e,t){return document.createElementNS(e,t)}function createTextNode(e){return document.createTextNode(e)}function createComment(e){return document.createComment(e)}function insertBefore(e,t,n){e.insertBefore(t,n)}function removeChild(e,t){e.removeChild(t)}function appendChild(e,t){e.appendChild(t)}function parentNode(e){return e.parentNode}function nextSibling(e){return e.nextSibling}function tagName(e){return e.tagName}function setTextContent(e,t){e.textContent=t}function getTextContent(e){return e.textContent}function isElement(e){return 1===e.nodeType}function isText(e){return 3===e.nodeType}function isComment(e){return 8===e.nodeType}Object.defineProperty(exports,"__esModule",{value:!0}),exports.htmlDomApi={createElement:createElement,createElementNS:createElementNS,createTextNode:createTextNode,createComment:createComment,insertBefore:insertBefore,removeChild:removeChild,appendChild:appendChild,parentNode:parentNode,nextSibling:nextSibling,tagName:tagName,setTextContent:setTextContent,getTextContent:getTextContent,isElement:isElement,isText:isText,isComment:isComment},exports.default=exports.htmlDomApi;

/***/ }),
/* 147 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function updateAttrs(t,e){var r,a=e.elm,o=t.data.attrs,s=e.data.attrs;if((o||s)&&o!==s){o=o||{},s=s||{};for(r in s){var u=s[r];o[r]!==u&&(!0===u?a.setAttribute(r,""):!1===u?a.removeAttribute(r):r.charCodeAt(0)!==xChar?a.setAttribute(r,u):r.charCodeAt(3)===colonChar?a.setAttributeNS(xmlNS,r,u):r.charCodeAt(5)===colonChar?a.setAttributeNS(xlinkNS,r,u):a.setAttribute(r,u))}for(r in o)r in s||a.removeAttribute(r)}}Object.defineProperty(exports,"__esModule",{value:!0});var xlinkNS="http://www.w3.org/1999/xlink",xmlNS="http://www.w3.org/XML/1998/namespace",colonChar=58,xChar=120;exports.attributesModule={create:updateAttrs,update:updateAttrs},exports.default=exports.attributesModule;

/***/ }),
/* 148 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function updateClass(s,e){var a,t,l=e.elm,d=s.data.class,o=e.data.class;if((d||o)&&d!==o){d=d||{},o=o||{};for(t in d)o[t]||l.classList.remove(t);for(t in o)(a=o[t])!==d[t]&&l.classList[a?"add":"remove"](t)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.classModule={create:updateClass,update:updateClass},exports.default=exports.classModule;

/***/ }),
/* 149 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function invokeHandler(e,t,n){if("function"==typeof e)e.call(t,n,t);else if("object"==typeof e)if("function"==typeof e[0])if(2===e.length)e[0].call(t,e[1],n,t);else{var r=e.slice(1);r.push(n),r.push(t),e[0].apply(t,r)}else for(var i=0;i<e.length;i++)invokeHandler(e[i])}function handleEvent(e,t){var n=e.type,r=t.data.on;r&&r[n]&&invokeHandler(r[n],t,e)}function createListener(){return function e(t){handleEvent(t,e.vnode)}}function updateEventListeners(e,t){var n,r=e.data.on,i=e.listener,s=e.elm,o=t&&t.data.on,a=t&&t.elm;if(r!==o){if(r&&i)if(o)for(n in r)o[n]||s.removeEventListener(n,i,!1);else for(n in r)s.removeEventListener(n,i,!1);if(o){var l=t.listener=e.listener||createListener();if(l.vnode=t,r)for(n in o)r[n]||a.addEventListener(n,l,!1);else for(n in o)a.addEventListener(n,l,!1)}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.eventListenersModule={create:updateEventListeners,update:updateEventListeners,destroy:updateEventListeners},exports.default=exports.eventListenersModule;

/***/ }),
/* 150 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function updateProps(e,p){var o,r,t=p.elm,s=e.data.props,a=p.data.props;if((s||a)&&s!==a){s=s||{},a=a||{};for(o in s)a[o]||delete t[o];for(o in a)r=a[o],s[o]===r||"value"===o&&t[o]===r||(t[o]=r)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.propsModule={create:updateProps,update:updateProps},exports.default=exports.propsModule;

/***/ }),
/* 151 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function setNextFrame(e,t,r){nextFrame(function(){e[t]=r})}function updateStyle(e,t){var r,a,o=t.elm,l=e.data.style,n=t.data.style;if((l||n)&&l!==n){l=l||{},n=n||{};var y="delayed"in l;for(a in l)n[a]||("-"===a[0]&&"-"===a[1]?o.style.removeProperty(a):o.style[a]="");for(a in n)if(r=n[a],"delayed"===a&&n.delayed)for(var d in n.delayed)r=n.delayed[d],y&&r===l.delayed[d]||setNextFrame(o.style,d,r);else"remove"!==a&&r!==l[a]&&("-"===a[0]&&"-"===a[1]?o.style.setProperty(a,r):o.style[a]=r)}}function applyDestroyStyle(e){var t,r,a=e.elm,o=e.data.style;if(o&&(t=o.destroy))for(r in t)a.style[r]=t[r]}function applyRemoveStyle(e,t){var r=e.data.style;if(!r||!r.remove)return void t();var a,o,l=e.elm,n=0,y=r.remove,d=0,s=[];for(a in y)s.push(a),l.style[a]=y[a];o=getComputedStyle(l);for(var i=o["transition-property"].split(", ");n<i.length;++n)-1!==s.indexOf(i[n])&&d++;l.addEventListener("transitionend",function(e){e.target===l&&--d,0===d&&t()})}Object.defineProperty(exports,"__esModule",{value:!0});var raf="undefined"!=typeof window&&window.requestAnimationFrame||setTimeout,nextFrame=function(e){raf(function(){raf(e)})};exports.styleModule={create:updateStyle,update:updateStyle,destroy:applyDestroyStyle,remove:applyRemoveStyle},exports.default=exports.styleModule;

/***/ }),
/* 152 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function copyToThunk(t,a){a.elm=t.elm,t.data.fn=a.data.fn,t.data.args=a.data.args,a.data=t.data,a.children=t.children,a.text=t.text,a.elm=t.elm}function init(t){var a=t.data;copyToThunk(a.fn.apply(void 0,a.args),t)}function prepatch(t,a){var n,e=t.data,o=a.data,r=e.args,i=o.args;if(e.fn!==o.fn||r.length!==i.length)return void copyToThunk(o.fn.apply(void 0,i),a);for(n=0;n<i.length;++n)if(r[n]!==i[n])return void copyToThunk(o.fn.apply(void 0,i),a);copyToThunk(t,a)}Object.defineProperty(exports,"__esModule",{value:!0});var h_1=__webpack_require__(50);exports.thunk=function(t,a,n,e){return void 0===e&&(e=n,n=a,a=void 0),h_1.h(t,{key:a,hook:{init:init,prepatch:prepatch},fn:n,args:e})},exports.default=exports.thunk;

/***/ }),
/* 153 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function overrideCommandStackOptions(e,r){var t=e.get(types_1.TYPES.CommandStackOptions);for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o]);return t}Object.defineProperty(exports,"__esModule",{value:!0});var types_1=__webpack_require__(1);exports.overrideCommandStackOptions=overrideCommandStackOptions;

/***/ }),
/* 154 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),smodel_storage_1=__webpack_require__(54),types_1=__webpack_require__(1),initialize_canvas_1=__webpack_require__(41),logging_1=__webpack_require__(71),action_dispatcher_1=__webpack_require__(52),action_handler_1=__webpack_require__(23),command_stack_1=__webpack_require__(81),smodel_factory_1=__webpack_require__(10),animation_frame_syncer_1=__webpack_require__(30),viewer_1=__webpack_require__(86),viewer_options_1=__webpack_require__(85),mouse_tool_1=__webpack_require__(15),key_tool_1=__webpack_require__(20),vnode_decorators_1=__webpack_require__(87),view_1=__webpack_require__(83),viewer_cache_1=__webpack_require__(84),dom_helper_1=__webpack_require__(55),id_decorator_1=__webpack_require__(155),command_1=__webpack_require__(5),defaultContainerModule=new inversify_1.ContainerModule(function(e){e(types_1.TYPES.ILogger).to(logging_1.NullLogger).inSingletonScope(),e(types_1.TYPES.LogLevel).toConstantValue(logging_1.LogLevel.warn),e(types_1.TYPES.SModelRegistry).to(smodel_factory_1.SModelRegistry).inSingletonScope(),e(types_1.TYPES.ActionHandlerRegistry).to(action_handler_1.ActionHandlerRegistry).inSingletonScope(),e(types_1.TYPES.ViewRegistry).to(view_1.ViewRegistry).inSingletonScope(),e(types_1.TYPES.IModelFactory).to(smodel_factory_1.SModelFactory).inSingletonScope(),e(types_1.TYPES.IActionDispatcher).to(action_dispatcher_1.ActionDispatcher).inSingletonScope(),e(types_1.TYPES.IActionDispatcherProvider).toProvider(function(e){return function(){return new Promise(function(o){o(e.container.get(types_1.TYPES.IActionDispatcher))})}}),e(types_1.TYPES.IActionHandlerInitializer).to(command_1.CommandActionHandlerInitializer),e(types_1.TYPES.ICommandStack).to(command_stack_1.CommandStack).inSingletonScope(),e(types_1.TYPES.ICommandStackProvider).toProvider(function(e){return function(){return new Promise(function(o){o(e.container.get(types_1.TYPES.ICommandStack))})}}),e(types_1.TYPES.CommandStackOptions).toConstantValue({defaultDuration:250,undoHistoryLimit:50}),e(viewer_1.Viewer).toSelf().inSingletonScope(),e(types_1.TYPES.IViewer).toDynamicValue(function(e){return e.container.get(viewer_1.Viewer)}).inSingletonScope().whenTargetNamed("delegate"),e(viewer_cache_1.ViewerCache).toSelf().inSingletonScope(),e(types_1.TYPES.IViewer).toDynamicValue(function(e){return e.container.get(viewer_cache_1.ViewerCache)}).inSingletonScope().whenTargetIsDefault(),e(types_1.TYPES.IViewerProvider).toProvider(function(e){return function(){return new Promise(function(o){o(e.container.get(types_1.TYPES.IViewer))})}}),e(types_1.TYPES.ViewerOptions).toConstantValue(viewer_options_1.defaultViewerOptions()),e(types_1.TYPES.DOMHelper).to(dom_helper_1.DOMHelper).inSingletonScope(),e(types_1.TYPES.ModelRendererFactory).toFactory(function(e){return function(o){var t=e.container.get(types_1.TYPES.ViewRegistry);return new viewer_1.ModelRenderer(t,o)}}),e(id_decorator_1.IdDecorator).toSelf().inSingletonScope(),e(types_1.TYPES.IVNodeDecorator).toDynamicValue(function(e){return e.container.get(id_decorator_1.IdDecorator)}).inSingletonScope(),e(mouse_tool_1.MouseTool).toSelf().inSingletonScope(),e(types_1.TYPES.IVNodeDecorator).toDynamicValue(function(e){return e.container.get(mouse_tool_1.MouseTool)}).inSingletonScope(),e(key_tool_1.KeyTool).toSelf().inSingletonScope(),e(types_1.TYPES.IVNodeDecorator).toDynamicValue(function(e){return e.container.get(key_tool_1.KeyTool)}).inSingletonScope(),e(vnode_decorators_1.FocusFixDecorator).toSelf().inSingletonScope(),e(types_1.TYPES.IVNodeDecorator).toDynamicValue(function(e){return e.container.get(vnode_decorators_1.FocusFixDecorator)}).inSingletonScope(),e(types_1.TYPES.PopupVNodeDecorator).toDynamicValue(function(e){return e.container.get(id_decorator_1.IdDecorator)}).inSingletonScope(),e(mouse_tool_1.PopupMouseTool).toSelf().inSingletonScope(),e(types_1.TYPES.PopupVNodeDecorator).toDynamicValue(function(e){return e.container.get(mouse_tool_1.PopupMouseTool)}).inSingletonScope(),e(types_1.TYPES.HiddenVNodeDecorator).toDynamicValue(function(e){return e.container.get(id_decorator_1.IdDecorator)}).inSingletonScope(),e(types_1.TYPES.AnimationFrameSyncer).to(animation_frame_syncer_1.AnimationFrameSyncer).inSingletonScope(),e(types_1.TYPES.ICommand).toConstructor(initialize_canvas_1.InitializeCanvasBoundsCommand),e(initialize_canvas_1.CanvasBoundsInitializer).toSelf().inSingletonScope(),e(types_1.TYPES.IVNodeDecorator).toDynamicValue(function(e){return e.container.get(initialize_canvas_1.CanvasBoundsInitializer)}).inSingletonScope(),e(types_1.TYPES.SModelStorage).to(smodel_storage_1.SModelStorage).inSingletonScope()});exports.default=defaultContainerModule;

/***/ }),
/* 155 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __decorate=this&&this.__decorate||function(e,t,r,i){var o,n=arguments.length,a=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,i);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(n<3?o(a):n>3?o(t,r,a):o(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param=this&&this.__param||function(e,t){return function(r,i){t(r,i,e)}};Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),types_1=__webpack_require__(1),dom_helper_1=__webpack_require__(55),vnode_utils_1=__webpack_require__(11),IdDecorator=function(){function e(e,t){this.logger=e,this.domHelper=t}return e.prototype.decorate=function(e,t){var r=vnode_utils_1.getAttrs(e);return void 0!==r.id&&this.logger.warn(e,"Overriding id of vnode ("+r.id+"). Make sure not to set it manually in view."),r.id=this.domHelper.createUniqueDOMElementId(t),e.key||(e.key=t.id),e},e.prototype.postUpdate=function(){},e=__decorate([inversify_1.injectable(),__param(0,inversify_1.inject(types_1.TYPES.ILogger)),__param(1,inversify_1.inject(types_1.TYPES.DOMHelper)),__metadata("design:paramtypes",[Object,dom_helper_1.DOMHelper])],e)}();exports.IdDecorator=IdDecorator;

/***/ }),
/* 156 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),types_1=__webpack_require__(1),bounds_manipulation_1=__webpack_require__(32),hidden_bounds_updater_1=__webpack_require__(157),layout_1=__webpack_require__(57),boundsModule=new inversify_1.ContainerModule(function(e){e(types_1.TYPES.ICommand).toConstructor(bounds_manipulation_1.SetBoundsCommand),e(types_1.TYPES.ICommand).toConstructor(bounds_manipulation_1.RequestBoundsCommand),e(types_1.TYPES.HiddenVNodeDecorator).to(hidden_bounds_updater_1.HiddenBoundsUpdater).inSingletonScope(),e(types_1.TYPES.Layouter).to(layout_1.Layouter).inSingletonScope(),e(types_1.TYPES.LayoutRegistry).to(layout_1.LayoutRegistry).inSingletonScope()});exports.default=boundsModule;

/***/ }),
/* 157 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __decorate=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,o,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(a<3?i(s):a>3?i(t,o,s):i(t,o))||s);return a>3&&s&&Object.defineProperty(t,o,s),s},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param=this&&this.__param||function(e,t){return function(o,n){t(o,n,e)}};Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),types_1=__webpack_require__(1),geometry_1=__webpack_require__(3),smodel_1=__webpack_require__(2),bounds_manipulation_1=__webpack_require__(32),model_1=__webpack_require__(7),layout_1=__webpack_require__(57),model_2=__webpack_require__(44),BoundsData=function(){function e(){}return e}();exports.BoundsData=BoundsData;var HiddenBoundsUpdater=function(){function e(e,t){this.actionDispatcher=e,this.layouter=t,this.element2boundsData=new Map}return e.prototype.decorate=function(e,t){return(model_1.isSizeable(t)||model_1.isLayoutContainer(t))&&this.element2boundsData.set(t,{vnode:e,bounds:t.bounds,boundsChanged:!1,alignmentChanged:!1}),t instanceof smodel_1.SModelRoot&&(this.root=t),e},e.prototype.postUpdate=function(){if(void 0===this.root||!model_2.isExportable(this.root)||!this.root.export){this.getBoundsFromDOM(),this.layouter.layout(this.element2boundsData);var e=[],t=[];this.element2boundsData.forEach(function(o,n){o.boundsChanged&&void 0!==o.bounds&&e.push({elementId:n.id,newBounds:o.bounds}),o.alignmentChanged&&void 0!==o.alignment&&t.push({elementId:n.id,newAlignment:o.alignment})});var o=void 0!==this.root?this.root.revision:void 0;this.actionDispatcher.dispatch(new bounds_manipulation_1.ComputedBoundsAction(e,o,t)),this.element2boundsData.clear()}},e.prototype.getBoundsFromDOM=function(){var e=this;this.element2boundsData.forEach(function(t,o){if(t.bounds&&model_1.isSizeable(o)){var n=t.vnode;if(n&&n.elm){var i=e.getBounds(n.elm,o);!model_1.isAlignable(o)||geometry_1.almostEquals(i.x,0)&&geometry_1.almostEquals(i.y,0)||(t.alignment={x:-i.x,y:-i.y},t.alignmentChanged=!0);var a={x:o.bounds.x,y:o.bounds.y,width:i.width,height:i.height};geometry_1.almostEquals(a.x,o.bounds.x)&&geometry_1.almostEquals(a.y,o.bounds.y)&&geometry_1.almostEquals(a.width,o.bounds.width)&&geometry_1.almostEquals(a.height,o.bounds.height)||(t.bounds=a,t.boundsChanged=!0)}}})},e.prototype.getBounds=function(e,t){var o=e.getBBox();return{x:o.x,y:o.y,width:o.width,height:o.height}},e=__decorate([inversify_1.injectable(),__param(0,inversify_1.inject(types_1.TYPES.IActionDispatcher)),__param(1,inversify_1.inject(types_1.TYPES.Layouter)),__metadata("design:paramtypes",[Object,layout_1.Layouter])],e)}();exports.HiddenBoundsUpdater=HiddenBoundsUpdater;

/***/ }),
/* 158 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();Object.defineProperty(exports,"__esModule",{value:!0});var animation_1=__webpack_require__(19),ResizeAnimation=function(t){function e(e,i,n,o){void 0===o&&(o=!1);var r=t.call(this,n)||this;return r.model=e,r.elementResizes=i,r.reverse=o,r}return __extends(e,t),e.prototype.tween=function(t){var e=this;return this.elementResizes.forEach(function(i){var n=i.element,o=e.reverse?{width:(1-t)*i.toDimension.width+t*i.fromDimension.width,height:(1-t)*i.toDimension.height+t*i.fromDimension.height}:{width:(1-t)*i.fromDimension.width+t*i.toDimension.width,height:(1-t)*i.fromDimension.height+t*i.toDimension.height};n.bounds={x:n.bounds.x,y:n.bounds.y,width:o.width,height:o.height}}),this.model},e}(animation_1.Animation);exports.ResizeAnimation=ResizeAnimation;

/***/ }),
/* 159 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),button_handler_1=__webpack_require__(58),buttonModule=new inversify_1.ContainerModule(function(e){e(button_handler_1.ButtonHandlerRegistry).toSelf().inSingletonScope()});exports.default=buttonModule;

/***/ }),
/* 160 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),types_1=__webpack_require__(1),edit_routing_1=__webpack_require__(42),edgeEditModule=new inversify_1.ContainerModule(function(e){e(types_1.TYPES.ICommand).toConstructor(edit_routing_1.SwitchEditModeCommand),e(types_1.TYPES.ICommand).toConstructor(edit_routing_1.MoveRoutingHandleCommand)});exports.default=edgeEditModule;

/***/ }),
/* 161 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),types_1=__webpack_require__(1),expand_1=__webpack_require__(43),expandModule=new inversify_1.ContainerModule(function(e){e(types_1.TYPES.IButtonHandler).toConstructor(expand_1.ExpandButtonHandler)});exports.default=expandModule;

/***/ }),
/* 162 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var snabbdom=__webpack_require__(18),model_1=__webpack_require__(60),smodel_utils_1=__webpack_require__(6),JSX={createElement:snabbdom.svg},ExpandButtonView=function(){function e(){}return e.prototype.render=function(e,t){var n=smodel_utils_1.findParentByFeature(e,model_1.isExpandable),r=void 0!==n&&n.expanded?"M 1,5 L 8,12 L 15,5 Z":"M 1,8 L 8,15 L 8,1 Z";return JSX.createElement("g",{"class-sprotty-button":"{true}","class-enabled":"{button.enabled}"},JSX.createElement("rect",{x:0,y:0,width:16,height:16,opacity:0}),JSX.createElement("path",{d:r}))},e}();exports.ExpandButtonView=ExpandButtonView;

/***/ }),
/* 163 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),types_1=__webpack_require__(1),export_1=__webpack_require__(91),svg_exporter_1=__webpack_require__(24),exportSvgModule=new inversify_1.ContainerModule(function(e){e(types_1.TYPES.KeyListener).to(export_1.ExportSvgKeyListener).inSingletonScope(),e(types_1.TYPES.HiddenVNodeDecorator).to(export_1.ExportSvgDecorator).inSingletonScope(),e(types_1.TYPES.ICommand).toConstructor(export_1.ExportSvgCommand),e(types_1.TYPES.SvgExporter).to(svg_exporter_1.SvgExporter).inSingletonScope()});exports.default=exportSvgModule;

/***/ }),
/* 164 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),types_1=__webpack_require__(1),fade_1=__webpack_require__(61),fadeModule=new inversify_1.ContainerModule(function(e){e(types_1.TYPES.IVNodeDecorator).to(fade_1.ElementFader).inSingletonScope()});exports.default=fadeModule;

/***/ }),
/* 165 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),types_1=__webpack_require__(1),hover_1=__webpack_require__(34),popup_position_updater_1=__webpack_require__(167),initializer_1=__webpack_require__(166),hoverModule=new inversify_1.ContainerModule(function(e){e(types_1.TYPES.PopupVNodeDecorator).to(popup_position_updater_1.PopupPositionUpdater).inSingletonScope(),e(types_1.TYPES.IActionHandlerInitializer).to(initializer_1.PopupActionHandlerInitializer),e(types_1.TYPES.ICommand).toConstructor(hover_1.HoverFeedbackCommand),e(types_1.TYPES.ICommand).toConstructor(hover_1.SetPopupModelCommand),e(types_1.TYPES.MouseListener).to(hover_1.HoverMouseListener),e(types_1.TYPES.PopupMouseListener).to(hover_1.PopupHoverMouseListener),e(types_1.TYPES.KeyListener).to(hover_1.HoverKeyListener),e(types_1.TYPES.HoverState).toConstantValue({mouseOverTimer:void 0,mouseOutTimer:void 0,popupOpen:!1,previousPopupElement:void 0})});exports.default=hoverModule;

/***/ }),
/* 166 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __decorate=this&&this.__decorate||function(e,t,r,o){var i,n=arguments.length,p=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(p=(n<3?i(p):n>3?i(t,r,p):i(t,r))||p);return n>3&&p&&Object.defineProperty(t,r,p),p};Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),hover_1=__webpack_require__(34),smodel_factory_1=__webpack_require__(10),center_fit_1=__webpack_require__(66),viewport_1=__webpack_require__(25),move_1=__webpack_require__(45),ClosePopupActionHandler=function(){function e(){this.popupOpen=!1}return e.prototype.handle=function(e){if(e.kind===hover_1.SetPopupModelCommand.KIND)this.popupOpen=e.newRoot.type!==smodel_factory_1.EMPTY_ROOT.type;else if(this.popupOpen)return new hover_1.SetPopupModelAction({id:smodel_factory_1.EMPTY_ROOT.id,type:smodel_factory_1.EMPTY_ROOT.type})},e}(),PopupActionHandlerInitializer=function(){function e(){}return e.prototype.initialize=function(e){var t=new ClosePopupActionHandler;e.register(center_fit_1.FitToScreenCommand.KIND,t),e.register(center_fit_1.CenterCommand.KIND,t),e.register(viewport_1.ViewportCommand.KIND,t),e.register(hover_1.SetPopupModelCommand.KIND,t),e.register(move_1.MoveCommand.KIND,t)},e=__decorate([inversify_1.injectable()],e)}();exports.PopupActionHandlerInitializer=PopupActionHandlerInitializer;

/***/ }),
/* 167 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __decorate=this&&this.__decorate||function(e,t,i,n){var o,r=arguments.length,p=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(p=(r<3?o(p):r>3?o(t,i,p):o(t,i))||p);return r>3&&p&&Object.defineProperty(t,i,p),p},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param=this&&this.__param||function(e,t){return function(i,n){t(i,n,e)}};Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),types_1=__webpack_require__(1),PopupPositionUpdater=function(){function e(e){this.options=e}return e.prototype.decorate=function(e,t){return e},e.prototype.postUpdate=function(){var e=document.getElementById(this.options.popupDiv);if(null!==e&&"undefined"!=typeof window){var t=e.getBoundingClientRect();window.innerHeight<t.height+t.top&&(e.style.top=window.scrollY+window.innerHeight-t.height-5+"px"),window.innerWidth<t.left+t.width&&(e.style.left=window.scrollX+window.innerWidth-t.width-5+"px"),t.left<0&&(e.style.left="0px"),t.top<0&&(e.style.top="0px")}},e=__decorate([inversify_1.injectable(),__param(0,inversify_1.inject(types_1.TYPES.ViewerOptions)),__metadata("design:paramtypes",[Object])],e)}();exports.PopupPositionUpdater=PopupPositionUpdater;

/***/ }),
/* 168 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),types_1=__webpack_require__(1),move_1=__webpack_require__(45),moveModule=new inversify_1.ContainerModule(function(e){e(types_1.TYPES.MouseListener).to(move_1.MoveMouseListener),e(types_1.TYPES.ICommand).toConstructor(move_1.MoveCommand),e(types_1.TYPES.IVNodeDecorator).to(move_1.LocationDecorator),e(types_1.TYPES.HiddenVNodeDecorator).to(move_1.LocationDecorator)});exports.default=moveModule;

/***/ }),
/* 169 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),types_1=__webpack_require__(1),open_1=__webpack_require__(62),openModule=new inversify_1.ContainerModule(function(e){e(types_1.TYPES.MouseListener).to(open_1.OpenMouseListener)});exports.default=openModule;

/***/ }),
/* 170 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),types_1=__webpack_require__(1),select_1=__webpack_require__(93),selectModule=new inversify_1.ContainerModule(function(e){e(types_1.TYPES.ICommand).toConstructor(select_1.SelectCommand),e(types_1.TYPES.ICommand).toConstructor(select_1.SelectAllCommand),e(types_1.TYPES.KeyListener).to(select_1.SelectKeyboardListener),e(types_1.TYPES.MouseListener).to(select_1.SelectMouseListener)});exports.default=selectModule;

/***/ }),
/* 171 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),types_1=__webpack_require__(1),undo_redo_1=__webpack_require__(63),undoRedoModule=new inversify_1.ContainerModule(function(e){e(types_1.TYPES.KeyListener).to(undo_redo_1.UndoRedoKeyListener)});exports.default=undoRedoModule;

/***/ }),
/* 172 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),types_1=__webpack_require__(1),center_fit_1=__webpack_require__(66),viewport_1=__webpack_require__(25),scroll_1=__webpack_require__(94),zoom_1=__webpack_require__(95),viewportModule=new inversify_1.ContainerModule(function(e){e(types_1.TYPES.ICommand).toConstructor(center_fit_1.CenterCommand),e(types_1.TYPES.ICommand).toConstructor(center_fit_1.FitToScreenCommand),e(types_1.TYPES.ICommand).toConstructor(viewport_1.ViewportCommand),e(types_1.TYPES.KeyListener).to(center_fit_1.CenterKeyboardListener),e(types_1.TYPES.MouseListener).to(scroll_1.ScrollMouseListener),e(types_1.TYPES.MouseListener).to(zoom_1.ZoomMouseListener)});exports.default=viewportModule;

/***/ }),
/* 173 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __decorate=this&&this.__decorate||function(e,r,t,n){var o,i=arguments.length,a=i<3?r:null===n?n=Object.getOwnPropertyDescriptor(r,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,r,t,n);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(a=(i<3?o(a):i>3?o(r,t,a):o(r,t))||a);return i>3&&a&&Object.defineProperty(r,t,a),a};Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),geometry_1=__webpack_require__(3),LinearEdgeRouter=function(){function e(){}return e.prototype.route=function(e,r){void 0===r&&(r={minimalPointDistance:2});var t=e.source,n=e.target;if(void 0===t||void 0===n)return[];var o,i,a=void 0!==e.routingPoints?e.routingPoints.length:0;if(a>=1){var c=e.routingPoints[0];o=t.getTranslatedAnchor(c,e.parent,e,e.sourceAnchorCorrection);var s=e.routingPoints[a-1];i=n.getTranslatedAnchor(s,e.parent,e,e.targetAnchorCorrection)}else{var u=geometry_1.center(n.bounds);o=t.getTranslatedAnchor(u,n.parent,e,e.sourceAnchorCorrection);var g=geometry_1.center(t.bounds);i=n.getTranslatedAnchor(g,t.parent,e,e.targetAnchorCorrection)}var d=[];d.push({kind:"source",x:o.x,y:o.y});for(var l=0;l<a;l++){var v=e.routingPoints[l];(l>0&&l<a-1||0===l&&geometry_1.maxDistance(o,v)>=r.minimalPointDistance+(e.sourceAnchorCorrection||0)||l===a-1&&geometry_1.maxDistance(v,i)>=r.minimalPointDistance+(e.targetAnchorCorrection||0))&&d.push({kind:"linear",x:v.x,y:v.y,pointIndex:l})}return d.push({kind:"target",x:i.x,y:i.y}),d},e=__decorate([inversify_1.injectable()],e)}();exports.LinearEdgeRouter=LinearEdgeRouter;

/***/ }),
/* 174 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),__decorate=this&&this.__decorate||function(e,t,o,r){var i,s=arguments.length,n=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(n=(s<3?i(n):s>3?i(t,o,n):i(t,o))||n);return s>3&&n&&Object.defineProperty(t,o,n),n};Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),smodel_factory_1=__webpack_require__(10),smodel_1=__webpack_require__(2),smodel_utils_1=__webpack_require__(6),sgraph_1=__webpack_require__(46),model_1=__webpack_require__(59),SGraphFactory=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.createElement=function(e,t){var o;if(this.registry.hasKey(e.type)){var r=this.registry.get(e.type,void 0);if(!(r instanceof smodel_1.SChildElement))throw new Error("Element with type "+e.type+" was expected to be an SChildElement.");o=r}else o=this.isNodeSchema(e)?new sgraph_1.SNode:this.isPortSchema(e)?new sgraph_1.SPort:this.isEdgeSchema(e)?new sgraph_1.SEdge:this.isLabelSchema(e)?new sgraph_1.SLabel:this.isCompartmentSchema(e)?new sgraph_1.SCompartment:this.isButtonSchema(e)?new model_1.SButton:new smodel_1.SChildElement;return this.initializeChild(o,e,t)},t.prototype.createRoot=function(e){var t;if(this.registry.hasKey(e.type)){var o=this.registry.get(e.type,void 0);if(!(o instanceof smodel_1.SModelRoot))throw new Error("Element with type "+e.type+" was expected to be an SModelRoot.");t=o}else t=this.isGraphSchema(e)?new sgraph_1.SGraph:new smodel_1.SModelRoot;return this.initializeRoot(t,e)},t.prototype.isGraphSchema=function(e){return"graph"===smodel_utils_1.getBasicType(e)},t.prototype.isNodeSchema=function(e){return"node"===smodel_utils_1.getBasicType(e)},t.prototype.isPortSchema=function(e){return"port"===smodel_utils_1.getBasicType(e)},t.prototype.isEdgeSchema=function(e){return"edge"===smodel_utils_1.getBasicType(e)},t.prototype.isLabelSchema=function(e){return"label"===smodel_utils_1.getBasicType(e)},t.prototype.isCompartmentSchema=function(e){return"comp"===smodel_utils_1.getBasicType(e)},t.prototype.isButtonSchema=function(e){return"button"===smodel_utils_1.getBasicType(e)},t=__decorate([inversify_1.injectable()],t)}(smodel_factory_1.SModelFactory);exports.SGraphFactory=SGraphFactory;

/***/ }),
/* 175 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var snabbdom=__webpack_require__(18),geometry_1=__webpack_require__(3),vnode_utils_1=__webpack_require__(11),smodel_utils_1=__webpack_require__(6),model_1=__webpack_require__(21),JSX={createElement:snabbdom.svg},SGraphView=function(){function e(){}return e.prototype.render=function(e,t){var n="scale("+e.zoom+") translate("+-e.scroll.x+","+-e.scroll.y+")";return JSX.createElement("svg",{"class-sprotty-graph":!0},JSX.createElement("g",{transform:n},t.renderChildren(e)))},e}();exports.SGraphView=SGraphView;var PolylineEdgeView=function(){function e(){}return e.prototype.render=function(e,t){var n=e.route();return 0===n.length?this.renderDanglingEdge("Cannot compute route",e,t):JSX.createElement("g",{"class-sprotty-edge":!0,"class-mouseover":e.hoverFeedback},this.renderLine(e,n,t),this.renderAdditionals(e,n,t),t.renderChildren(e,{route:n}))},e.prototype.renderLine=function(e,t,n){for(var r=t[0],o="M "+r.x+","+r.y,i=1;i<t.length;i++){var s=t[i];o+=" L "+s.x+","+s.y}return JSX.createElement("path",{d:o})},e.prototype.renderAdditionals=function(e,t,n){return[]},e.prototype.renderDanglingEdge=function(e,t,n){return JSX.createElement("text",{"class-sprotty-edge-dangling":!0,title:e},"?")},e}();exports.PolylineEdgeView=PolylineEdgeView;var SRoutingHandleView=function(){function e(){this.minimalPointDistance=10}return e.prototype.render=function(e,t,n){if(n&&n.route){var r=this.getPosition(e,n.route);if(void 0!==r){var o=JSX.createElement("circle",{"class-sprotty-routing-handle":!0,"class-selected":e.selected,"class-mouseover":e.hoverFeedback,cx:r.x,cy:r.y});return vnode_utils_1.setAttr(o,"data-kind",e.kind),o}}return JSX.createElement("g",null)},e.prototype.getPosition=function(e,t){return"line"===e.kind?this.getLinePosition(e,t):this.getJunctionPosition(e,t)},e.prototype.getJunctionPosition=function(e,t){return t.find(function(t){return t.pointIndex===e.pointIndex})},e.prototype.getLinePosition=function(e,t){var n=e.parent;if(model_1.isRoutable(n)){for(var r=function(e){return void 0!==e.pointIndex?e.pointIndex:"target"===e.kind?n.routingPoints.length:-1},o=void 0,i=void 0,s=0,a=t;s<a.length;s++){var u=a[s],l=r(u);l<=e.pointIndex&&(void 0===o||l>r(o))&&(o=u),l>e.pointIndex&&(void 0===i||l<r(i))&&(i=u)}if(void 0!==o&&void 0!==i){if(r(o)!==e.pointIndex&&e.pointIndex>=0){var d=n.routingPoints[e.pointIndex];if(geometry_1.maxDistance(d,o)>=geometry_1.maxDistance(d,i))return}if(r(i)!==e.pointIndex+1&&e.pointIndex+1<n.routingPoints.length){var d=n.routingPoints[e.pointIndex+1];if(geometry_1.maxDistance(d,o)<geometry_1.maxDistance(d,i))return}if(geometry_1.maxDistance(o,i)>=this.minimalPointDistance)return geometry_1.centerOfLine(o,i)}}},e}();exports.SRoutingHandleView=SRoutingHandleView;var SLabelView=function(){function e(){}return e.prototype.render=function(e,t){var n=JSX.createElement("text",{"class-sprotty-label":!0},e.text),r=smodel_utils_1.getSubType(e);return r&&vnode_utils_1.setAttr(n,"class",r),n},e}();exports.SLabelView=SLabelView;var SCompartmentView=function(){function e(){}return e.prototype.render=function(e,t){var n="translate("+e.bounds.x+", "+e.bounds.y+")",r=JSX.createElement("g",{transform:n,"class-sprotty-comp":"{true}"},t.renderChildren(e)),o=smodel_utils_1.getSubType(e);return o&&vnode_utils_1.setAttr(r,"class",o),r},e}();exports.SCompartmentView=SCompartmentView;

/***/ }),
/* 176 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var strings_1=__webpack_require__(145),PreRenderedView=function(){function e(){}return e.prototype.render=function(e,t){var r=strings_1.default(e.code);return this.correctNamespace(r),r},e.prototype.correctNamespace=function(e){"svg"!==e.sel&&"g"!==e.sel||this.setNamespace(e,"http://www.w3.org/2000/svg")},e.prototype.setNamespace=function(e,t){void 0===e.data&&(e.data={}),e.data.ns=t;var r=e.children;if(void 0!==r)for(var s=0;s<r.length;s++){var a=r[s];"string"!=typeof a&&this.setNamespace(a,t)}},e}();exports.PreRenderedView=PreRenderedView;

/***/ }),
/* 177 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var snabbdom=__webpack_require__(18),vnode_utils_1=__webpack_require__(11),JSX={createElement:snabbdom.html},HtmlRootView=function(){function e(){}return e.prototype.render=function(e,t){for(var r=JSX.createElement("div",null,t.renderChildren(e)),n=0,o=e.classes;n<o.length;n++){var s=o[n];vnode_utils_1.setClass(r,s,!0)}return r},e}();exports.HtmlRootView=HtmlRootView;

/***/ }),
/* 178 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();Object.defineProperty(exports,"__esModule",{value:!0});var smodel_1=__webpack_require__(2),geometry_1=__webpack_require__(3),anchors_1=__webpack_require__(98),model_1=__webpack_require__(7),model_2=__webpack_require__(22),model_3=__webpack_require__(12),sgraph_1=__webpack_require__(46),CircularNode=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.strokeWidth=0,t}return __extends(t,e),Object.defineProperty(t.prototype,"radius",{get:function(){var e=Math.min(this.size.width,this.size.height);return e>0?e/2:0},enumerable:!0,configurable:!0}),t.prototype.getAnchor=function(e,t){void 0===t&&(t=0);var r=.5*this.strokeWidth;return anchors_1.computeCircleAnchor(this.position,this.radius,e,t+r)},t}(sgraph_1.SNode);exports.CircularNode=CircularNode;var RectangularNode=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.strokeWidth=0,t}return __extends(t,e),t.prototype.getAnchor=function(e,t){void 0===t&&(t=0);var r=.5*this.strokeWidth;return anchors_1.computeRectangleAnchor(this.bounds,e,t+r)},t}(sgraph_1.SNode);exports.RectangularNode=RectangularNode;var CircularPort=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.strokeWidth=0,t}return __extends(t,e),Object.defineProperty(t.prototype,"radius",{get:function(){var e=Math.min(this.size.width,this.size.height);return e>0?e/2:0},enumerable:!0,configurable:!0}),t.prototype.getAnchor=function(e,t){void 0===t&&(t=0);var r=.5*this.strokeWidth;return anchors_1.computeCircleAnchor(this.position,this.radius,e,t+r)},t}(sgraph_1.SPort);exports.CircularPort=CircularPort;var RectangularPort=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.strokeWidth=0,t}return __extends(t,e),t.prototype.getAnchor=function(e,t){void 0===t&&(t=0);var r=.5*this.strokeWidth;return anchors_1.computeRectangleAnchor(this.bounds,e,t+r)},t}(sgraph_1.SPort);exports.RectangularPort=RectangularPort;var HtmlRoot=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.classes=[],t}return __extends(t,e),t}(smodel_1.SModelRoot);exports.HtmlRoot=HtmlRoot;var PreRenderedElement=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(smodel_1.SChildElement);exports.PreRenderedElement=PreRenderedElement;var ShapedPreRenderedElement=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.position=geometry_1.ORIGIN_POINT,t.size=geometry_1.EMPTY_DIMENSION,t.selected=!1,t.alignment=geometry_1.ORIGIN_POINT,t}return __extends(t,e),Object.defineProperty(t.prototype,"bounds",{get:function(){return{x:this.position.x,y:this.position.y,width:this.size.width,height:this.size.height}},set:function(e){this.position={x:e.x,y:e.y},this.size={width:e.width,height:e.height}},enumerable:!0,configurable:!0}),t.prototype.hasFeature=function(e){return e===model_2.moveFeature||e===model_1.boundsFeature||e===model_3.selectFeature||e===model_1.alignFeature},t}(PreRenderedElement);exports.ShapedPreRenderedElement=ShapedPreRenderedElement;

/***/ }),
/* 179 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var snabbdom=__webpack_require__(18),sgraph_1=__webpack_require__(46),JSX={createElement:snabbdom.svg},SvgViewportView=function(){function e(){}return e.prototype.render=function(e,r){var t="scale("+e.zoom+") translate("+-e.scroll.x+","+-e.scroll.y+")";return JSX.createElement("svg",null,JSX.createElement("g",{transform:t},r.renderChildren(e)))},e}();exports.SvgViewportView=SvgViewportView;var CircularNodeView=function(){function e(){}return e.prototype.render=function(e,r){var t=this.getRadius(e);return JSX.createElement("g",null,JSX.createElement("circle",{"class-sprotty-node":e instanceof sgraph_1.SNode,"class-sprotty-port":e instanceof sgraph_1.SPort,"class-mouseover":e.hoverFeedback,"class-selected":e.selected,r:t,cx:t,cy:t}),r.renderChildren(e))},e.prototype.getRadius=function(e){var r=Math.min(e.size.width,e.size.height);return r>0?r/2:0},e}();exports.CircularNodeView=CircularNodeView;var RectangularNodeView=function(){function e(){}return e.prototype.render=function(e,r){return JSX.createElement("g",null,JSX.createElement("rect",{"class-sprotty-node":e instanceof sgraph_1.SNode,"class-sprotty-port":e instanceof sgraph_1.SPort,"class-mouseover":e.hoverFeedback,"class-selected":e.selected,x:"0",y:"0",width:Math.max(e.size.width,0),height:Math.max(e.size.height,0)}),r.renderChildren(e))},e}();exports.RectangularNodeView=RectangularNodeView;

/***/ }),
/* 180 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),types_1=__webpack_require__(1),modelSourceModule=new inversify_1.ContainerModule(function(e){e(types_1.TYPES.ModelSourceProvider).toProvider(function(e){return function(){return new Promise(function(r){r(e.container.get(types_1.TYPES.ModelSource))})}})});exports.default=modelSourceModule;

/***/ }),
/* 181 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),__decorate=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}},__awaiter=this&&this.__awaiter||function(e,t,o,r){return new(o||(o=Promise))(function(n,i){function a(e){try{d(r.next(e))}catch(e){i(e)}}function s(e){try{d(r.throw(e))}catch(e){i(e)}}function d(e){e.done?n(e.value):new o(function(t){t(e.value)}).then(a,s)}d((r=r.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,t){function o(e){return function(t){return r([e,t])}}function r(o){if(n)throw new TypeError("Generator is already executing.");for(;d;)try{if(n=1,i&&(a=i[2&o[0]?"return":o[0]?"throw":"next"])&&!(a=a.call(i,o[1])).done)return a;switch(i=0,a&&(o=[0,a.value]),o[0]){case 0:case 1:a=o;break;case 4:return d.label++,{value:o[1],done:!1};case 5:d.label++,i=o[1],o=[0];continue;case 7:o=d.ops.pop(),d.trys.pop();continue;default:if(a=d.trys,!(a=a.length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){d=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){d.label=o[1];break}if(6===o[0]&&d.label<a[1]){d.label=a[1],a=o;break}if(a&&d.label<a[2]){d.label=a[2],d.ops.push(o);break}a[2]&&d.ops.pop(),d.trys.pop();continue}o=t.call(e,d)}catch(e){o=[6,e],i=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var n,i,a,s,d={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),async_1=__webpack_require__(184),types_1=__webpack_require__(1),action_handler_1=__webpack_require__(23),smodel_utils_1=__webpack_require__(6),set_model_1=__webpack_require__(31),smodel_1=__webpack_require__(2),bounds_manipulation_1=__webpack_require__(32),model_matching_1=__webpack_require__(64),update_model_1=__webpack_require__(65),hover_1=__webpack_require__(34),model_source_1=__webpack_require__(68),svg_exporter_1=__webpack_require__(24),file_saver_1=__webpack_require__(73),expand_1=__webpack_require__(43),diagram_state_1=__webpack_require__(97),LocalModelSource=function(e){function t(t,o,r,n,i,a,s){var d=e.call(this,t,o,r)||this;return d.logger=n,d.modelProvider=i,d.popupModelProvider=a,d.layoutEngine=s,d.currentRoot={type:"NONE",id:"ROOT"},d.diagramState={expansionState:new diagram_state_1.ExpansionState(d.currentRoot)},d.pendingUpdates=[],d}return __extends(t,e),Object.defineProperty(t.prototype,"model",{get:function(){return this.currentRoot},set:function(e){this.setModel(e)},enumerable:!0,configurable:!0}),t.prototype.initialize=function(t){e.prototype.initialize.call(this,t),t.registerCommand(update_model_1.UpdateModelCommand),t.register(bounds_manipulation_1.ComputedBoundsAction.KIND,this),t.register(hover_1.RequestPopupModelAction.KIND,this),t.register(expand_1.CollapseExpandAction.KIND,this),t.register(expand_1.CollapseExpandAllAction.KIND,this)},t.prototype.setModel=function(e){return this.currentRoot=e,this.diagramState={expansionState:new diagram_state_1.ExpansionState(e)},this.submitModel(e,!1)},t.prototype.updateModel=function(e){return void 0===e?this.submitModel(this.currentRoot,!0):(this.currentRoot=e,this.submitModel(e,!0))},t.prototype.submitModel=function(e,t){if(this.viewerOptions.needsClientLayout){var o=new async_1.Deferred;return this.pendingUpdates.push(o),this.actionDispatcher.dispatch(new bounds_manipulation_1.RequestBoundsAction(e)),o.promise}return this.doSubmitModel(e,t)},t.prototype.doSubmitModel=function(e,t,o){return __awaiter(this,void 0,void 0,function(){var r,n,i,a,s;return __generator(this,function(d){switch(d.label){case 0:if(void 0===this.layoutEngine)return[3,6];d.label=1;case 1:return d.trys.push([1,5,,6]),r=this.layoutEngine.layout(e,o),r instanceof Promise?[4,r]:[3,3];case 2:return e=d.sent(),[3,4];case 3:void 0!==r&&(e=r),d.label=4;case 4:return[3,6];case 5:return n=d.sent(),this.logger.error(this,n.toString(),n.stack),[3,6];case 6:return i=this.lastSubmittedModelType,(this.lastSubmittedModelType=e.type,a=this.pendingUpdates,this.pendingUpdates=[],t&&e.type===i)?(s=Array.isArray(t)?t:e,[4,this.actionDispatcher.dispatch(new update_model_1.UpdateModelAction(s))]):[3,8];case 7:return d.sent(),[3,10];case 8:return[4,this.actionDispatcher.dispatch(new set_model_1.SetModelAction(e))];case 9:d.sent(),d.label=10;case 10:return a.forEach(function(e){return e.resolve()}),[2]}})})},t.prototype.applyMatches=function(e){var t=this.currentRoot;return model_matching_1.applyMatches(t,e),this.submitModel(t,e)},t.prototype.addElements=function(e){for(var t=[],o=0,r=e;o<r.length;o++){var n=r[o],i=n;void 0!==i.element&&void 0!==i.parentId?t.push({right:i.element,rightParentId:i.parentId}):void 0!==i.id&&t.push({right:i,rightParentId:this.currentRoot.id})}return this.applyMatches(t)},t.prototype.removeElements=function(e){var t=[],o=new smodel_1.SModelIndex;o.add(this.currentRoot);for(var r=0,n=e;r<n.length;r++){var i=n[r],a=i;if(void 0!==a.elementId&&void 0!==a.parentId){var s=o.getById(a.elementId);void 0!==s&&t.push({left:s,leftParentId:a.parentId})}else{var s=o.getById(a);void 0!==s&&t.push({left:s,leftParentId:this.currentRoot.id})}}return this.applyMatches(t)},t.prototype.handle=function(e){switch(e.kind){case set_model_1.RequestModelAction.KIND:this.handleRequestModel(e);break;case bounds_manipulation_1.ComputedBoundsAction.KIND:this.handleComputedBounds(e);break;case hover_1.RequestPopupModelAction.KIND:this.handleRequestPopupModel(e);break;case svg_exporter_1.ExportSvgAction.KIND:this.handleExportSvgAction(e);break;case expand_1.CollapseExpandAction.KIND:this.handleCollapseExpandAction(e);break;case expand_1.CollapseExpandAllAction.KIND:this.handleCollapseExpandAllAction(e)}},t.prototype.handleRequestModel=function(e){this.modelProvider&&(this.currentRoot=this.modelProvider.getModel(this.diagramState,this.currentRoot)),this.submitModel(this.currentRoot,!1)},t.prototype.handleComputedBounds=function(e){var t=this.currentRoot,o=new smodel_1.SModelIndex;o.add(t);for(var r=0,n=e.bounds;r<n.length;r++){var i=n[r],a=o.getById(i.elementId);void 0!==a&&this.applyBounds(a,i.newBounds)}if(void 0!==e.alignments)for(var s=0,d=e.alignments;s<d.length;s++){var l=d[s],a=o.getById(l.elementId);void 0!==a&&this.applyAlignment(a,l.newAlignment)}this.doSubmitModel(t,!0,o)},t.prototype.applyBounds=function(e,t){var o=e;o.position={x:t.x,y:t.y},o.size={width:t.width,height:t.height}},t.prototype.applyAlignment=function(e,t){e.alignment={x:t.x,y:t.y}},t.prototype.handleRequestPopupModel=function(e){if(void 0!==this.popupModelProvider){var t=smodel_utils_1.findElement(this.currentRoot,e.elementId),o=this.popupModelProvider.getPopupModel(e,t);void 0!==o&&(o.canvasBounds=e.bounds,this.actionDispatcher.dispatch(new hover_1.SetPopupModelAction(o)))}},t.prototype.handleExportSvgAction=function(e){var t=new Blob([e.svg],{type:"text/plain;charset=utf-8"});file_saver_1.saveAs(t,"diagram.svg")},t.prototype.handleCollapseExpandAction=function(e){if(void 0!==this.modelProvider){this.diagramState.expansionState.apply(e);var t=this.modelProvider.getModel(this.diagramState,this.currentRoot);this.updateModel(t)}},t.prototype.handleCollapseExpandAllAction=function(e){if(void 0!==this.modelProvider){e.expand||this.diagramState.expansionState.collapseAll();var t=this.modelProvider.getModel(this.diagramState,this.currentRoot);this.updateModel(t)}},t=__decorate([inversify_1.injectable(),__param(0,inversify_1.inject(types_1.TYPES.IActionDispatcher)),__param(1,inversify_1.inject(types_1.TYPES.ActionHandlerRegistry)),__param(2,inversify_1.inject(types_1.TYPES.ViewerOptions)),__param(3,inversify_1.inject(types_1.TYPES.ILogger)),__param(4,inversify_1.inject(types_1.TYPES.StateAwareModelProvider)),__param(4,inversify_1.optional()),__param(5,inversify_1.inject(types_1.TYPES.IPopupModelProvider)),__param(5,inversify_1.optional()),__param(6,inversify_1.inject(types_1.TYPES.IModelLayoutEngine)),__param(6,inversify_1.optional()),__metadata("design:paramtypes",[Object,action_handler_1.ActionHandlerRegistry,Object,Object,Object,Object,Object])],t)}(model_source_1.ModelSource);exports.LocalModelSource=LocalModelSource;

/***/ }),
/* 182 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __decorate=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,g=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(e,t,o,r);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(g=(i<3?n(g):i>3?n(t,o,g):n(t,o))||g);return i>3&&g&&Object.defineProperty(t,o,g),g},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param=this&&this.__param||function(e,t){return function(o,r){t(o,r,e)}};Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),logging_1=__webpack_require__(71),types_1=__webpack_require__(1),LoggingAction=function(){function e(t,o,r,n,i){this.severity=t,this.time=o,this.caller=r,this.message=n,this.params=i,this.kind=e.KIND}return e.KIND="logging",e}();exports.LoggingAction=LoggingAction;var ForwardingLogger=function(){function e(e,t){this.modelSourceProvider=e,this.logLevel=t}return e.prototype.error=function(e,t){for(var o=[],r=2;r<arguments.length;r++)o[r-2]=arguments[r];this.logLevel>=logging_1.LogLevel.error&&this.forward(e,t,logging_1.LogLevel.error,o)},e.prototype.warn=function(e,t){for(var o=[],r=2;r<arguments.length;r++)o[r-2]=arguments[r];this.logLevel>=logging_1.LogLevel.warn&&this.forward(e,t,logging_1.LogLevel.warn,o)},e.prototype.info=function(e,t){for(var o=[],r=2;r<arguments.length;r++)o[r-2]=arguments[r];this.logLevel>=logging_1.LogLevel.info&&this.forward(e,t,logging_1.LogLevel.info,o)},e.prototype.log=function(e,t){for(var o=[],r=2;r<arguments.length;r++)o[r-2]=arguments[r];if(this.logLevel>=logging_1.LogLevel.log)try{var n="object"==typeof e?e.constructor.name:String(e);console.log.apply(e,[n+": "+t].concat(o))}catch(e){}},e.prototype.forward=function(e,t,o,r){var n=new Date,i=new LoggingAction(logging_1.LogLevel[o],n.toLocaleTimeString(),"object"==typeof e?e.constructor.name:String(e),t,r.map(function(e){return JSON.stringify(e)}));this.modelSourceProvider().then(function(o){try{o.handle(i)}catch(o){try{console.log.apply(e,[t,i,o])}catch(e){}}})},e=__decorate([inversify_1.injectable(),__param(0,inversify_1.inject(types_1.TYPES.ModelSourceProvider)),__param(1,inversify_1.inject(types_1.TYPES.LogLevel)),__metadata("design:paramtypes",[Function,Number])],e)}();exports.ForwardingLogger=ForwardingLogger;

/***/ }),
/* 183 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),__decorate=this&&this.__decorate||function(e,t,r,o){var n,i=arguments.length,c=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(c=(i<3?n(c):i>3?n(t,r,c):n(t,r))||c);return i>3&&c&&Object.defineProperty(t,r,c),c};Object.defineProperty(exports,"__esModule",{value:!0});var inversify_1=__webpack_require__(0),diagram_server_1=__webpack_require__(96),WebSocketDiagramServer=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.listen=function(e){var t=this;e.addEventListener("message",function(e){t.messageReceived(e.data)}),e.addEventListener("error",function(e){t.logger.error(t,"error event received",e)}),this.webSocket=e},t.prototype.disconnect=function(){this.webSocket&&(this.webSocket.close(),this.webSocket=void 0)},t.prototype.sendMessage=function(e){if(!this.webSocket)throw new Error("WebSocket is not connected");this.webSocket.send(JSON.stringify(e))},t=__decorate([inversify_1.injectable()],t)}(diagram_server_1.DiagramServer);exports.WebSocketDiagramServer=WebSocketDiagramServer;

/***/ }),
/* 184 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var Deferred=function(){function e(){var e=this;this.promise=new Promise(function(r,t){e.resolve=r,e.reject=t})}return e}();exports.Deferred=Deferred;

/***/ }),
/* 185 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function rgb(t,r,o){return{red:t,green:r,blue:o}}function toSVG(t){return"rgb("+t.red+","+t.green+","+t.blue+")"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.rgb=rgb,exports.toSVG=toSVG;var ColorMap=function(){function t(t){this.stops=t}return t.prototype.getColor=function(t){t=Math.max(0,Math.min(.99999999,t));var r=Math.floor(t*this.stops.length);return this.stops[r]},t}();exports.ColorMap=ColorMap;

/***/ }),
/* 186 */,
/* 187 */
/***/ (function(module, exports) {

module.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};

/***/ }),
/* 188 */,
/* 189 */,
/* 190 */,
/* 191 */,
/* 192 */
/***/ (function(module, exports) {

module.exports = function() {
	throw new Error("define cannot be used indirect");
};


/***/ }),
/* 193 */,
/* 194 */,
/* 195 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
Object.defineProperty(exports,"__esModule",{value:!0});var elkgraph_json_1=__webpack_require__(198),ElkGraphJsonToSprotty=function(){function t(){this.nodeIds=new Set,this.edgeIds=new Set,this.portIds=new Set,this.labelIds=new Set,this.sectionIds=new Set}return t.prototype.transform=function(t){var e=this,r={type:"graph",id:t.id||"root",children:[]};if(t.children){var n=t.children.map(function(t){return e.transformElkNode(t)});(o=r.children).push.apply(o,n)}if(t.edges){var i=t.edges.map(function(t){return e.transformElkEdge(t)});(s=r.children).push.apply(s,i)}return r;var o,s},t.prototype.transformElkNode=function(t){var e=this;this.checkAndRememberId(t,this.nodeIds);var r={type:"node",id:t.id,position:this.pos(t),size:this.size(t),children:[]};if(t.children){var n=t.children.map(function(t){return e.transformElkNode(t)});(d=r.children).push.apply(d,n)}if(t.ports){var i=t.ports.map(function(t){return e.transformElkPort(t)});(p=r.children).push.apply(p,i)}if(t.labels){var o=t.labels.map(function(t){return e.transformElkLabel(t)});(a=r.children).push.apply(a,o)}if(t.edges){var s=t.edges.map(function(t){return e.transformElkEdge(t)});(h=r.children).push.apply(h,s)}return r;var d,p,a,h},t.prototype.transformElkPort=function(t){var e=this;this.checkAndRememberId(t,this.portIds);var r={type:"port",id:t.id,position:this.pos(t),size:this.size(t),children:[]};if(t.labels){var n=t.labels.map(function(t){return e.transformElkLabel(t)});(i=r.children).push.apply(i,n)}return r;var i},t.prototype.transformElkLabel=function(t){return this.checkAndRememberId(t,this.labelIds),{type:"label",id:t.id,text:t.text,position:this.pos(t),size:this.size(t)}},t.prototype.transformElkEdge=function(t){var e=this;this.checkAndRememberId(t,this.edgeIds);var r={type:"edge",id:t.id,sourceId:"",targetId:"",routingPoints:[],children:[]};return elkgraph_json_1.isPrimitive(t)?(r.sourceId=t.source,r.targetId=t.target,t.sourcePoint&&r.routingPoints.push(t.sourcePoint),t.bendPoints&&(n=r.routingPoints).push.apply(n,t.bendPoints),t.targetPoint&&r.routingPoints.push(t.targetPoint)):elkgraph_json_1.isExtended(t)&&(r.sourceId=t.sources[0],r.targetId=t.targets[0],t.sections&&t.sections.forEach(function(t){e.checkAndRememberId(t,e.sectionIds),r.routingPoints.push(t.startPoint),t.bendPoints&&(n=r.routingPoints).push.apply(n,t.bendPoints),r.routingPoints.push(t.endPoint);var n})),t.junctionPoints&&t.junctionPoints.forEach(function(e,n){var i={type:"junction",id:t.id+"_j"+n,position:e};r.children.push(i)}),r;var n},t.prototype.pos=function(t){return{x:t.x||0,y:t.y||0}},t.prototype.size=function(t){return{width:t.width||0,height:t.height||0}},t.prototype.checkAndRememberId=function(t,e){if(void 0==t.id)throw Error("An element is missing an id.");if(e.has(t.id))throw Error("Duplicate id: "+t.id+".");e.add(t.id)},t}();exports.ElkGraphJsonToSprotty=ElkGraphJsonToSprotty;

/***/ }),
/* 196 */
/***/ (function(module, exports, __webpack_require__) {

var require;var require;!function(e){if(true)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.ELK=e()}}(function(){return function(){function e(r,t,o){function n(s,a){if(!t[s]){if(!r[s]){var u="function"==typeof require&&require;if(!a&&u)return require(s,!0);if(i)return i(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var c=t[s]={exports:{}};r[s][0].call(c.exports,function(e){return n(r[s][1][e]||e)},c,c.exports,e,r,t,o)}return t[s].exports}for(var i="function"==typeof require&&require,s=0;s<o.length;s++)n(o[s]);return n}return e}()({1:[function(e,r,t){"use strict";function o(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),r}}(),i=function(){function e(){var r=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.defaultLayoutOptions,i=void 0===n?{}:n,a=t.algorithms,u=void 0===a?["layered","stress","mrtree","radial","force","disco","sporeOverlap","sporeCompaction"]:a,f=t.workerFactory,c=t.workerUrl;if(o(this,e),this.defaultLayoutOptions=i,this.initialized=!1,void 0===c&&void 0===f)throw new Error("Cannot construct an ELK without both 'workerUrl' and 'workerFactory'.");var l=f;void 0!==c&&void 0===f&&(l=function(e){return new Worker(e)});var d=l(c);if("function"!=typeof d.postMessage)throw new TypeError("Created worker does not provide the required 'postMessage' function.");this.worker=new s(d),this.worker.postMessage({cmd:"register",algorithms:u}).then(function(e){return r.initialized=!0}).catch(console.err)}return n(e,[{key:"layout",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=r.layoutOptions,o=void 0===t?this.defaultLayoutOptions:t;return e?this.worker.postMessage({cmd:"layout",graph:e,options:o}):Promise.reject(new Error("Missing mandatory parameter 'graph'."))}},{key:"knownLayoutAlgorithms",value:function(){return this.worker.postMessage({cmd:"algorithms"})}},{key:"knownLayoutOptions",value:function(){return this.worker.postMessage({cmd:"options"})}},{key:"knownLayoutCategories",value:function(){return this.worker.postMessage({cmd:"categories"})}},{key:"terminateWorker",value:function(){this.worker.terminate()}}]),e}();t.default=i;var s=function(){function e(r){var t=this;if(o(this,e),void 0===r)throw new Error("Missing mandatory parameter 'worker'.");this.resolvers={},this.worker=r,this.worker.onmessage=function(e){setTimeout(function(){t.receive(t,e)},0)}}return n(e,[{key:"postMessage",value:function(e){var r=this.id||0;this.id=r+1,e.id=r;var t=this;return new Promise(function(o,n){t.resolvers[r]=function(e,r){e?n(e):o(r)},t.worker.postMessage(e)})}},{key:"receive",value:function(e,r){var t=r.data,o=e.resolvers[t.id];o&&(delete e.resolvers[t.id],t.error?o(t.error):o(null,t.data))}},{key:"terminate",value:function(){this.worker.terminate&&this.worker.terminate()}}]),e}()},{}],2:[function(e,r,t){"use strict";var o=e("./elk-api.js").default;Object.defineProperty(r.exports,"__esModule",{value:!0}),r.exports=o,o.default=o},{"./elk-api.js":1}]},{},[2])(2)});

/***/ }),
/* 197 */
/***/ (function(module, exports, __webpack_require__) {

var JSON5= true?exports:{};JSON5.parse=function(){"use strict";var r,n,t,e,i,o,f={"'":"'",'"':'"',"\\":"\\","/":"/","\n":"",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},u=[" ","\t","\r","\n","\v","\f","","\ufeff"],a=function(r){return""===r?"EOF":"'"+r+"'"},c=function(e){var o=new SyntaxError;throw o.message=e+" at line "+n+" column "+t+" of the JSON5 data. Still to read: "+JSON.stringify(i.substring(r-1,r+19)),o.at=r,o.lineNumber=n,o.columnNumber=t,o},s=function(o){return o&&o!==e&&c("Expected "+a(o)+" instead of "+a(e)),e=i.charAt(r),r++,t++,("\n"===e||"\r"===e&&"\n"!==l())&&(n++,t=0),e},l=function(){return i.charAt(r)},p=function(){var r=e;for("_"!==e&&"$"!==e&&(e<"a"||e>"z")&&(e<"A"||e>"Z")&&c("Bad identifier as unquoted key");s()&&("_"===e||"$"===e||e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9");)r+=e;return r},d=function(){var r,n="",t="",i=10;if("-"!==e&&"+"!==e||(n=e,s(e)),"I"===e)return r=N(),("number"!=typeof r||isNaN(r))&&c("Unexpected word for number"),"-"===n?-r:r;if("N"===e)return r=N(),isNaN(r)||c("expected word to be NaN"),r;switch("0"===e&&(t+=e,s(),"x"===e||"X"===e?(t+=e,s(),i=16):e>="0"&&e<="9"&&c("Octal literal")),i){case 10:for(;e>="0"&&e<="9";)t+=e,s();if("."===e)for(t+=".";s()&&e>="0"&&e<="9";)t+=e;if("e"===e||"E"===e)for(t+=e,s(),"-"!==e&&"+"!==e||(t+=e,s());e>="0"&&e<="9";)t+=e,s();break;case 16:for(;e>="0"&&e<="9"||e>="A"&&e<="F"||e>="a"&&e<="f";)t+=e,s()}if(r="-"===n?-t:+t,isFinite(r))return r;c("Bad number")},g=function(){var r,n,t,i,o="";if('"'===e||"'"===e)for(t=e;s();){if(e===t)return s(),o;if("\\"===e)if(s(),"u"===e){for(i=0,n=0;n<4&&(r=parseInt(s(),16),isFinite(r));n+=1)i=16*i+r;o+=String.fromCharCode(i)}else if("\r"===e)"\n"===l()&&s();else{if("string"!=typeof f[e])break;o+=f[e]}else{if("\n"===e)break;o+=e}}c("Bad string")},v=function(){"/"!==e&&c("Not an inline comment");do{if(s(),"\n"===e||"\r"===e)return void s()}while(e)},y=function(){"*"!==e&&c("Not a block comment");do{for(s();"*"===e;)if(s("*"),"/"===e)return void s("/")}while(e);c("Unterminated block comment")},b=function(){"/"!==e&&c("Not a comment"),s("/"),"/"===e?v():"*"===e?y():c("Unrecognized comment")},h=function(){for(;e;)if("/"===e)b();else{if(!(u.indexOf(e)>=0))return;s()}},N=function(){switch(e){case"t":return s("t"),s("r"),s("u"),s("e"),!0;case"f":return s("f"),s("a"),s("l"),s("s"),s("e"),!1;case"n":return s("n"),s("u"),s("l"),s("l"),null;case"I":return s("I"),s("n"),s("f"),s("i"),s("n"),s("i"),s("t"),s("y"),1/0;case"N":return s("N"),s("a"),s("N"),NaN}c("Unexpected "+a(e))},m=function(){var r=[];if("["===e)for(s("["),h();e;){if("]"===e)return s("]"),r;if(","===e?c("Missing array element"):r.push(o()),h(),","!==e)return s("]"),r;s(","),h()}c("Bad array")},S=function(){var r,n={};if("{"===e)for(s("{"),h();e;){if("}"===e)return s("}"),n;if(r='"'===e||"'"===e?g():p(),h(),s(":"),n[r]=o(),h(),","!==e)return s("}"),n;s(","),h()}c("Bad object")};return o=function(){switch(h(),e){case"{":return S();case"[":return m();case'"':case"'":return g();case"-":case"+":case".":return d();default:return e>="0"&&e<="9"?d():N()}},function(f,u){var a;return i=String(f),r=0,n=1,t=1,e=" ",a=o(),h(),e&&c("Syntax error"),"function"==typeof u?function r(n,t){var e,i,o=n[t];if(o&&"object"==typeof o)for(e in o)Object.prototype.hasOwnProperty.call(o,e)&&(i=r(o,e),void 0!==i?o[e]=i:delete o[e]);return u.call(n,t,o)}({"":a},""):a}}(),JSON5.stringify=function(r,n,t){function e(r){return r>="a"&&r<="z"||r>="A"&&r<="Z"||r>="0"&&r<="9"||"_"===r||"$"===r}function i(r){return r>="a"&&r<="z"||r>="A"&&r<="Z"||"_"===r||"$"===r}function o(r){if("string"!=typeof r)return!1;if(!i(r[0]))return!1;for(var n=1,t=r.length;n<t;){if(!e(r[n]))return!1;n++}return!0}function f(r){return Array.isArray?Array.isArray(r):"[object Array]"===Object.prototype.toString.call(r)}function u(r){return"[object Date]"===Object.prototype.toString.call(r)}function a(r){for(var n=0;n<g.length;n++)if(g[n]===r)throw new TypeError("Converting circular structure to JSON")}function c(r,n,t){if(!r)return"";r.length>10&&(r=r.substring(0,10));for(var e=t?"":"\n",i=0;i<n;i++)e+=r;return e}function s(r){return v.lastIndex=0,v.test(r)?'"'+r.replace(v,function(r){var n=y[r];return"string"==typeof n?n:"\\u"+("0000"+r.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+r+'"'}function l(r,n,t){var e,i,v=p(r,n,t);switch(v&&!u(v)&&(v=v.valueOf()),typeof v){case"boolean":return v.toString();case"number":return isNaN(v)||!isFinite(v)?"null":v.toString();case"string":return s(v.toString());case"object":if(null===v)return"null";if(f(v)){a(v),e="[",g.push(v);for(var y=0;y<v.length;y++)i=l(v,y,!1),e+=c(d,g.length),e+=null===i||void 0===i?"null":i,y<v.length-1?e+=",":d&&(e+="\n");g.pop(),v.length&&(e+=c(d,g.length,!0)),e+="]"}else{a(v),e="{";var b=!1;g.push(v);for(var h in v)if(v.hasOwnProperty(h)){var N=l(v,h,!1);t=!1,void 0!==N&&null!==N&&(e+=c(d,g.length),b=!0,n=o(h)?h:s(h),e+=n+":"+(d?" ":"")+N+",")}g.pop(),e=b?e.substring(0,e.length-1)+c(d,g.length)+"}":"{}"}return e;default:return}}if(n&&"function"!=typeof n&&!f(n))throw new Error("Replacer must be a function or an array");var p=function(r,t,e){var i=r[t];return i&&i.toJSON&&"function"==typeof i.toJSON&&(i=i.toJSON()),"function"==typeof n?n.call(r,t,i):n?e||f(r)||n.indexOf(t)>=0?i:void 0:i};JSON5.isWord=o;var d,g=[];t&&("string"==typeof t?d=t:"number"==typeof t&&t>=0&&(d=c(" ",t,!0)));var v=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,y={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},b={"":r};return void 0===r?p(b,"",!0):l(b,"",!0)};

/***/ }),
/* 198 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function isPrimitive(e){return void 0!==e.source&&void 0!==e.target}function isExtended(e){return void 0!==e.sources&&void 0!==e.targets}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isPrimitive=isPrimitive,exports.isExtended=isExtended;

/***/ }),
/* 199 */,
/* 200 */,
/* 201 */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_RESULT__;var LZString=function(){function o(o,r){if(!t[o]){t[o]={};for(var n=0;n<o.length;n++)t[o][o.charAt(n)]=n}return t[o][r]}var r=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",t={},i={compressToBase64:function(o){if(null==o)return"";var r=i._compress(o,6,function(o){return n.charAt(o)});switch(r.length%4){default:case 0:return r;case 1:return r+"===";case 2:return r+"==";case 3:return r+"="}},decompressFromBase64:function(r){return null==r?"":""==r?null:i._decompress(r.length,32,function(e){return o(n,r.charAt(e))})},compressToUTF16:function(o){return null==o?"":i._compress(o,15,function(o){return r(o+32)})+" "},decompressFromUTF16:function(o){return null==o?"":""==o?null:i._decompress(o.length,16384,function(r){return o.charCodeAt(r)-32})},compressToUint8Array:function(o){for(var r=i.compress(o),n=new Uint8Array(2*r.length),e=0,t=r.length;e<t;e++){var s=r.charCodeAt(e);n[2*e]=s>>>8,n[2*e+1]=s%256}return n},decompressFromUint8Array:function(o){if(null===o||void 0===o)return i.decompress(o);for(var n=new Array(o.length/2),e=0,t=n.length;e<t;e++)n[e]=256*o[2*e]+o[2*e+1];var s=[];return n.forEach(function(o){s.push(r(o))}),i.decompress(s.join(""))},compressToEncodedURIComponent:function(o){return null==o?"":i._compress(o,6,function(o){return e.charAt(o)})},decompressFromEncodedURIComponent:function(r){return null==r?"":""==r?null:(r=r.replace(/ /g,"+"),i._decompress(r.length,32,function(n){return o(e,r.charAt(n))}))},compress:function(o){return i._compress(o,16,function(o){return r(o)})},_compress:function(o,r,n){if(null==o)return"";var e,t,i,s={},p={},u="",c="",a="",l=2,f=3,h=2,d=[],m=0,v=0;for(i=0;i<o.length;i+=1)if(u=o.charAt(i),Object.prototype.hasOwnProperty.call(s,u)||(s[u]=f++,p[u]=!0),c=a+u,Object.prototype.hasOwnProperty.call(s,c))a=c;else{if(Object.prototype.hasOwnProperty.call(p,a)){if(a.charCodeAt(0)<256){for(e=0;e<h;e++)m<<=1,v==r-1?(v=0,d.push(n(m)),m=0):v++;for(t=a.charCodeAt(0),e=0;e<8;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}else{for(t=1,e=0;e<h;e++)m=m<<1|t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t=0;for(t=a.charCodeAt(0),e=0;e<16;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}l--,0==l&&(l=Math.pow(2,h),h++),delete p[a]}else for(t=s[a],e=0;e<h;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1;l--,0==l&&(l=Math.pow(2,h),h++),s[c]=f++,a=String(u)}if(""!==a){if(Object.prototype.hasOwnProperty.call(p,a)){if(a.charCodeAt(0)<256){for(e=0;e<h;e++)m<<=1,v==r-1?(v=0,d.push(n(m)),m=0):v++;for(t=a.charCodeAt(0),e=0;e<8;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}else{for(t=1,e=0;e<h;e++)m=m<<1|t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t=0;for(t=a.charCodeAt(0),e=0;e<16;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1}l--,0==l&&(l=Math.pow(2,h),h++),delete p[a]}else for(t=s[a],e=0;e<h;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1;l--,0==l&&(l=Math.pow(2,h),h++)}for(t=2,e=0;e<h;e++)m=m<<1|1&t,v==r-1?(v=0,d.push(n(m)),m=0):v++,t>>=1;for(;;){if(m<<=1,v==r-1){d.push(n(m));break}v++}return d.join("")},decompress:function(o){return null==o?"":""==o?null:i._decompress(o.length,32768,function(r){return o.charCodeAt(r)})},_decompress:function(o,n,e){var t,i,s,p,u,c,a,l=[],f=4,h=4,d=3,m="",v=[],w={val:e(0),position:n,index:1};for(t=0;t<3;t+=1)l[t]=t;for(s=0,u=Math.pow(2,2),c=1;c!=u;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=e(w.index++)),s|=(p>0?1:0)*c,c<<=1;switch(s){case 0:for(s=0,u=Math.pow(2,8),c=1;c!=u;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=e(w.index++)),s|=(p>0?1:0)*c,c<<=1;a=r(s);break;case 1:for(s=0,u=Math.pow(2,16),c=1;c!=u;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=e(w.index++)),s|=(p>0?1:0)*c,c<<=1;a=r(s);break;case 2:return""}for(l[3]=a,i=a,v.push(a);;){if(w.index>o)return"";for(s=0,u=Math.pow(2,d),c=1;c!=u;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=e(w.index++)),s|=(p>0?1:0)*c,c<<=1;switch(a=s){case 0:for(s=0,u=Math.pow(2,8),c=1;c!=u;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=e(w.index++)),s|=(p>0?1:0)*c,c<<=1;l[h++]=r(s),a=h-1,f--;break;case 1:for(s=0,u=Math.pow(2,16),c=1;c!=u;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=n,w.val=e(w.index++)),s|=(p>0?1:0)*c,c<<=1;l[h++]=r(s),a=h-1,f--;break;case 2:return v.join("")}if(0==f&&(f=Math.pow(2,d),d++),l[a])m=l[a];else{if(a!==h)return null;m=i+i.charAt(0)}v.push(m),l[h++]=i+m.charAt(0),f--,i=m,0==f&&(f=Math.pow(2,d),d++)}}};return i}(); true?!(__WEBPACK_AMD_DEFINE_RESULT__ = function(){return LZString}.call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)):"undefined"!=typeof module&&null!=module&&(module.exports=LZString);

/***/ }),
/* 202 */,
/* 203 */,
/* 204 */,
/* 205 */,
/* 206 */,
/* 207 */,
/* 208 */,
/* 209 */,
/* 210 */,
/* 211 */,
/* 212 */,
/* 213 */,
/* 214 */,
/* 215 */,
/* 216 */,
/* 217 */,
/* 218 */,
/* 219 */,
/* 220 */,
/* 221 */,
/* 222 */,
/* 223 */,
/* 224 */,
/* 225 */,
/* 226 */,
/* 227 */,
/* 228 */,
/* 229 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
function updateModel(){try{var e=JSON5.parse(editor.getValue());monaco.editor.setModelMarkers(editor.getModel(),"",[]),elk.layout(e).then(function(e){var r=(new elkgraph_to_sprotty_1.ElkGraphJsonToSprotty).transform(e);modelSource.updateModel(r)}).catch(function(e){var r=[errorToMarker(e)];monaco.editor.setModelMarkers(editor.getModel(),"",r)})}catch(e){var r=[errorToMarker(e)];monaco.editor.setModelMarkers(editor.getModel(),"",r)}}function errorToMarker(e){return{severity:monaco.Severity.Error,startLineNumber:e.lineNumber||0,startColumn:e.columnNumber||0,message:e.message}}Object.defineProperty(exports,"__esModule",{value:!0}),__webpack_require__(106);var lib_1=__webpack_require__(37),url_parameters_1=__webpack_require__(105),sprotty_config_1=__webpack_require__(104),elkgraph_to_sprotty_1=__webpack_require__(195),elk_api_1=__webpack_require__(196),JSON5=__webpack_require__(197),LZString=__webpack_require__(201),urlParameters=url_parameters_1.getParameters(),initialContent;initialContent=void 0!==urlParameters.compressedContent?LZString.decompressFromEncodedURIComponent(urlParameters.compressedContent):void 0!==urlParameters.initialContent?decodeURIComponent(urlParameters.initialContent):'{\n  id: "root",\n  properties: { \'algorithm\': \'layered\' },\n  children: [\n    { id: "n1", width: 30, height: 30 },\n    { id: "n2", width: 30, height: 30 },\n    { id: "n3", width: 30, height: 30 }\n  ],\n  edges: [\n    { id: "e1", sources: [ "n1" ], targets: [ "n2" ] },\n    { id: "e2", sources: [ "n1" ], targets: [ "n3" ] } \n  ]\n}',monaco.languages.register({id:"json",extensions:[".json"],aliases:["JSON","json"],mimetypes:["application/json"]});var editor=monaco.editor.create(document.getElementById("monaco-editor"),{model:monaco.editor.createModel(initialContent,"json",monaco.Uri.parse("inmemory:/model.json"))});editor.updateOptions({minimap:{enabled:!1}});var sprottyContainer=sprotty_config_1.default();sprottyContainer.bind(lib_1.TYPES.ModelSource).to(lib_1.LocalModelSource).inSingletonScope();var modelSource=sprottyContainer.get(lib_1.TYPES.ModelSource),elk=new elk_api_1.default({workerUrl:"./elk/elk-worker.min.js"});editor.getModel().onDidChangeContent(function(e){return updateModel()}),updateModel(),url_parameters_1.setupModelLink(editor,function(e){return{compressedContent:LZString.compressToEncodedURIComponent(editor.getValue())}});

/***/ }),
/* 230 */,
/* 231 */,
/* 232 */,
/* 233 */,
/* 234 */,
/* 235 */
/***/ (function(module, exports, __webpack_require__) {

window.onload=function(){window.require(["vs/editor/editor.main"],function(){__webpack_require__(229)})};

/***/ })
/******/ ]);
//# sourceMappingURL=json.bundle.js.map